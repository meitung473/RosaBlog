<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/shan-logo-appletouch.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/shan-logo.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/shan-logo-16X16.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"blog.rosa.tw",root:"/",scheme:"Gemini",version:"8.0.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,"Pisces | Gemini":240},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"buttons",active:!0,storage:!0,lazyload:!0,nav:{disqus:{text:"ç•™è¨€å€",order:-1}},"Available values":"disqus"},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"æœå°‹...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"},path:"search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S8ZEBJDRWG"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S8ZEBJDRWG")</script><meta name="description" content="å½±ç‰‡é€£çµ :  Live ğŸ”´: TypeScript Crash Course with Matt Pocock - YouTube  æ‘˜è¦ è·Ÿè‘— Matt Pocock å¾åŸºç¤å­¸ç¿’ TypeScriptã€‚ä¸€ç›´éƒ½æƒ³å­¸ç¿’ TypeScriptï¼Œæˆ‘åªçŸ¥é“ä»–æ˜¯æœ‰å‹åˆ¥çš„ JavaScriptï¼Œé¿å… JavaScript åŒ…å±±åŒ…æµ·äº‚è®Šå½¢çš„è©­ç•°å•é¡Œã€‚ æ“‡æ—¥ä¸å¦‚æ’æ—¥ï¼Œå‰›å¥½ vscode å®˜æ–¹ç†±é¨°é¨°çš„æ•™å­¸å‡ºä¾†"><meta property="og:type" content="article"><meta property="og:title" content="ç­†è¨˜ | TypeScript - åˆæ¢ TypeScript"><meta property="og:url" content="https://blog.rosa.tw/2022/09/TypeScript/TypeScript-first-time-meet-TypeScript"><meta property="og:site_name" content="å¥å¿˜é›œè¨˜"><meta property="og:description" content="å½±ç‰‡é€£çµ :  Live ğŸ”´: TypeScript Crash Course with Matt Pocock - YouTube  æ‘˜è¦ è·Ÿè‘— Matt Pocock å¾åŸºç¤å­¸ç¿’ TypeScriptã€‚ä¸€ç›´éƒ½æƒ³å­¸ç¿’ TypeScriptï¼Œæˆ‘åªçŸ¥é“ä»–æ˜¯æœ‰å‹åˆ¥çš„ JavaScriptï¼Œé¿å… JavaScript åŒ…å±±åŒ…æµ·äº‚è®Šå½¢çš„è©­ç•°å•é¡Œã€‚ æ“‡æ—¥ä¸å¦‚æ’æ—¥ï¼Œå‰›å¥½ vscode å®˜æ–¹ç†±é¨°é¨°çš„æ•™å­¸å‡ºä¾†"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://i.imgur.com/U9tQhV3.png"><meta property="og:image" content="https://i.imgur.com/Oo0jcFb.png"><meta property="og:image" content="https://i.imgur.com/lrmjp2a.png"><meta property="og:image" content="https://i.imgur.com/5iQbhoa.png"><meta property="og:image" content="https://i.imgur.com/upuhvfl.png"><meta property="og:image" content="https://i.imgur.com/Bm3d7Ul.png"><meta property="article:published_time" content="2022-09-06T20:25:55.000Z"><meta property="article:modified_time" content="2022-09-08T01:27:09.407Z"><meta property="article:author" content="Rosa Hong"><meta property="article:tag" content="TypeScript"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.imgur.com/U9tQhV3.png"><link rel="canonical" href="https://blog.rosa.tw/2022/09/TypeScript/TypeScript-first-time-meet-TypeScript.html"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-TW"}</script><title>ç­†è¨˜ | TypeScript - åˆæ¢ TypeScript | å¥å¿˜é›œè¨˜</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-S8ZEBJDRWG"></script><script>if(CONFIG.hostname===location.hostname){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S8ZEBJDRWG")}</script><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/atom.xml" title="å¥å¿˜é›œè¨˜" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ›å°èˆªæ¬„"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">å¥å¿˜é›œè¨˜</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">ç´€éŒ„å­¸ç¿’èˆ‡ç”Ÿæ´»</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> é¦–é </a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> æ¨™ç±¤<span class="badge">27</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> åˆ†é¡<span class="badge">18</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> æ­¸æª”<span class="badge">59</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> æœå°‹</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="æœå°‹..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> æ–‡ç« ç›®éŒ„</li><li class="sidebar-nav-overview"> æœ¬ç«™æ¦‚è¦</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%91%98%E8%A6%81-6"><span class="nav-number">1.</span> <span class="nav-text">æ‘˜è¦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD"><span class="nav-number">2.</span> <span class="nav-text">å‰ç½®ä½œæ¥­</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B0%A1%E5%96%AE%E8%AA%8D%E8%AD%98-TypeScript"><span class="nav-number">3.</span> <span class="nav-text">ç°¡å–®èªè­˜ TypeScript</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%9E%E9%8C%AF%E8%AA%A4%E6%89%BE%E8%A8%8A%E6%81%AF"><span class="nav-number">4.</span> <span class="nav-text">å¾éŒ¯èª¤æ‰¾è¨Šæ¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript-error-Translator"><span class="nav-number">5.</span> <span class="nav-text">TypeScript error Translator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%AD%A3%E9%8C%AF%E8%AA%A4-%E6%AD%A3%E7%A2%BA%E6%8C%87%E5%87%BA%E5%9E%8B%E5%88%A5"><span class="nav-number">6.</span> <span class="nav-text">ä¿®æ­£éŒ¯èª¤ : æ­£ç¢ºæŒ‡å‡ºå‹åˆ¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TS-%E7%82%BA%E4%BB%80%E9%BA%BC%E5%9C%A8-function-%E8%A3%A1%E4%B8%8D%E6%9C%83%E8%87%AA%E5%8B%95%E6%8C%87%E5%90%91%E6%AD%A3%E7%A2%BA%E7%9A%84%E5%9E%8B%E5%88%A5"><span class="nav-number">7.</span> <span class="nav-text">TS ç‚ºä»€éº¼åœ¨ function è£¡ä¸æœƒè‡ªå‹•æŒ‡å‘æ­£ç¢ºçš„å‹åˆ¥ ?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8%E5%B0%88%E6%A1%88%E4%B8%AD%E6%89%BE%E5%87%BA%E8%A6%81%E4%BF%AE%E6%AD%A3%E7%9A%84-TS-%E6%AA%94%E6%A1%88"><span class="nav-number">8.</span> <span class="nav-text">åœ¨å°ˆæ¡ˆä¸­æ‰¾å‡ºè¦ä¿®æ­£çš„ TS æª”æ¡ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%BD%E4%BD%BF%E7%94%A8-any-%E6%9C%83%E6%80%8E%E9%BA%BC%E6%A8%A3%E5%97%8E"><span class="nav-number">9.</span> <span class="nav-text">éƒ½ä½¿ç”¨ any æœƒæ€éº¼æ¨£å— ?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E9%BA%BC%E6%99%82%E5%80%99%E7%94%A8-any"><span class="nav-number">9.1.</span> <span class="nav-text">ä»€éº¼æ™‚å€™ç”¨ any ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-any-v-s-unknown"><span class="nav-number">9.2.</span> <span class="nav-text">è£œå…… : any v.s unknown</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TS-%E5%9C%A8-runtime-%E4%B8%AD%E4%B8%8D%E6%9C%83%E6%9C%89%E4%BB%BB%E4%BD%95%E4%BD%9C%E7%94%A8"><span class="nav-number">10.</span> <span class="nav-text">TS åœ¨ runtime ä¸­ä¸æœƒæœ‰ä»»ä½•ä½œç”¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9E%E5%82%B3%E5%80%BC%E5%8A%A0%E4%B8%8A%E5%9E%8B%E5%88%A5"><span class="nav-number">11.</span> <span class="nav-text">å›å‚³å€¼åŠ ä¸Šå‹åˆ¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6%E7%9A%84%E5%9E%8B%E5%88%A5-Object-type"><span class="nav-number">12.</span> <span class="nav-text">ç‰©ä»¶çš„å‹åˆ¥ (Object type)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#type"><span class="nav-number">12.1.</span> <span class="nav-text">type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#inline-arguments"><span class="nav-number">12.2.</span> <span class="nav-text">inline arguments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Interface"><span class="nav-number">12.3.</span> <span class="nav-text">Interface</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-type-v-s-Interface"><span class="nav-number">12.4.</span> <span class="nav-text">è£œå…… : type v.s Interface</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6%E8%A7%A3%E6%A7%8B%E5%AE%9A%E7%BE%A9%E5%9E%8B%E5%88%A5"><span class="nav-number">13.</span> <span class="nav-text">ç‰©ä»¶è§£æ§‹å®šç¾©å‹åˆ¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#optional"><span class="nav-number">14.</span> <span class="nav-text">optional</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6%E7%9A%84%E5%9E%8B%E5%88%A5"><span class="nav-number">14.1.</span> <span class="nav-text">ç‰©ä»¶çš„å‹åˆ¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%83%E6%95%B8%E5%9E%8B%E5%88%A5"><span class="nav-number">14.2.</span> <span class="nav-text">åƒæ•¸å‹åˆ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A0%90%E8%A8%AD%E5%80%BC%E4%B8%8D%E8%83%BD%E8%88%87-optional-%E5%90%8C%E6%99%82%E5%AD%98%E5%9C%A8"><span class="nav-number">14.2.1.</span> <span class="nav-text">é è¨­å€¼ä¸èƒ½èˆ‡ optional åŒæ™‚å­˜åœ¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%80%8B-optional-%E5%8F%83%E6%95%B8"><span class="nav-number">14.2.2.</span> <span class="nav-text">å¤šå€‹ optional åƒæ•¸</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E5%BC%8F%E4%B8%AD%E7%9A%84%E5%85%B6%E9%A4%98%E5%8F%83%E6%95%B8-rest-parameter"><span class="nav-number">15.</span> <span class="nav-text">å‡½å¼ä¸­çš„å…¶é¤˜åƒæ•¸ (rest parameter)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Type-assertion-v-s-Type-annotation"><span class="nav-number">16.</span> <span class="nav-text">Type assertion v.s Type annotation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scope-%E7%9A%84%E5%95%8F%E9%A1%8C"><span class="nav-number">17.</span> <span class="nav-text">Scope çš„å•é¡Œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Discriminated-Unions-%E9%81%B8%E6%93%87%E4%B8%80%E5%80%8B"><span class="nav-number">18.</span> <span class="nav-text">Discriminated Unions (|) : é¸æ“‡ä¸€å€‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-Enum-%E6%9E%9A%E8%88%89"><span class="nav-number">18.1.</span> <span class="nav-text">è£œå…… : Enum æšèˆ‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-%E7%9A%84%E5%85%A9%E7%A8%AE%E7%94%A8%E6%B3%95"><span class="nav-number">19.</span> <span class="nav-text">Array çš„å…©ç¨®ç”¨æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E9%9B%86%E5%9E%8B%E5%88%A5-Intersection-Types-%E5%90%88%E4%BD%B5%E5%A4%A7%E6%B3%95"><span class="nav-number">20.</span> <span class="nav-text">äº¤é›†å‹åˆ¥ Intersection Types (&amp;) : åˆä½µå¤§æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-interface-%E7%9A%84-extends-v-s-Intersection-Types"><span class="nav-number">20.1.</span> <span class="nav-text">è£œå…… : interface çš„ extends v.s Intersection Types</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B5%84%E5%90%88%E6%8A%80-Intersection-Types-Discriminated-Unions"><span class="nav-number">21.</span> <span class="nav-text">çµ„åˆæŠ€ Intersection Types + Discriminated Unions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%8D%E6%8B%86%E8%A7%A3"><span class="nav-number">21.1.</span> <span class="nav-text">å†æ‹†è§£</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A2%AB%E6%8F%90%E5%88%B0%E4%BD%86%E6%B2%92%E8%A7%A3%E7%AD%94-decorator"><span class="nav-number">22.</span> <span class="nav-text">è¢«æåˆ°ä½†æ²’è§£ç­” : @decorator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E5%89%A9%E4%B8%8B%E7%9A%84%E9%A1%8C%E7%9B%AE"><span class="nav-number">23.</span> <span class="nav-text">è§£å‰©ä¸‹çš„é¡Œç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#09-10-%E5%9E%8B%E5%88%A5%E6%96%B7%E8%A8%80-Type-Assertion"><span class="nav-number">23.1.</span> <span class="nav-text">09 &amp; 10 å‹åˆ¥æ–·è¨€ Type Assertion</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#09-promises-problem"><span class="nav-number">23.1.1.</span> <span class="nav-text">09 promises problem</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-%E4%BB%80%E9%BA%BC%E6%98%AF%E6%B3%9B%E5%9E%8B-Generics"><span class="nav-number">23.1.2.</span> <span class="nav-text">è£œå…… : ä»€éº¼æ˜¯æ³›å‹ (Generics) ?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-Set-Problem"><span class="nav-number">23.1.3.</span> <span class="nav-text">10 Set Problem</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-Records"><span class="nav-number">23.2.</span> <span class="nav-text">11 Records</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-1-Bracket-notation"><span class="nav-number">23.2.1.</span> <span class="nav-text">è§£æ³• 1 : Bracket notation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-2-inline-%E5%AF%AB%E6%B3%95"><span class="nav-number">23.2.2.</span> <span class="nav-text">è§£æ³• 2 : inline å¯«æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-3-Records"><span class="nav-number">23.2.3.</span> <span class="nav-text">è§£æ³• 3 : Records</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-%E9%99%90%E7%B8%AE-Narrowing-typeof-guards"><span class="nav-number">23.3.</span> <span class="nav-text">12 é™ç¸® Narrowing + typeof guards</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-try-catch-%E4%B8%AD%E7%9A%84%E9%8C%AF%E8%AA%A4%E8%99%95%E7%90%86"><span class="nav-number">23.4.</span> <span class="nav-text">13 try catch ä¸­çš„éŒ¯èª¤è™•ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-1-Type-Assertion"><span class="nav-number">23.4.1.</span> <span class="nav-text">è§£æ³• 1 : Type Assertion</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-2-any"><span class="nav-number">23.4.2.</span> <span class="nav-text">è§£æ³• 2 : any</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95-3-instance-of"><span class="nav-number">23.4.3.</span> <span class="nav-text">è§£æ³• 3 : instance of</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-extends-interface-%E7%89%A9%E4%BB%B6%E6%93%B4%E5%85%85"><span class="nav-number">23.5.</span> <span class="nav-text">14 extends : interface ç‰©ä»¶æ“´å……</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-intersection-%E7%89%A9%E4%BB%B6%E4%BA%A4%E9%9B%86%E5%90%88%E4%BD%B5"><span class="nav-number">23.6.</span> <span class="nav-text">15 intersection : ç‰©ä»¶äº¤é›†åˆä½µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-omit-and-pick"><span class="nav-number">23.7.</span> <span class="nav-text">16 omit and pick</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-function-types"><span class="nav-number">23.8.</span> <span class="nav-text">17 function types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-Promise-function"><span class="nav-number">23.9.</span> <span class="nav-text">18 Promise function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B8%BD%E7%B5%90-22"><span class="nav-number">24.</span> <span class="nav-text">ç¸½çµ</span></a></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Rosa Hong" src="/images/RosaBlog-LOGO.png"><p class="site-author-name" itemprop="name">Rosa Hong</p><div class="site-description" itemprop="description">èœé³¥èµ·é£›ä¸­</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">59</span> <span class="site-state-item-name">æ–‡ç« </span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">18</span> <span class="site-state-item-name">åˆ†é¡</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">æ¨™ç±¤</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/meitung473" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;meitung473" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a></span><span class="links-of-author-item"><a href="mailto:a8870506@gmail.com" title="è¯çµ¡æˆ‘ â†’ mailto:a8870506@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a></span><span class="links-of-author-item"><a href="https://www.facebook.com/yanshan.hong1" title="Rosa Hong â†’ https:&#x2F;&#x2F;www.facebook.com&#x2F;yanshan.hong1" rel="noopener" target="_blank"><i class="fa fa-facebook fa-fw"></i></a></span></div></section></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW"><link itemprop="mainEntityOfPage" href="https://blog.rosa.tw/2022/09/TypeScript/TypeScript-first-time-meet-TypeScript"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/RosaBlog-LOGO.png"><meta itemprop="name" content="Rosa Hong"><meta itemprop="description" content="èœé³¥èµ·é£›ä¸­"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¥å¿˜é›œè¨˜"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> ç­†è¨˜ | TypeScript - åˆæ¢ TypeScript</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span> <time title="å‰µå»ºæ™‚é–“ï¼š2022-09-07 04:25:55" itemprop="dateCreated datePublished" datetime="2022-09-07T04:25:55+08:00">2022-09-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">åˆ†é¡æ–¼</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Front-end/" itemprop="url" rel="index"><span itemprop="name">Front-end</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Front-end/TypeScript/" itemprop="url" rel="index"><span itemprop="name">TypeScript</span></a></span></span></div><div class="post-meta"><span class="post-meta-item" title="æ–‡ç« å­—æ•¸"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">æ–‡ç« å­—æ•¸ï¼š</span> <span>27k</span></span><span class="post-meta-item" title="æ‰€éœ€é–±è®€æ™‚é–“"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">æ‰€éœ€é–±è®€æ™‚é–“ &asymp;</span> <span>24 åˆ†é˜</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>å½±ç‰‡é€£çµ : <a href="https://www.youtube.com/watch?v=p6dO9u0M7MQ&amp;t">Live ğŸ”´: TypeScript Crash Course with Matt Pocock - YouTube</a></p></blockquote><h2 id="æ‘˜è¦-6">æ‘˜è¦</h2><p>è·Ÿè‘— Matt Pocock å¾åŸºç¤å­¸ç¿’ TypeScriptã€‚ä¸€ç›´éƒ½æƒ³å­¸ç¿’ TypeScriptï¼Œæˆ‘åªçŸ¥é“ä»–æ˜¯æœ‰å‹åˆ¥çš„ JavaScriptï¼Œé¿å… JavaScript åŒ…å±±åŒ…æµ·äº‚è®Šå½¢çš„è©­ç•°å•é¡Œã€‚</p><p>æ“‡æ—¥ä¸å¦‚æ’æ—¥ï¼Œå‰›å¥½ <code>vscode</code> å®˜æ–¹ç†±é¨°é¨°çš„æ•™å­¸å‡ºä¾†ï¼Œé‚£å°±ç›´æ¥ä¾†å­¸ç¿’å§ ! ğŸ˜„</p><p>å½±ç‰‡æœ‰ç·´ç¿’çš„å°ˆæ¡ˆï¼Œå°±ä¸å·æ¸¡äº†ï¼Œæœ‰èˆˆè¶£å¯ä»¥åˆ°å½±ç‰‡é€£çµä¸‹è¼‰ã€‚<br> é™¤äº†åˆéšï¼Œæ›´å‰äº›æ™‚æ®µæœ‰å‡ºé€²éšçš„è¬›åº§ : <a href="https://www.youtube.com/watch?v=hBk4nV7q6-w">LIVE ğŸ”´: TypeScript tips and Tricks with Matt - YouTube</a></p><span id="more"></span><h2 id="å‰ç½®ä½œæ¥­">å‰ç½®ä½œæ¥­</h2><p>å°ˆæ¡ˆæ˜¯ä½¿ç”¨æ¸¬è©¦çš„æ–¹å¼ä¾†æª¢æ¸¬æ¯å€‹æª”æ¡ˆæ¸¬é©—æ˜¯å¦é€šéï¼Œæ‰€ä»¥è¦å…ˆæŠŠå°ˆæ¡ˆçš„æ¶æ§‹è£å¥½ï¼Œå°ˆæ¡ˆæ˜¯ä½¿ç”¨ <code>yarn</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn</span><br></pre></td></tr></table></figure><p>è¦æ¸¬è©¦æ˜¯å¦é€šéï¼Œå°±æœƒè·³å‡ºæ¸¬è©¦çµæœ</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">yarn</span> exercise <span class="number">01</span> </span><br></pre></td></tr></table></figure><h2 id="ç°¡å–®èªè­˜-TypeScript">ç°¡å–®èªè­˜ TypeScript</h2><p>TypeScript æ˜¯ä¸€å€‹è¨å­çš„è‹±èªè€å¸«ğŸ¤£ï¼Œå®ƒæœƒä¸€ç›´ç³¾æ­£ä½ çš„æ–‡æ³• (å‹åˆ¥) éŒ¯èª¤ğŸ˜¡ï¼Œåªè¦éŒ¯äº†è€å¸«å°±æœƒç•«ç´…ç·šã€‚</p><p>é–‹ç™¼è€…çš„ä»»å‹™å°±æ˜¯æŠŠéŒ¯èª¤çµ¦æ­£ç¢ºåœ°ç³¾æ­£éä¾†ï¼Œç•¶å€‹å¥½å­¸ç”Ÿã€‚</p><h2 id="å¾éŒ¯èª¤æ‰¾è¨Šæ¯">å¾éŒ¯èª¤æ‰¾è¨Šæ¯</h2><p>ç•¶ä¸­åœ¨ç·¨è¼¯å™¨å‡ºç¾ç´…ç·šï¼ŒéŒ¯èª¤é¡¯ç¤º :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Parameter</span> <span class="string">&#x27;a&#x27;</span> implicitly has an <span class="string">&#x27;any&#x27;</span> type.</span><br></pre></td></tr></table></figure><blockquote><p>ç·¨è¼¯å™¨ä¸çŸ¥é“ a åˆ°åº•æ˜¯ä»€éº¼é¡å‹ï¼Œè‡ªå‹•åŠ è¨»éš±æ€§é¡å‹ â€œanyâ€</p></blockquote><p>è‹±æ–‡è€å¸«èªªä½ æœ‰éŒ¯ğŸ˜¡ï¼Œå«ä½ æ”¹ã€‚</p><h2 id="TypeScript-error-Translator">TypeScript error Translator</h2><p>éŒ¯èª¤çœ‹ä¸æ‡‚å— ? æ²’é—œä¿‚ï¼ŒMatt ç«Ÿç„¶åšäº†ä¸€å€‹å‹å–„ç‰ˆçš„éŒ¯èª¤é¡¯ç¤ºï¼Œå« <strong>TypeScript Error Translator</strong>ï¼Œç”¨ Extension å°±å¯ä»¥å®‰è£ã€‚</p><p>ğŸ‘‰ Extension é€£çµ : <a href="https://marketplace.visualstudio.com/items?itemName=mattpocock.ts-error-translator">TypeScript Error Translator - Visual Studio Marketplace</a></p><p><img data-src="https://i.imgur.com/U9tQhV3.png" alt="æ­æ‹‰ ! ç”¨ç™½è©±çš„æ–¹å¼å‘Šè¨´æˆ‘å€‘éŒ¯èª¤"></p><h2 id="ä¿®æ­£éŒ¯èª¤-æ­£ç¢ºæŒ‡å‡ºå‹åˆ¥">ä¿®æ­£éŒ¯èª¤ : æ­£ç¢ºæŒ‡å‡ºå‹åˆ¥</h2><p>ä»¥ 01 é¡Œç‚ºä¾‹ï¼ŒJavaScript çš„æ•¸å­—é¡å‹åªæœ‰ number ï¼Œæˆ‘å€‘è¦ç”¨ <code>number</code>ï¼Œä¾†è¾¨åˆ¥ a ã€ b çš„å‹åˆ¥</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">a:<span class="built_in">number</span>, b:<span class="built_in">number</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="TS-ç‚ºä»€éº¼åœ¨-function-è£¡ä¸æœƒè‡ªå‹•æŒ‡å‘æ­£ç¢ºçš„å‹åˆ¥">TS ç‚ºä»€éº¼åœ¨ function è£¡ä¸æœƒè‡ªå‹•æŒ‡å‘æ­£ç¢ºçš„å‹åˆ¥ ?</h2><p>å•é¡Œé»åœ¨æ–¼ <strong>é–‹ç™¼è€…çŸ¥é“è‡ªå·±ä¸Ÿé€²å»çš„ function åƒæ•¸æ˜¯ä»€éº¼å‹åˆ¥ï¼Œé‚£ç‚ºä»€éº¼æˆ‘å€‘é‚„è¦ç‰¹åˆ¥æ›¿åƒæ•¸åŠ ä¸Šå‹åˆ¥ ?</strong></p><p>å¯ä»¥æƒ³åƒ TS åœ¨ function åŠ ä¸Šå‹åˆ¥æ˜¯å¹«åŠ©å‡½å¼é€²è¡Œ <strong>æ¨ç†</strong>ï¼Œæˆ‘å€‘çŸ¥é“ <strong>åŠ è™Ÿ</strong> æ˜¯é‹ç®—å­ï¼Œä¸åªæ˜¯æ•¸å­—ï¼Œè€Œ <code>+</code> åœ¨ä¸åŒçš„å‹åˆ¥æœƒæœ‰ä¸åŒçµæœ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯èƒ½ç­‰æ–¼ æ•¸å­— ç›¸åŠ </span></span><br><span class="line">(a : <span class="built_in">number</span>, b : <span class="built_in">number</span>)</span><br><span class="line">a + b = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯èƒ½ç­‰æ–¼ å­—ä¸² ç›¸åŠ </span></span><br><span class="line">(a : <span class="built_in">string</span>, b : <span class="built_in">string</span>)</span><br><span class="line">a + b = firstName + lastName</span><br></pre></td></tr></table></figure><p>å¾é€™è£¡å°±å¯ä»¥çŸ¥é“ <em>å¦‚æœæ²’æœ‰å‹åˆ¥</em>ï¼Œfunction æœƒä¾é è¼¸å…¥çš„å‹åˆ¥æœƒè·‘å‡ºå…©ç¨®çµæœï¼Œèˆ‡å…¶ç­‰åˆ°è·‘å‡ºçµæœå†ç³¾æ­£ï¼Œä¸å¦‚åœ¨é€²å…¥é‹ç®—å‰å°±æŒ‡å‡ºéŒ¯èª¤ã€‚</p><p>é‚£ç‚ºä»€éº¼ <strong>å®£å‘Šè®Šæ•¸</strong> ä¸ç”¨åŠ å…¥å‹åˆ¥å‘¢ ?</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ æˆ‘å€‘ä¸ç”¨é€™æ¨£</span></span><br><span class="line"><span class="keyword">const</span> firstName : string = <span class="string">&#x27;Rosa&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨å»ºç«‹æ™‚å·²ç¶“æŠŠ string çš„å‹åˆ¥åˆ†é…çµ¦ <code>firstName</code> ï¼Œ TS çŸ¥é“å®ƒä¸€é–‹å§‹å°±æœ‰é¡åˆ¥ã€‚</p><p>function å°±å¦‚ä¸Šé¢æ‰€èªªï¼Œä¸çŸ¥é“ <strong>å°‡ä¾†çš„è¼¸å…¥ä¾†æº</strong> ä¾†è‡ªä»€éº¼ï¼Œæ‰€ä»¥ä¸€é–‹å§‹æˆ‘å€‘åœ¨é™åˆ¶è¼¸å…¥çš„å‹åˆ¥ï¼Œè®“ TS ä¹Ÿèƒ½æ¨ç†å‡ºæˆ‘å€‘é æœŸçš„è¼¸å‡ºçš„å‹åˆ¥ã€‚</p><h2 id="åœ¨å°ˆæ¡ˆä¸­æ‰¾å‡ºè¦ä¿®æ­£çš„-TS-æª”æ¡ˆ">åœ¨å°ˆæ¡ˆä¸­æ‰¾å‡ºè¦ä¿®æ­£çš„ TS æª”æ¡ˆ</h2><ul><li>æ¸¬è©¦å°ˆæ¡ˆä¸­çš„æ‰€æœ‰çš„ <code>.ts</code> æª”æ˜¯å¦é€šé :</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn tsc</span><br></pre></td></tr></table></figure><ul><li>å–®å€‹æª”æ¡ˆç·¨è­¯</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">yarn</span> tsc ã€”æª”åã€•</span><br></pre></td></tr></table></figure><p><code>npm</code> ä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œå¦‚æœæ˜¯è£ global å¯ä»¥ç›´æ¥ <code>tsc</code> ä½¿ç”¨ command line åŸ·è¡Œï¼›å¦‚æœæ˜¯è£åœ¨å°ˆæ¡ˆå…§éƒ¨å‰‡åŠ ä¸Š <code>npx tsc</code></p><h2 id="éƒ½ä½¿ç”¨-any-æœƒæ€éº¼æ¨£å—">éƒ½ä½¿ç”¨ any æœƒæ€éº¼æ¨£å— ?</h2><p><code>any</code> æ˜¯ä¸€å€‹å±éšªçš„å‹åˆ¥ ğŸ˜¡ ï¼Œå¯ä»¥çš„è©±ç›¡é‡ä¸ç”¨ï¼Œå¯ä»¥å¾ 3 å€‹æ–¹å‘ä¾†çœ‹ç‚ºä»€éº¼ :</p><ol><li>ç´”è¼¸å‡ºå€¼</li><li>æŒ‡æ´¾çµ¦æ–°çš„è®Šæ•¸çš„å‡½å¼è¼¸å‡ºå€¼</li><li>æ–°ç”¢ç”Ÿçš„è®Šæ•¸å‹åˆ¥ï¼Œä½¿ç”¨ prototype function ä¸æœƒé¡¯ç¤ºï¼Œæˆ–è€…éŒ¯èª¤ä¹Ÿä¸æœƒæé†’ğŸ¤”</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">a:<span class="built_in">any</span>, b:<span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 1. éš¨ä¾¿äº‚å¡«ç·¨è¼¯å™¨ä¹Ÿä¸ç®¡ä½ </span></span><br><span class="line"><span class="title function_">addTwoNumbers</span>(<span class="string">&#x27;123&#x27;</span>+[])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. num ä¹Ÿæœƒè®Šæˆ any</span></span><br><span class="line"><span class="keyword">const</span> string1 = <span class="title function_">addTwoNumbers</span>(<span class="string">&#x27;123&#x27;</span>+[])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. æƒ³è¦ä½¿ç”¨å…§å»º method æ²’æœ‰ä»»ä½•æç¤ºæˆ–éŒ¯èª¤</span></span><br><span class="line">string1.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li>éé æœŸçš„è¼¸å‡ºï¼Œvscode ä¸çŸ¥é“æˆ‘å€‘è¦ä»€éº¼æ±è¥¿</li><li>è®Šæ•¸åœ¨å®£å‘Šæ™‚ TS å°±èƒ½çŸ¥é“å‹åˆ¥ï¼Œåœ¨ <code>any</code> çš„æƒ…æ³ä¸‹ï¼Œç”±æ–¼è¼¸å…¥æ˜¯éš¨æ„çš„ï¼Œè®Šæ•¸æ¥æ”¶çš„è¼¸å‡ºè®Šå¾—éé æœŸï¼Œçµæœä¹Ÿè®Š <code>any</code></li><li>ç•¶æˆ‘å€‘æ‰“å‡º <code>num.</code> çš„æ™‚å€™ï¼Œä¸æœƒæœ‰ä»»ä½•æç¤ºå‡½å¼ï¼Œå› ç‚º TS ä¸çŸ¥é“å‹åˆ¥å°æ‡‰ä¸åˆ°å…§å»º method ã€‚ <code>num</code> è¢«å®šç¾©ç‚º any ï¼Œæ²’æœ‰ä»»ä½•å…§å»ºå‡½å¼å¯ä½¿ç”¨</li></ol><p><img data-src="https://i.imgur.com/Oo0jcFb.png" alt="å­—ä¸²æ²’æœ‰è·³å‡ºä»»ä½•å‹åˆ¥æœ‰é—œçš„ methodğŸ˜µ|400x280"><br> åœ¨æœ‰æ˜ç¢ºçš„å‹åˆ¥ç‹€æ³ä¸‹ï¼Œvscode æœƒè·³å‡ºå°æ‡‰å‹åˆ¥çš„ methodï¼Œ any ä½¿å¾— vscode ä¸çŸ¥é“è©²æ€éº¼è¾¦ã€‚é™¤éç·¨è­¯åŸ·è¡Œå¾Œæ‰èƒ½çŸ¥é“çµæœï¼ŒTS å¦‚æœå¥½å¥½çš„å¯«å‹åˆ¥ï¼Œåœ¨é–‹ç™¼éšæ®µéƒ½èƒ½çŸ¯æ­£é€™äº›å•é¡Œäº†ã€‚</p><h3 id="ä»€éº¼æ™‚å€™ç”¨-any">ä»€éº¼æ™‚å€™ç”¨ any ?</h3><p>å¦‚æœå¾ˆæ˜ç¢ºçŸ¥é“è¼¸å…¥èˆ‡è¼¸å‡ºçš„å‹åˆ¥ï¼Œå°±ä¸è©²ä½¿ç”¨ã€‚è¶Šé‚è¼¯åº•å±¤çš„ function è¶Šä¸è©²ä½¿ç”¨ï¼Œå› ç‚º TS çš„å‹åˆ¥å°±åƒç€‘å¸ƒæµä¸€æ¨£ï¼Œæœƒè¢«å¾€ä¸‹å‚³éï¼Œè©¦æƒ³ä¸€ä¸‹å¦‚æœæ˜¯ç”¨ any ï¼Œç€‘å¸ƒæµçš„å‹åˆ¥ç°¡ç›´è®ŠæˆåœŸçŸ³æµç­‰ç´šï¼Œä»€éº¼éƒ½å¤¾ä»€éº¼éƒ½ä¸å¥‡æ€ªã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">a: <span class="built_in">number</span>, b:<span class="built_in">number</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// number + numberï¼Œvscode æœƒæ¨ç†å‡ºå›å‚³æ˜¯ number</span></span><br><span class="line"><span class="keyword">const</span> newNumber = <span class="title function_">addTwoNumbers</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiple</span> = (<span class="params"><span class="built_in">number</span> : <span class="built_in">number</span></span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">number</span> * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// number ç‚ºè¼¸å…¥ï¼Œå…¶å›å‚³ä¹Ÿæ˜¯ number </span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">multiple</span>(newNumber)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œä¸€é–‹å§‹å°±å·²çŸ¥é“å‹åˆ¥ï¼Œä½¿å¾—æ•´å€‹é‚è¼¯å°±çŸ¥é“è¼¸å…¥èˆ‡æœ€çµ‚è¼¸å‡ºçš„å‹åˆ¥ï¼Œåœ¨å‘¼å«æ™‚å¦‚æœæˆ‘å€‘å¡«å¯«åˆ°éŒ¯èª¤å‹åˆ¥çš„å€¼ï¼ŒTS ä¹Ÿèƒ½å¤ æé†’æˆ‘å€‘ã€‚å¦‚æœéƒ½ç”¨ <code>any</code> ï¼Œå°±æ²’æœ‰è€å¸«æœƒç³¾æ­£ï¼ŒéŒ¯èª¤ç‡å¯èƒ½æœƒæé«˜ğŸ˜µã€‚</p><p>å…¶å¯¦å½±ç‰‡æ²’æœ‰å¾ˆæ˜ç¢ºæåˆ° any çš„ä½¿ç”¨æƒ…å¢ƒï¼Œåªæœ‰èªªåˆ°éå¸¸è¤‡é›œçš„æƒ…æ³æ‰å¯èƒ½ç”¨ any ğŸ¤”<br> å®˜æ–¹ä¹Ÿæœ‰æåŠï¼Œåœ¨é–‹ç™¼åˆä½µä¸åŒå°ˆæ¡ˆåˆæœŸå¯ä»¥ä½¿ç”¨ä¾†é¿å…éé æœŸç‹€æ³ï¼Œä¸ç„¶å°±åƒè·Ÿç”¨äº†<code>@ts-ignore</code> ä¸€æ¨£çš„æ•ˆæœï¼Œå†è€…æ‡‰è©²ä½¿ç”¨ <code>unknown</code>ã€‚</p><p>ğŸ‘‰ å®˜æ–¹é€£çµ <a href="https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html#any">TypeScript: Documentation - Doâ€™s and Donâ€™ts</a></p><h3 id="è£œå……-any-v-s-unknown">è£œå…… : any v.s unknown</h3><p>any è·Ÿ <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown">unknown</a> å¾ˆåƒï¼Œunknown æ˜¯ any çš„å®‰å…¨ç‰ˆï¼Œé‚£å®‰å…¨åœ¨å“ªå‘¢ ?</p><p>any ä¹Ÿæ˜¯ä»»ä½•è®Šæ•¸æˆ–åƒæ•¸æ²’æœ‰å®šç¾©çš„æƒ…æ³ä¸‹çš„é è¨­å€¼ï¼Œany å‹åˆ¥ä½¿ç”¨ä»»ä½•å±¬æ€§æˆ–æ–¹æ³•éƒ½å¯ä»¥é€šéï¼ŒTS ä¸æœƒç†ä½ ï¼Œä½† <code>unknown</code> å°±ä¸è¡Œäº† :<br> <img data-src="https://i.imgur.com/lrmjp2a.png" alt="any æ²’æœ‰éŒ¯èª¤ï¼Œunknown å°±æœ‰|300x140"></p><h2 id="TS-åœ¨-runtime-ä¸­ä¸æœƒæœ‰ä»»ä½•ä½œç”¨">TS åœ¨ runtime ä¸­ä¸æœƒæœ‰ä»»ä½•ä½œç”¨</h2><p>äº‹å¯¦ä¸Š TS æœ€çµ‚ç·¨è­¯å‡ºä¾†é‚„æ˜¯é•·çš„è·Ÿ JavaScript ä¸€æ¨¡ä¸€æ¨£ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTwoNumbers = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>:<span class="built_in">number</span>) :<span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>ç·¨è­¯å¾Œ :</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸€é–‹å§‹å¯èƒ½æœƒè¦ºå¾—æ—¢ç„¶ç”¢å‡ºæœ‰æ²’æœ‰ TS éƒ½ä¸€æ¨£ï¼Œé‚£ç‚ºä»€éº¼è¦ TS ğŸ¤·â€â™€ï¸ã€‚</p><blockquote><p>TypeScript adds additional syntax to JavaScript to support a tighter integration with your editor. <strong>Catch errors early in your editor.</strong> â€” TypeScript</p></blockquote><p>TS å¹«åŠ©åœ¨ <strong>é–‹ç™¼éšæ®µ</strong> æ—©é»ç™¼ç¾å•é¡Œï¼Œæ¸›å°‘ runtime ç™¼ç”ŸéŒ¯èª¤ï¼Œä¸åªå¦‚æ­¤ä¹Ÿå¯ä»¥æå‡é–‹ç™¼å“è³ªã€‚ç”¨å½±ç‰‡ â€œè‹±æ–‡è€å¸«â€ çš„æ¦‚å¿µä¾†èªª : ã€Œåš´å¸«å‡ºé«˜å¾’ã€ ğŸ¤£</p><p>å¦‚æœçœŸçš„æƒ³è¦å¿½ç•¥ TS çš„å¼·ç¡¬æŒ‡å®šï¼Œå¯ä»¥åŠ ä¸Š <code>ignore</code>ï¼Œé€šå¸¸æœƒåŠ ä¸Š lint å·¥å…·ï¼Œå¯ä»¥åŠ ä¸Š rules é¡¯ç¤ºå¦‚æœä½¿ç”¨ ignore è¦å‡ºç¾ warn æç¤º</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">a: <span class="built_in">number</span>, b:<span class="built_in">number</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @ts-ignore</span></span><br><span class="line"><span class="title function_">addTwoNumbers</span>(<span class="string">&#x27;123243terqadfa&#x27;</span>,[]) <span class="comment">// ğŸ¤ª ä¸æœƒæœ‰ä»»ä½•å•é¡Œ</span></span><br></pre></td></tr></table></figure><p>å³ä½¿æˆ‘å€‘æœ‰å®šç¾©å‹åˆ¥ï¼Œä½†å› ç‚ºåŠ ä¸Š ignore ï¼ŒTS çš„æª¢æŸ¥æœƒè·³éé€™å€‹å‘¼å«çš„ functionï¼Œå°±è·Ÿ <code>any</code> çš„ä½œç”¨å·®ä¸å¤šã€‚</p><h2 id="å›å‚³å€¼åŠ ä¸Šå‹åˆ¥">å›å‚³å€¼åŠ ä¸Šå‹åˆ¥</h2><p>åœ¨åƒæ•¸æ‹¬è™Ÿå¾Œé¢åŠ ä¸Šå‹åˆ¥</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// (param) : type</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTwoNumbers = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>:<span class="built_in">number</span>) : <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// âŒ å›å‚³å€¼ç‚ºå­—ä¸²æ˜¯æœƒè·³å‡ºéŒ¯èª¤çš„</span></span><br><span class="line">  <span class="keyword">return</span> (a + b).<span class="title function_">toString</span>() </span><br><span class="line">  <span class="comment">// âœ… å›å‚³å€¼ä¸€å®šè¦æ˜¯ number</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Number</span>(a + b);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸€é–‹å§‹æŒ‡å®šä¹Ÿä¸¦å…æˆ‘å€‘å¯«å‡ºéè¼¸å‡ºçš„å‹åˆ¥ã€‚</p><p>ç›¸é—œé¡Œæ˜¯ 08 é¡Œï¼Œä¸éé€™é¡Œæœ‰é»å¥‡å¦™ï¼Œè§£æ±ºçš„è¾¦æ³• 2 æ˜¯å®Œå…¨æ²’å¡«å…¥æ±è¥¿ğŸ¤”</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> makeUser = ():<span class="function"><span class="params">User</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;rosa&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;hong&#x27;</span>,</span><br><span class="line">    <span class="attr">role</span>:<span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="attr">posts</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        id : <span class="number">2</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;123&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ‘åœ¨æƒ³ Matt æ˜¯ä¸æ˜¯åœ¨æŒ‡ <code>return</code> å¯å¡«å¯ä¸å¡«ğŸ¤”ï¼Œæœç„¶æ˜¯ <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#return-type-annotations">å®˜æ–¹çš„ Handbook</a> çµ¦å‡ºäº†ç­”æ¡ˆ :</p><blockquote><p>Much like variable type annotations, you usually donâ€™t need a return type annotation because TypeScript will infer the functionâ€™s return type based on its return statements.</p></blockquote><p>è·Ÿå®£å‘Šè®Šæ•¸çš„å‹åˆ¥ä¸€æ¨£çš„é“ç†ï¼Œä¸ç”¨ç‰¹åˆ¥çµ¦äºˆå›å‚³å€¼çš„å‹åˆ¥ï¼ŒTS æ ¹æ“š return å€¼æœƒè‡ªå·±æ¨ç† return çš„å‹åˆ¥ã€‚</p><h2 id="ç‰©ä»¶çš„å‹åˆ¥-Object-type">ç‰©ä»¶çš„å‹åˆ¥ (Object type)</h2><p>01 é¡Œè‘—é‡åœ¨å‡½å¼çš„ Primitive type çš„ <em>åƒæ•¸</em>ã€‚ å› ç‚ºåƒæ•¸çš„è¼¸å…¥å€¼ä¾†æºæ˜¯éš¨æ„çš„ï¼Œæ²’æœ‰å®šç¾©å‹åˆ¥å¯èƒ½å°è‡´éé æœŸçš„è¼¸å‡ºã€‚</p><p>02 é¡Œæ˜¯è¬›è§£ Object type çš„åƒæ•¸ï¼Œç”±æ–¼ object type å°æ‡‰ä¸åŒçš„ key-value éœ€è¦å€‹åˆ¥å®šç¾©ã€‚æœ‰ 3 ç¨®ç”¨æ³•ï¼Œå½±éŸ¿çš„æ˜¯ TS æœƒé¡¯ç¤ºä¸åŒçš„æç¤º :</p><ol><li>type</li><li>inline type</li><li>interface</li></ol><h3 id="type">type</h3><p><code>type</code> ä¸åªå¯ä»¥é‹ç”¨åœ¨ Primitive type ä¸Šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨ Object</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Param</span> = &#123;</span><br><span class="line">  first : <span class="built_in">number</span>;</span><br><span class="line">  second : <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTwoNumbers = (<span class="attr">params</span>:<span class="title class_">Param</span>) : <span class="function"><span class="params">number</span>=&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> params.<span class="property">first</span> + params.<span class="property">second</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ… </span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">addTwoNumbers</span>(&#123;first : <span class="number">1</span>,second : <span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure><p>è¼¸å…¥å‹åˆ¥éŒ¯èª¤çš„è¨Šæ¯ :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(property) second: number</span><br><span class="line">Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.</span><br></pre></td></tr></table></figure><h3 id="inline-arguments">inline arguments</h3><p>æŠŠå…§å®¹çµ¦æ‹†é–‹å¯«åœ¨åŒä¸€è¡Œ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">params: &#123; first: <span class="built_in">number</span>; second: <span class="built_in">number</span>;&#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> params.<span class="property">first</span> + params.<span class="property">second</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è®Šå¾—ä¸æ˜“è®€åˆå†—é•·ğŸ˜µ</p><p>è¼¸å…¥å‹åˆ¥éŒ¯èª¤çš„è¨Šæ¯ï¼Œè·Ÿ type ä¸€æ¨£ :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(property) second: number</span><br><span class="line">Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.</span><br></pre></td></tr></table></figure><p>å¯ä»¥èªª <code>type</code> æ˜¯æŠŠå‹åˆ¥æ‰“åŒ…æå‡ºå»ï¼Œä½¿ç¨‹å¼ç¢¼æ›´æ˜“è®€ã€‚</p><h3 id="Interface">Interface</h3><p>åªèƒ½ç”¨åœ¨ç‰©ä»¶ä¸Š (Object/Class)</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">AddTwoNumbersArgs</span> &#123;</span><br><span class="line">  <span class="attr">first</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">second</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">params: AddTwoNumbersArgs</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> params.<span class="property">first</span> + params.<span class="property">second</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¼¸å…¥å‹åˆ¥éŒ¯èª¤çš„è¨Šæ¯ï¼Œinterface ç”¨ <code>obj.a</code> é€™ç¨®æ–¹å¼èªªæ˜ :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(property) AddTwoNumbersArgs.second: number</span><br><span class="line">Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.</span><br></pre></td></tr></table></figure><p>type è·Ÿ interface åœ¨ object type <em>æ‡‰ç”¨</em> ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œä¸éä»–å€‘åœ¨æŸäº›æƒ…å¢ƒä¸Šé‚„æ˜¯æœ‰å·®åˆ¥ã€‚</p><h3 id="è£œå……-type-v-s-Interface">è£œå…… : type v.s Interface</h3><blockquote><p>æ–‡ç« é€£çµ :</p><ol><li><a href="https://ithelp.ithome.com.tw/articles/10224646">ã€Day 19ã€‘TypeScript ä»‹é¢(Interface) v.s. å‹åˆ¥åˆ¥å(Type Alias)</a></li><li><a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example#useful-table-for-types-vs-interfaces">Typing Component Props | React TypeScript Cheatsheets</a></li></ol></blockquote><p>å¾ä¸Šé¢çœ‹ä¾†ï¼Œå¯ä»¥çŸ¥é“ :</p><ul><li>interface åªèƒ½ç”¨åœ¨ç‰©ä»¶ä¸Š</li><li>type æ˜¯ Primitive èˆ‡ Object type éƒ½å¯ä»¥ä½¿ç”¨</li></ul><p>ç´°ç¯€é‚„æœ‰å¾ˆå¤šå°ä¸åŒï¼Œé—œæ³¨åœ¨æ‡‰ç”¨ä¸Š :</p><ol><li>å–®ç´”è¡¨ç¤ºéœæ…‹æ ¼å¼è³‡æ–™æ¦‚å¿µæ™‚ä½¿ç”¨ typeï¼Œé‡è¤‡å¤šæ–¹åˆ©ç”¨æ™‚ä½¿ç”¨ interface</li><li>è‹¥åŸå§‹è³‡æ–™å‹åˆ¥ã€åˆ—èˆ‰ (Enum) å’Œå…ƒçµ„ (Tuple) å‹åˆ¥å’Œè¤‡åˆå‹åˆ¥ï¼Œåªèƒ½ä½¿ç”¨ type é€²è¡Œå®£å‘Š</li><li>Interface å’Œ Type å¯ä»¥æ··ç”¨æ“´å±•</li></ol><ul><li>ä¸å¸Œæœ›å†è¢«æ“´å……æˆ–éœæ…‹çš„å‹åˆ¥æ ¼å¼å°±æ‡‰è©²ç”¨ type å®£å‘Š typeï¼Œè—‰ç”± union æˆ– intersection é”æˆæ“´å±•</li><li>ä¹‹å¾Œè¢«æ“´å……æˆ–å¤šæ–¹åˆ©ç”¨ï¼Œå®£å‘Šæˆ interfaceï¼Œè—‰ç”± extends å»é”æˆæ“´å±•</li></ul><p>å¦ä¸€å€‹æ¯”è¼ƒå¯¦éš›çš„å•é¡Œå°±æ˜¯ <a href="https://github.com/microsoft/TypeScript/wiki/Performance#preferring-interfaces-over-intersections">æ•ˆèƒ½</a>ï¼Œçµè«–æ˜¯ interface æœƒæ¯” type alias å¥½ ã€‚</p><h2 id="ç‰©ä»¶è§£æ§‹å®šç¾©å‹åˆ¥">ç‰©ä»¶è§£æ§‹å®šç¾©å‹åˆ¥</h2><p>åœ¨ React æ˜¯é€é props ä¾†å‚³éè³‡æ–™ï¼Œé€šå¸¸ä½¿ç”¨æ™‚æœƒç›´æ¥è§£æ§‹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Compoment</span> = (<span class="params">&#123;count&#125;</span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// ç­‰åŒæ–¼ const &#123;count&#125; = props</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£æ§‹å¥½ç”¨åˆ°ç„¡è™•ä¸åœ¨ï¼Œå†åŠ ä¸Š TS æ™‚æœƒé•·æ€æ¨£å‘¢ ? å…ˆå¾ä¸€èˆ¬çš„ JS çœ‹èµ·ï¼ŒæŠŠä¸Šé¢çš„ä¾‹å­æ”¹æˆè§£æ§‹å¼ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* âŒ éŒ¯èª¤ å¿…é ˆéµå®ˆ left hand sideï¼Œåˆ†é–‹å¯«ä¸æœƒè¢«ç•¶ä½œæ··å’Œæˆç‰©ä»¶çš„å‹åˆ¥ </span></span><br><span class="line"><span class="comment">  (parameter) number: any.Duplicate identifier &#x27;number&#x27;.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">&#123;first:<span class="built_in">number</span>,second:<span class="built_in">number</span>&#125;</span>)=&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> first + second</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ… æ­£ç¢º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTwoNumbers = (&#123;first,second&#125;:&#123;<span class="attr">first</span>:<span class="built_in">number</span>,<span class="attr">second</span>:<span class="built_in">number</span>&#125;) : <span class="function"><span class="params">number</span>=&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> first + second</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>çµæ§‹è®Šå¾—å†—é•·ä¸”é›£è®€ğŸ˜µï¼Œåœ¨å¦‚æœæœ‰å¤šå€‹å±¬æ€§å°±æœƒå¾ˆç—›è‹¦ï¼Œæ‰€ä»¥é€šå¸¸æœƒæå‡ºä¾†</p><ul><li>æ”¹ç”¨ interface æœƒæ˜¯æ¯”è¼ƒå¥½çš„é¸æ“‡ :</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">AddTwoNumbersArgs</span> &#123;</span><br><span class="line">  first : <span class="built_in">number</span>;</span><br><span class="line">  second : <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// âŒ å¿…é ˆéµå®ˆ left hand sideï¼Œåˆ†é–‹å¯«ä¸æœƒè¢«ç•¶ä½œæ··å’Œæˆç‰©ä»¶çš„å‹åˆ¥</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">&#123;first:<span class="built_in">number</span>,second:<span class="built_in">number</span>&#125; : AddTwoNumbersArgs</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> first + second;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ… OK</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTwoNumbers</span> = (<span class="params">&#123;first,second&#125; : AddTwoNumbersArgs</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> first + second;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>éŒ¯èª¤è¨Šæ¯ï¼Œæœƒæ­£ç¢ºåœ°å‘Šè¨´æˆ‘å€‘æŸç‰©ä»¶å‹åˆ¥çš„ key æ˜¯å¦éŒ¯èª¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(property) AddTwoNumbersArgs.first: number</span><br><span class="line">Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.</span><br></pre></td></tr></table></figure><p>åœ¨ React å¯èƒ½æœƒçœ‹åˆ°</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// inline </span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Compoment</span> = (<span class="params">&#123;count&#125; : &#123;count : <span class="built_in">number</span>&#125;</span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æˆ–æ˜¯ type</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Props</span>&#123;</span><br><span class="line">  children? : <span class="title class_">React</span>.<span class="property">ReactNode</span>;</span><br><span class="line">  count : <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Compoment</span> = (<span class="params">&#123;count&#125; : Props</span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>interface ä¹Ÿæ˜¯å¯ä»¥ï¼Œå…©è€…çš„å·®åˆ¥å¯ä»¥çœ‹ : <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example#useful-table-for-types-vs-interfaces">Typing Component Props | React TypeScript Cheatsheets</a> ã€‚</p><p>æ–‡ç« æœ‰æåŠ <em>å»ºè­°</em> çš„åŸå‰‡ :</p><ul><li><strong>interface</strong> è¼ƒé©åˆç”¨åœ¨å°è£ã€ç¬¬ä¸‰æ–¹å¥—ä»¶ç¨‹å¼ç¢¼ï¼Œæ“´å±•çš„å…¶å…§éƒ¨çš„é¡å‹</li><li><strong>type</strong> è¼ƒé©åˆ React Component ä¸­çš„ props èˆ‡ state ï¼Œä¿æŒä¸€è‡´æ€§èˆ‡æ›´åš´è¬¹çš„é™åˆ¶</li></ul><p>ä¸éæœ€çµ‚ç›®çš„éƒ½æ˜¯ç¢ºä¿ä¸€è‡´æ€§ï¼Œäº‹å¯¦ä¸Šä¸¦æ²’æœ‰é™åˆ¶ä¸€å®šè¦ type é‚„æ˜¯ interfaceã€‚</p><h2 id="optional">optional</h2><p>åˆ©ç”¨å•è™Ÿ <code>ï¼Ÿ</code> ä¾†è¡¨ç¤ºæœ‰æ²’æœ‰å­˜åœ¨ï¼Œè·Ÿ JavaScript ä¸­çš„ optional chaining ä¸€æ¨£ï¼Œå¯ä»¥ <a href="https://blog.rosa.tw/2022/06/JavaScript/JavaScript-null-undefined-operator">åƒè€ƒæˆ‘ä¹‹å‰çš„ç­†è¨˜</a></p><ul><li>æª¢æŸ¥ middle æ˜¯å¦å­˜åœ¨æ²’æœ‰å°±â€¦</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  first : <span class="string">&#x27;rosa&#x27;</span>,</span><br><span class="line">  last : <span class="string">&#x27;hong&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mid = person?.<span class="property">middle</span> || <span class="string">&#x27;no&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="ç‰©ä»¶çš„å‹åˆ¥">ç‰©ä»¶çš„å‹åˆ¥</h3><p>ç¯„ä¾‹ 03 ï¼Œå¦‚æœå‘¼å«å‡½å¼æ™‚å…¶ä¸­çš„åƒæ•¸æ˜¯ä¸ä¸€å®šè¦è¼¸å…¥çš„</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰åŒæ–¼ inline çš„ &#123; first: string; last?: string &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  first : <span class="built_in">string</span>;</span><br><span class="line">  last? : <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">params: &#123; first: <span class="built_in">string</span>; last?: <span class="built_in">string</span> &#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (params.<span class="property">last</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;params.first&#125;</span> <span class="subst">$&#123;params.last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> params.<span class="property">first</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ… OK</span></span><br><span class="line"><span class="title function_">getName</span>(&#123;<span class="attr">first</span>:<span class="string">&#x27;rosa&#x27;</span>&#125;)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">âŒ ç¼ºå°‘ first</span></span><br><span class="line"><span class="comment">Property &#x27;first&#x27; is missing in type &#x27;&#123; last: string; &#125;&#x27; but required in type &#x27;&#123; first: string; last?: string | undefined; &#125;&#x27;.ts(2345)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> name1 = <span class="title function_">getName</span>(&#123;<span class="attr">last</span>:<span class="string">&#x27;hong&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><p>æ²’æœ‰ optional <code>?</code> çš„ key ä¸€å®šè¦è¼¸å…¥ï¼Œè€å¸«å«ä½ å¡«å°±è¦å¡«ğŸ˜¡</p><h3 id="åƒæ•¸å‹åˆ¥">åƒæ•¸å‹åˆ¥</h3><p>ç¯„ä¾‹ 04 ï¼Œè·Ÿ 03 æœ‰ 87% ç›¸ä¼¼ğŸ¤”</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">first: <span class="built_in">string</span>, last?: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (last) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> first;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ç¬¬äºŒå€‹åƒæ•¸æ²’æœ‰ä¹Ÿä¸æœƒæœ‰å•é¡Œ</span></span><br><span class="line"><span class="keyword">const</span> name1 = <span class="title function_">getName</span>(<span class="string">&#x27;rosa&#x27;</span>); <span class="comment">// rosa</span></span><br><span class="line"><span class="keyword">const</span> name2 = <span class="title function_">getName</span>(<span class="string">&#x27;rosa&#x27;</span>,<span class="string">&#x27;hong&#x27;</span>) <span class="comment">// rosa hong</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³è¦åƒæ•¸å…·æœ‰é è¨­å€¼å‘¢ ?</p></blockquote><h4 id="é è¨­å€¼ä¸èƒ½èˆ‡-optional-åŒæ™‚å­˜åœ¨">é è¨­å€¼ä¸èƒ½èˆ‡ optional åŒæ™‚å­˜åœ¨</h4><p><strong>é è¨­å€¼ä¸èƒ½åŒæ™‚ä½¿ç”¨ optional</strong>ï¼Œæ—¢ç„¶æ˜¯ <strong>é è¨­å€¼</strong> TS æœƒè¦ºå¾—é€™è£¡ä¸æœƒæ˜¯ <code>undefined</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* âŒ åƒæ•¸ä¸èƒ½åŒæ™‚æ“æœ‰å•è™Ÿè·Ÿåˆå§‹å€¼</span></span><br><span class="line"><span class="comment">(parameter) last: string | undefined</span></span><br><span class="line"><span class="comment">Parameter cannot have question mark and initializer.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">first :<span class="built_in">string</span>, last?: <span class="built_in">string</span> = <span class="string">&#x27;123&#x27;</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (last) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> first;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚åŒè®Šæ•¸ä¸€é–‹å§‹å°±å·²ç¶“è³¦å€¼äº†ï¼ŒTS æ˜¯çŸ¥é“é€™è£¡å…·æœ‰å‹åˆ¥è€Œä¸”æœ‰å€¼</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> last  = <span class="string">&#x27;123&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="å¤šå€‹-optional-åƒæ•¸">å¤šå€‹ optional åƒæ•¸</h4><p>å¦‚æœç¬¬ä¸€å€‹åƒæ•¸ç‚º optionalï¼Œå¾Œé¢çš„åƒæ•¸æ˜¯å¿…è¦çš„ï¼Œæœƒç™¼ç”ŸéŒ¯èª¤ã€‚ç­‰åŒæ–¼ç¬¬ä¸€å€‹åƒæ•¸å‚³å…¥ undefinedï¼Œæ²’ä»€éº¼æ„ç¾©ğŸ˜‘</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* âŒ ç¬¬ä¸€å€‹è·Ÿå‚³é undefined åŒç­‰æ„ç¾©ï¼ŒTS ä¸å–œæ­¡é€™æ¨£ï¼Œå› ç‚ºæ²’æ„ç¾©</span></span><br><span class="line"><span class="comment">(parameter) last: string</span></span><br><span class="line"><span class="comment">A required parameter cannot follow an optional parameter.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">first? : <span class="built_in">string</span> , last: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (last) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> first;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æ²’ä»€éº¼æ„ç¾©ğŸ˜‘</span></span><br><span class="line"><span class="keyword">const</span> name1 = <span class="title function_">getName</span>(<span class="literal">undefined</span>,<span class="string">&#x27;hong&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ’‡é™¤ç¬¬ä¸€å€‹åˆ»æ„ optional ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šå€‹åƒæ•¸ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">first : <span class="built_in">string</span> , middle?: <span class="built_in">string</span>,last?: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (last) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> first;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è·³éæŸå€¼ä¸€æ¨£æ˜¯ undefined</span></span><br><span class="line"><span class="keyword">const</span> name1 = <span class="title function_">getName</span>(<span class="string">&#x27;rosa&#x27;</span>,<span class="literal">undefined</span>,<span class="string">&#x27;hong&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¸éç”¨é€™ç¨®æ–¹å¼æ™‚æ‡‰è©²éƒ½æœƒé¸æ“‡ç”¨ <strong>ç‰©ä»¶</strong> çš„æ–¹å¼å‚³å…¥ï¼Œå› ç‚ºç›´æ¥å‚³å…¥é‚„å¾—è¦å®Œå…¨ç…§é †åºï¼Œç”¨ç‰©ä»¶å°±ä¸ç”¨äº†ğŸ¤”ï¼Œä¹Ÿä¸ç”¨å‚³ä»€éº¼ <code>undefined</code>ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  first : <span class="built_in">string</span>;</span><br><span class="line">  middle?:<span class="built_in">string</span>;</span><br><span class="line">  last?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">&#123;first,middle,last&#125; : Person</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (last) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> first;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> name1 = <span class="title function_">getName</span>(&#123;<span class="attr">first</span>: <span class="string">&#x27;rosa&#x27;</span>,<span class="attr">last</span>:<span class="string">&#x27;hong&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h2 id="å‡½å¼ä¸­çš„å…¶é¤˜åƒæ•¸-rest-parameter">å‡½å¼ä¸­çš„å…¶é¤˜åƒæ•¸ (rest parameter)</h2><p>optional æ˜¯åœ¨çŸ¥é“æœ‰å¤šå°‘å€‹æœ‰ç„¡å¿…è¦çš„è¼¸å…¥å€¼ä½¿ç”¨ï¼Œå¦‚æœæœ¬èº«ä¸çŸ¥é“åˆ°åº•æœ‰å¤šå°‘å€‹è¼¸å…¥ï¼Œrest parameter æä¾›åƒæ•¸æ›´å½ˆæ€§çš„æ–¹å¼ï¼ŒæŠŠå¾Œé¢ <code>...</code> çš„éƒ¨ä»½ç®—åš <strong>ä¸€çµ„</strong> é™£åˆ—ä¾†çœ‹å¾…ã€‚</p><p>å° TS ä¾†èªªå°±æ˜¯ä¸€å€‹ Array ï¼Œä½†æ˜¯é™£åˆ—å…§å®¹æ˜¯ä¸å¾—è€ŒçŸ¥çš„ï¼Œå› æ­¤è¦ç‚ºå…§éƒ¨çš„é›†åˆå®šç¾© :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params">frist:<span class="built_in">string</span>,...otherName :<span class="built_in">string</span>[]</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> [frist,...otherName].<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ…</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">getName</span>(<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;fewfwe&#x27;</span>,<span class="string">&#x27;fewfwe&#x27;</span>,<span class="string">&#x27;13412fsa&#x27;</span>)</span><br><span class="line"><span class="comment">// âŒ 1234 ä¸æ˜¯ string</span></span><br><span class="line"><span class="keyword">const</span> result2 = <span class="title function_">getName</span>(<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;fewfwe&#x27;</span>,<span class="string">&#x27;fewfwe&#x27;</span>,<span class="number">1234</span>)</span><br></pre></td></tr></table></figure><h2 id="Type-assertion-v-s-Type-annotation">Type assertion v.s Type annotation</h2><blockquote><p>æ–‡ç« åƒè€ƒ : é€™è¦ä»˜è²» <a href="https://medium.com/@bsalwiczek/type-annotation-vs-assertion-in-typescript-one-important-difference-4f4df715b5fe">Type Annotation vs Assertion in Typescript â€” one important difference</a></p></blockquote><p><code>timecode : 47 min</code> ï¼Œå¯«ç­†è¨˜æœ‰é»å¿˜åœ¨å“ªï¼Œæ‰€æ¨™ä¸€ä¸‹ã€‚ç›¸é—œé¡Œæ˜¯ 05 é¡Œã€‚</p><ul><li>å¾é€™å€‹ä¾‹å­å¯ä»¥æ„Ÿå—åˆ° <code>as</code> è·Ÿç›´æ¥ <code>type</code> å“ªè£¡æœ‰ä¸ä¸€æ¨£ :</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  first : <span class="built_in">number</span>,</span><br><span class="line">  second : <span class="built_in">number</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// âŒ å ±éŒ¯ï¼Œå°‘äº† first</span></span><br><span class="line"><span class="keyword">const</span> john : <span class="title class_">User</span> = &#123;</span><br><span class="line">  second : <span class="number">4</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// âœ… æ²’å•é¡Œ</span></span><br><span class="line"><span class="keyword">const</span> rosa = &#123;</span><br><span class="line">  first : <span class="number">3</span>,</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="title class_">User</span></span><br></pre></td></tr></table></figure><ul><li><strong>Type annotation</strong> : <code>value : type</code>ã€‚ æ°¸é éƒ½åªèƒ½å«é€™å€‹ typeï¼Œéå¸¸ç¡¬æ€§çš„ã€‚</li><li><strong>Type assertion</strong> : <code>value as type</code>ã€‚ è½‰è®Š (cast) æˆé€™å€‹å‹åˆ¥çš„ï¼Œä½†æ¯”è¼ƒåƒä¹‹å¾Œåœ¨æª¢æŸ¥ã€‚</li></ul><p>é›–ç„¶çœ‹èµ·ä¾†æ²’å·®ğŸ¤”ï¼Œä½†åœ¨å¯¦éš›ä¸ŠéŒ¯èª¤è¨Šæ¯æ˜¯ annotation æœƒåœ¨å®£å‘Šçš„æ™‚å¾Œå°±è¢«é˜»æ­¢ï¼Œä¹Ÿå°±æ˜¯é–‹ç™¼éšæ®µå°±çŸ¥é“ï¼Œè€Œ assertion å‰‡æ˜¯ç·¨è­¯éå¾Œæ‰æœƒè¢«é˜»æ­¢ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Human</span> = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">spokenLanguage</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> human = &#123; <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">spokenLanguage</span>: <span class="string">&quot;English&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">human2</span>: <span class="title class_">Human</span> = human; <span class="comment">// âŒ é‚„æ²’ç·¨è­¯é€™è£¡å°±å‡ºç¾éŒ¯èª¤</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(human2.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()); </span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> human3 = human <span class="keyword">as</span> <span class="title class_">Human</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(human3.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()); <span class="comment">// âŒ åŸ·è¡Œåˆ°é€™è¡Œå ±éŒ¯</span></span><br></pre></td></tr></table></figure><p>å½±ç‰‡ä¸­çš„èªªæ³•è »å¥½ç¬‘çš„ï¼Œ ç›´æ¥ <code>type</code> å°±åƒæ˜¯è€å¸«é€¼ä½ ä¸€å®šè¦åšå°ï¼Œ<code>as</code> æ˜¯ä½ å‘Šè¨´è€å¸«èªªä½ æœƒåšå•¦ï¼Œä½†æ˜¯è—‰å£å¾ˆå¤šï¼Œè€å¸«åªå¥½ç„¡å¥ˆç­”æ‡‰ã€‚å¦ä¸€å€‹èªªæ³•æ˜¯ as å°±åƒ CSS åˆ°è™•åŠ  <code>!important</code> æŠŠèˆŠæœ‰çš„ type è¦†è“‹éå»ã€‚</p><p>å¦å¤– <code>as</code> ä¸èƒ½ç”¨åœ¨ exact typeï¼Œæ¯”å¦‚å·²ç¶“çŸ¥é“å®ƒæ˜¯ number é‚„ç¡¬è¦æ°æˆ string :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* âŒ Conversion of type &#x27;number&#x27; to type &#x27;string&#x27; may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to &#x27;unknown&#x27; first.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span> <span class="keyword">as</span> <span class="built_in">string</span></span><br></pre></td></tr></table></figure><h2 id="Scope-çš„å•é¡Œ">Scope çš„å•é¡Œ</h2><blockquote><p>æ–‡ç« é€£çµ : <a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#block-scoping">Block-scoping</a></p></blockquote><p><code>timecode : 48:44</code>ï¼Œé€™é¡Œä¸€é–‹å§‹æˆ‘ä¸çŸ¥é“ç‚ºä»€éº¼è¦è¬›é€™å€‹ğŸ¤”ï¼Œæ›´åƒæ˜¯ JavaScript çš„åŸºç¤ï¼Œä¹Ÿå°±æ˜¯ Scope è·Ÿ Scope chain çš„å•é¡Œ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">defaultUser</span>:<span class="title class_">User</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getUserId</span> = (<span class="params">user:User</span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> user.<span class="property">id</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* âŒ let defaultUser: User</span></span><br><span class="line"><span class="comment">  Variable &#x27;defaultUser&#x27; is used before being assigned.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">getUserId</span>(defaultUser) <span class="comment">// ç¨±åš 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸¬è©¦è³‡æ–™ï¼Œä½† getUserId æ²’æœ‰å‡ºç¾éŒ¯èª¤ï¼Œç¨±åš 2</span></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;Should get the user id&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">expect</span>(<span class="title function_">getUserId</span>(defaultUser)).<span class="title function_">toEqual</span>(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>1 ä¹‹æ‰€ä»¥æœƒå‡ºç¾éŒ¯èª¤ï¼Œæ˜¯å¸¸è¦‹çš„ let/const åœ¨é‚„æ²’è³¦å€¼ä¹‹å‰ï¼Œå°±ä½¿ç”¨åˆ°å€¼çš„ TDZ (Temporal Dead Zone)ï¼Œä¸€èˆ¬çš„ JavaScript åœ¨åŸ·è¡Œéå¾Œæ‰æœƒå‡ºéŒ¯ï¼ŒTS é€™æ™‚å€™å°±å¾ˆè°æ˜çš„å¹«æˆ‘å€‘æŠ“åˆ°äº†ã€‚</p><p>2 ç‚ºä»€éº¼æ²’æœ‰å‘¢ ? å› ç‚ºå®ƒè¢« block åŒ…ä½ <code>&#123; &#125;</code>ï¼Œå·²ç¶“æ˜¯å¦ä¸€å€‹æ³›ç‚ºäº†ã€‚ 1 æ˜¯æš´éœ²åœ¨å…¨åŸŸï¼Œå› æ­¤å°±å·²çŸ¥ <code>defaultUser</code> æ˜¯ <code>unassigned</code>ï¼Œè€Œæˆ‘å€‘ä¹ŸçŸ¥é“ let/const çš„ scope æ˜¯ä»¥ block ç‚ºé™ï¼Œ 2 ä¹‹æ‰€ä»¥æ²’æœ‰å‡ºç¾éŒ¯èª¤ï¼Œå› ç‚ºé€™è£¡çš„è¼¸å…¥å€¼ <code>defaultUser</code> å¯èƒ½åœ¨åŒä¸€å€‹ block æˆ–æ˜¯ scope chain ä¸Šçš„æŸå€‹ <code>defaultUser</code>ï¼Œé€™å·²ç¶“ä¸æ˜¯ç·¨è­¯å‰èƒ½å¤ åŸ·è¡Œçš„ï¼ŒTS ä¸æœƒä¸»å‹•æ‰¾ scope chain ä¸Šçš„ï¼Œæ‰€ä»¥å°±ä¸æœƒå‡ºç¾éŒ¯èª¤ã€‚</p><h2 id="Discriminated-Unions-é¸æ“‡ä¸€å€‹">Discriminated Unions (|) : é¸æ“‡ä¸€å€‹</h2><p>ç¯„ä¾‹ 06 ï¼Œä½¿ç”¨ <code>ï½œ</code> (OR) ä¾†è®“ type æœ‰ä¸åŒçš„ <strong>å€¼</strong> å¯é¸æ“‡ï¼Œä½œç‚ºç¨®é¡çš„æç¤ºå­—å…ƒå¾ˆå¥½ç”¨</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img data-src="https://i.imgur.com/5iQbhoa.png" alt="å…§éƒ¨éƒ½æ˜¯ string ï¼Œåªè¦æ‰“å‡ºå¼•è™Ÿç·¨è¼¯å™¨æœƒè‡ªå·±è·³å‡ºé¸é …"><br> åˆ»æ„è®“ <code>role : '123'</code>ï¼Œæ²’æœ‰å€¼è¢«åŒ…å«åœ¨å…§çš„æƒ…æ³æœƒæç¤º :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(property) User.role: &quot;admin&quot; | &quot;user&quot; | &quot;super-admin&quot;</span><br><span class="line">How do we ensure that role is only one of:</span><br><span class="line">  - &#x27;admin&#x27;</span><br><span class="line">  - &#x27;user&#x27;</span><br><span class="line">  - &#x27;super-admin&#x27;</span><br></pre></td></tr></table></figure><h3 id="è£œå……-Enum-æšèˆ‰">è£œå…… : Enum æšèˆ‰</h3><p>Enum è·Ÿ <code>ï½œ</code> éå¸¸é¡ä¼¼ï¼Œä½†å·®åˆ¥åœ¨æ–¼ Enum æ˜¯çœŸçš„æœƒåœ¨ runtime ç”¢ç”Ÿç‰©ä»¶ï¼Œè€Œ <code>ï½œ</code> ä¸æœƒã€‚<br> TT æ²’æœ‰æ±è¥¿ç”¢ç”Ÿï¼›EE æœ‰ç”¢ç”Ÿç‰©ä»¶ã€‚<br> <img data-src="https://i.imgur.com/upuhvfl.png" alt="ç¯„ä¾‹ä¾†è‡ª : https://stackoverflow.com/questions/40275832/typescript-has-unions-so-are-enums-redundant"></p><p>å½±ç‰‡ä¸­ Matt èªªå¯¦éš›ä¸Šå¾ˆå°‘ç”¨åˆ°ï¼Œä¸¦æ²’æœ‰ç‰¹åˆ¥è§£èªªï¼Œé‚„èªª TS é–‹ç™¼åœ˜éšŠå¯èƒ½å¾ˆå¾Œæ‚”å‡ºé€™å€‹ğŸ¤£ã€‚ä¸éæˆ‘æŸ¥äº†ä¸€ä¸‹ï¼ŒEnum é©åˆç”¨åœ¨ç®¡ç†å¤šçµ„å¸¸æ•¸ï¼Œæˆ‘ç¬¬ä¸€ç›´è¦ºæƒ³åˆ° redux ä¸­çš„ <code>action.type</code>ã€‚ä»¥å¾€æœƒå°‡ reducer çš„ action æ‹†å‡ºå» <code>action.type</code> é¿å…æ‰“å­—å‡ºç¾éŒ¯èª¤ã€‚</p><p>ç”¨ä¸Šé¢çš„ä¾‹å­æ”¹ï¼Œrole å…¶å¯¦å¯ä»¥è¢«çª®èˆ‰å‡ºæœ‰å¤šå°‘èº«åˆ†ï¼Œé€™äº›æ˜¯å›ºå®šçš„</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Role</span>&#123;</span><br><span class="line">  admin,</span><br><span class="line">  user,</span><br><span class="line">  [<span class="string">&#x27;super-admin&#x27;</span>] <span class="comment">// æ–œæ§“çš„å•é¡Œï¼Œåˆ©ç”¨ Symbol çš„æ–¹å¼è§£æ±º</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">role</span>: <span class="title class_">Role</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">defaultUser</span>: <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Matt&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Pocock&quot;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="title class_">Role</span>.<span class="property">admin</span> <span class="comment">// ğŸ‘‰ é€™è£¡çš„ role æ˜¯æ•¸å­—</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>role åªè¦é€éå·²å­˜åœ¨çš„ <code>Role</code> ç‰©ä»¶å»å°‹æ‰¾å°±å¯ä»¥äº†ã€‚<br> <img data-src="https://i.imgur.com/Bm3d7Ul.png" alt="ç”¨ç‰©ä»¶çš„å½¢å¼è³¦å€¼"><br> Enum é‚„æä¾›å¦ä¸€ç¨®åŠŸèƒ½ï¼Œ<a href="https://www.typescriptlang.org/docs/handbook/enums.html#reverse-mappings">Reverse mappings</a>ï¼Œå¯ä»¥å¾—å‡ºå­—ä¸²å­— :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Role</span>&#123;</span><br><span class="line">  admin,</span><br><span class="line">  user ,</span><br><span class="line">  [<span class="string">&#x27;super-admin&#x27;</span>],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user  = <span class="title class_">Role</span>.<span class="property">user</span> <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">defaultUser</span>: <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Matt&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Pocock&quot;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="title class_">Role</span>[user] <span class="comment">// ğŸ‘‰ user æ˜¯æ•¸å­—å»å¾€å›æ‰¾ Role[0]</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(defaultUser.<span class="property">role</span>) <span class="comment">// &#x27;user&#x27;</span></span><br></pre></td></tr></table></figure><p>æœ‰äººæ˜¯æåˆ°é€™æ¨£æœƒç”¢ç”Ÿæ–°çš„ç‰©ä»¶å°æ•ˆèƒ½ä¸Šæœ‰å·®åˆ¥ï¼Œå¦‚æœè¦ç¯€çœ JavaScript å¤§å°ä¸å¦‚ç”¨ <code>|</code> ğŸ¤”ã€‚</p><p>å¦ä¸€å€‹å¯¦ç”¨çš„ä¾‹å­å°±æ˜¯ ç¥ Q è¶…äººå¤§å¤§æœ‰æåˆ°çš„ Response status codes : <a href="https://medium.com/enjoy-life-enjoy-coding/typescript-%E5%96%84%E7%94%A8-enum-%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BC%8F%E7%9A%84%E5%8F%AF%E8%AE%80%E6%80%A7-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95-feat-javascript-b20d6bbbfe00">TypeScript | å–„ç”¨ Enum æé«˜ç¨‹å¼çš„å¯è®€æ€§ - åŸºæœ¬ç”¨æ³• feat. JavaScript</a>ã€‚</p><h2 id="Array-çš„å…©ç¨®ç”¨æ³•">Array çš„å…©ç¨®ç”¨æ³•</h2><p>07 é¡Œï¼Œ posts æ˜¯é™£åˆ—é¡å‹çš„å¯«æ³•ï¼Œè£¡é¢è£ type Post ç‰©ä»¶é¡å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">  <span class="attr">posts</span>: <span class="title class_">Post</span>[]; <span class="comment">// âœ… å¯ä»¥é€™æ¨£</span></span><br><span class="line">  <span class="attr">posts</span>: <span class="title class_">Array</span>&lt;<span class="title class_">Post</span>&gt;; <span class="comment">// âœ… ä¹Ÿå¯ä»¥é€™æ¨£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">defaultUser</span>: <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Matt&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Pocock&quot;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">  <span class="attr">posts</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&quot;How I eat so much cheese&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><code>Post[]</code> æ˜¯ <code>Array&lt;Post&gt;</code> çš„ç°¡å¯«ã€‚</li></ul><h2 id="äº¤é›†å‹åˆ¥-Intersection-Types-åˆä½µå¤§æ³•">äº¤é›†å‹åˆ¥ Intersection Types (&amp;) : åˆä½µå¤§æ³•</h2><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types">Intersection Types</a></p></blockquote><p>ä»¥ 06 é¡Œç‚ºä¾‹ï¼Œinterface ç›´æ¥æŠŠ role å±¬æ€§å¯«åœ¨è£¡é¢ï¼Œé‚„æœ‰å…¶ä»–çš„å¯«æ³•</p><ul><li><strong>interface åˆä½µ</strong> (<a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html#merging-interfaces">Merging Interfaces</a>) : é™¤äº†å»ºç«‹åœ¨æ–°çš„é¡å‹ (extends) æ“´å±•ï¼Œä¹Ÿå¯ä»¥å¾ â€œè‡ªå·±â€ ä½œç‚ºæ¥å£æ“´å±•ï¼Œå¦‚æœæ’å…¥æ˜¯ key ä¸€å®šè¦æ˜¯å”¯ä¸€å€¼ (unique)ï¼Œè€Œä¸”åŒä¸€ç¨® key å®šç¾©åˆ°ä¸åŒå‹åˆ¥æœƒç”¢ç”ŸéŒ¯èª¤</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span>&#123;</span><br><span class="line">  role : <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>&amp; â”€ Intersection Types : ç”¨æ–¼åˆä½µ type æˆ– interface çµ¦æ–°çš„ type ã€‚ type ä¹Ÿå¯ä»¥å®šç¾©ç‰©ä»¶å‹åˆ¥ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; &#123;</span><br><span class="line">  role : <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥åŸæœ¬ 06 ç‚º interface ï¼Œä¹Ÿå¯ä»¥åˆä½µ interface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">BaseUser</span>&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = <span class="title class_">BaseUser</span> &amp; &#123;</span><br><span class="line">  role : <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›´æ¥æŠŠ role ç„Šåœ¨è£¡é¢æ˜¯ä¸€æ¨£çš„ï¼Œä½†æ˜¯ role æ˜¯ç¨ç«‹çš„ typeï¼Œè®“å‹åˆ¥åœ¨è¨­å®šæ™‚å¯ä»¥æ›´å½ˆæ€§ã€‚</p><ul><li>å†ç¨ç«‹å‡ºä¾† :</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; &#123;</span><br><span class="line">  role : <span class="title class_">Role</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Role</span> = <span class="string">&quot;admin&quot;</span> | <span class="string">&quot;user&quot;</span> | <span class="string">&quot;super-admin&quot;</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ä¸€ä¾†ä¸ŠåŠéƒ¨å°±æ˜¯å›ºå®šçš„æ¨¡æ¿ï¼Œ <code>&amp;</code> ä¹‹å¾Œçš„å°±åƒç–ŠåŠ ä¸Šå»çš„ï¼Œå¦‚æœè¦åŠ ä»€éº¼æ±è¥¿ä¹Ÿå¯ä»¥åœ¨ <code>&amp;</code> ä¸Šå» ã€‚</p><h3 id="è£œå……-interface-çš„-extends-v-s-Intersection-Types">è£œå…… : interface çš„ extends v.s Intersection Types</h3><blockquote><p>æ–‡ç« åƒè€ƒ :</p><ol><li><a href="https://stackoverflow.com/questions/52681316/difference-between-extending-and-intersecting-interfaces-in-typescript">types - Difference between extending and intersecting interfaces in TypeScript? - Stack Overflow</a></li><li><a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#interfaces-vs-intersections">Interfaces vs. Intersections</a></li><li><a href="https://stackoverflow.com/questions/67498054/extends-vs-intersection-in-typescript">javascript - Extends vs Intersection in Typescript - Stack Overflow</a></li></ol></blockquote><p>å…©è€…çš„ç›®çš„å¾ˆåƒï¼Œä¸»è¦æ˜¯çœ‹è‡ªå·±æ‡‰ç”¨çš„ç¿’æ…£ï¼Œå®˜æ–¹èªªåˆ°æœ€å¤§çš„å·®åˆ¥æ˜¯éŒ¯èª¤çš„è™•ç† : <strong>åŒæ¨£çš„ key æ€éº¼è¾¦ ?</strong> extends æœƒå‡ºç¾éŒ¯èª¤ï¼Œä½† type ä½¿ç”¨ <code>&amp;</code> çš„ä¸æœƒã€‚</p><ol><li>type äº¤é›†å…©å€‹ interface ä¸¦ä¸æœƒè®Š interface ï¼Œä¸€æ¨£æ˜¯ typeã€‚ A è·Ÿ B ä¸€æ¨£æœƒç”¢ç”Ÿäº¤é›†ã€‚<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A&#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> B&#123;&#125;</span><br><span class="line"><span class="keyword">type</span> C = A &amp; B</span><br></pre></td></tr></table></figure></li><li>interface extends çš„ key å‹åˆ¥å¦‚æœæœ‰ç”¨å¤šå€‹å€¼å·®é›†ï¼Œåªèƒ½å¾ä¸­ç¹¼æ‰¿ï¼Œä¸èƒ½æœ‰é¡å¤–çš„å‹åˆ¥ï¼›type å°±æ²’é‚£éº¼åš´æ ¼ï¼Œé›–ç„¶æ˜¯äº¤é›†ï¼Œä½†æ²’æœ‰çš„ä¹Ÿä¸æœƒå‡ºéŒ¯ã€‚</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// âœ… ok </span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Child1</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// âŒ å‡ºç¾éŒ¯èª¤ï¼Œboolean ä¸¦ä¸åœ¨ Parent.x è£¡é¢</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Child2</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123; </span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span> | <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// âœ… ä¸æœƒæ€æ¨£ï¼Œåªæ˜¯åšäº¤é›†ï¼Œä¸¦æ²’æœ‰ç¹¼æ‰¿å»ºç«‹æ–°çš„æ’é€²å»</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IntersectedChild</span> = <span class="title class_">Parent</span> &amp; &#123;<span class="attr">x</span>: <span class="built_in">string</span> | <span class="built_in">boolean</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IntersectedChildX</span> = <span class="title class_">IntersectedChild</span>[<span class="string">&#x27;x&#x27;</span>]; <span class="comment">// string</span></span><br></pre></td></tr></table></figure><p>è¨˜ä½ï¼Œinterface ä¹‹ä¸èƒ½ç›´æ¥åšäº¤é›† :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ ä¸æœƒæœ‰é€™æ¨£çš„æ±è¥¿</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span>&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; &#123;</span><br><span class="line">  role : ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çµ„åˆæŠ€-Intersection-Types-Discriminated-Unions">çµ„åˆæŠ€ Intersection Types + Discriminated Unions</h2><p>ä»¥ 06 é¡Œç‚ºä¾‹ï¼Œå¯ä»¥æŠŠ role ç•¶æˆé™„åŠ  key ï¼Œå®šç¾©ä¸åŒçš„ç‰©ä»¶å…§å®¹ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp;( &#123;</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">  adminPassword : <span class="built_in">string</span>; </span><br><span class="line">&#125; | &#123;</span><br><span class="line">  role : <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125; |&#123;</span><br><span class="line">  role : <span class="string">&#x27;super-admin&#x27;</span>;</span><br><span class="line">  <span class="attr">superadminPassword</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>è¨˜å¾— <code>&amp;</code> å¾Œé¢çš„æ‹¬è™ŸåŒ…èµ·ä¾†ï¼Œè¦–ç‚ºä¸€æ•´çµ„ã€‚</p></blockquote><p>å¦‚æ­¤ä¸€ä¾†åœ¨ User ä½¿ç”¨æ™‚ï¼Œ role å¯ä»¥æ ¹æ“šå¡«å…¥çš„å­—ä¸²æ±ºå®šå“ªç¨® passwordã€‚å¡«å…¥ <code>&quot;user&quot;</code> å‰‡ä¸ç”¨ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… No error</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Rosa</span> :<span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&#x27;rosa&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;hong&#x27;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;user&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* âŒ</span></span><br><span class="line"><span class="comment">Property &#x27;adminPassword&#x27; is missing in type &#x27;&#123; id: number; firstName: string; lastName: string; role: &quot;admin&quot;; &#125;&#x27; but required in type &#x27;&#123; role: &quot;admin&quot;; adminPassword: string; &#125;&#x27;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Rosa</span> :<span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&#x27;rosa&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;hong&#x27;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&quot;admin&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ä¸€ä¾†å¯ä»¥æŒ‰ç…§ role çš„ä¸åŒè¨‚å®šä¸åŒçš„ keyã€‚</p><h3 id="å†æ‹†è§£">å†æ‹†è§£</h3><p><code>timecode : 58:50ã€59:14</code> ï¼Œæºæ–¼å½±ç‰‡æœ€å¾Œä¸€é¡Œï¼Œé€™ä¹Ÿæ˜¯æˆ‘è¦ºå¾—è »å¯¦ç”¨çš„ä¸€å€‹ï¼Œå¹¾ä¹æŠŠ type èƒ½åˆ‡å°±åˆ‡ã€‚</p><p>æŠŠä¸Šé¢ <code>&amp;</code> ä¹‹å¾Œçš„éƒ¨ä»½å¦å¤–æå‡ºæˆ type ï¼Œä¸¦ä¸”å€‹åˆ¥ç”¨ç‰©ä»¶ bracket notation åˆ†é…çµ¦ Role :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> =  &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; <span class="title class_">UserRoleAttributes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å·®é›†çš„åŸå› ï¼Œrole æ˜¯æœƒè¢«æå‡ºä¾†ï¼Œåƒæ•¸å­¸çš„çµåˆå¾‹ğŸ¤” </span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserRoleAttributes</span> = | </span><br><span class="line">&#123;</span><br><span class="line">  role : <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">  <span class="attr">adminpassword</span>:<span class="built_in">string</span>;</span><br><span class="line">&#125; |&#123;</span><br><span class="line">  role : <span class="string">&quot;user&quot;</span></span><br><span class="line">&#125; | &#123;</span><br><span class="line">  role : <span class="string">&quot;super-admin&quot;</span>;</span><br><span class="line">  <span class="attr">superpassword</span>: <span class="built_in">string</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨ bracket notation æ‹¿åˆ°ç‰©ä»¶å±¬æ€§ï¼Œä¹Ÿå°±æ˜¯ &quot;admin&quot; | &quot;user&quot; | &quot;super-admin&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Role</span> = <span class="title class_">UserRoleAttributes</span>[<span class="string">&quot;role&quot;</span>]</span><br></pre></td></tr></table></figure><p>æˆ‘è¦ºå¾—é€™å€‹æ¦‚å¿µæ‡‰è©²æ˜¯ Role åŸæœ¬ç”¨å­—ä¸²ä¸²èµ·ä¾†ï¼Œæ–¹ä¾¿é–‹ç™¼ IDE æç¤ºï¼Œä½†æ˜¯ç•¶æˆ‘å€‘ç”¨ <code>&amp;</code> ä¸²åœ¨ä¸€èµ·ä¹‹å¾Œï¼Œåè€Œæ²’è¾¦æ³•ç¨ç«‹å‡ºä¾†ï¼Œå¦‚æœå…¶ä»–åœ°æ–¹ä¹Ÿæœ‰è¦ä½¿ç”¨åˆ° <code>Role</code>ï¼Œè±ˆä¸å°±è¦å¦å¤–å»ºç«‹å— ?</p><p>å›åˆ°å‹åˆ¥ä¹Ÿæœƒç€‘å¸ƒæµé€™é»ï¼Œ <code>UserRoleAttributes</code> æå‡ºä¾†ä¹‹å¾Œï¼Œå®ƒå°±æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œå·®é›†çš„éƒ¨ä»½æ˜¯æ¯å€‹éƒ½æœ‰ role é€™å€‹ key ï¼Œé›–ç„¶ä¸èƒ½ <code>UserRoleAttributes.role</code> ï¼ŒObject é‚„æœ‰ bracket notation å¯ä»¥ç”¨å­—ä¸²æ–¹å¼å–å¾—å€¼ï¼ŒRole å°±å¯ä»¥å†è¢«æå‡ºä¾†ã€‚</p><h2 id="è¢«æåˆ°ä½†æ²’è§£ç­”-decorator">è¢«æåˆ°ä½†æ²’è§£ç­” : @decorator</h2><p>åœ¨å½±ç‰‡ä¸­æ˜¯è¢«æå•çš„ï¼Œè¬›è€…èªªé€™å¾ˆå°‘ç”¨åˆ°ğŸ¤”ã€‚<br> ç›®å‰é‚„æ˜¯å¯¦é©—æ€§åŠŸèƒ½ï¼Œ<a href="https://www.typescriptlang.org/docs/handbook/decorators.html#introduction">å®˜ç¶²</a>æ˜¯èªªç”¨ä¸»è¦ç”¨åœ¨é¡åˆ¥ (Class)ï¼Œå¯ä»¥åƒè€ƒè«å¤§é€™ç‰‡æ–‡ç«  : <a href="https://oldmo860617.medium.com/%E5%8D%81%E5%88%86%E9%90%98%E5%B8%B6%E4%BD%A0%E4%BA%86%E8%A7%A3-typescript-decorator-48c2ae9e246d">ååˆ†é˜å¸¶ä½ äº†è§£ TypeScript Decorator. ä»€éº¼æ˜¯ DecoratorÂ ?</a> ã€‚</p><p>decorator çš„ç”¨è™•æ˜¯åœ¨ä¸ä¿®æ”¹åŸç¨‹å¼ç¢¼çš„ç‹€æ³ä¸‹ï¼Œåœ¨åŸ·è¡ŒåŸå‡½å¼çš„å‰å¾Œåšä¸€äº›ç‰¹å®šçš„æ“ä½œï¼ŒåŒæ™‚ä¹ŸæŠŠå¯ä»¥é‡è¤‡ä½¿ç”¨çš„é‚è¼¯åˆ‡åˆ†å‡ºå»ã€‚</p><p>å¾ˆå¥½!ç¾åœ¨çš„æˆ‘çœ‹ä¸æ‡‚ğŸ¤ªï¼Œä¸éæ‡‰è©²æ˜¯ç”¨åœ¨ç‰©ä»¶å°å‘é–‹ç™¼ä¸Šæœ‰ä¸å°‘å¹«åŠ©ï¼Œ<a href="https://github.com/tc39/proposal-decorators">é€™é …æ›´èƒ½æœªä¾†å¾ˆå¯èƒ½ç´ç‚º JavaScript æ¨™æº–ä¹‹ä¸€</a> ã€‚</p><h2 id="è§£å‰©ä¸‹çš„é¡Œç›®">è§£å‰©ä¸‹çš„é¡Œç›®</h2><p>å½±ç‰‡åˆ°ç¬¬ 07 é¡Œå°±æ²’äº†ï¼Œä¸éå°ˆæ¡ˆçš„é¡Œç›®æœ‰åˆ° 18 é¡Œï¼Œä¸€é‚Šçœ‹ handbook ä¾†å­¸ç¿’ğŸ’ª</p><h3 id="09-10-å‹åˆ¥æ–·è¨€-Type-Assertion">09 &amp; 10 å‹åˆ¥æ–·è¨€ Type Assertion</h3><h4 id="09-promises-problem">09 promises problem</h4><p>æœ‰ä¸€äº› TS æ²’è¾¦æ³•è¾¨åˆ¥å‡ºä¾†çš„é¡å‹ï¼Œä¾‹å¦‚ DOM ç¯€é»å°æ–¼ TS æŒ‡èƒ½è¾¨åˆ¥åˆ° <code>HTMLElement</code>ï¼Œå¦‚æœæ˜¯æ›´è©³ç´°çš„è³‡è¨Š (å¦‚ä¾†è‡ªæ–¼ <code>HTMLCanvasElement</code> ) æ˜¯æ²’è¾¦æ³•è¢«è¾¨åˆ¥çš„ã€‚ç”¨ Type Assertion å¯ä»¥æ‰‹å‹•æ·»åŠ ä¸€å€‹å€¼çš„å‹åˆ¥ã€‚</p><p>å‹åˆ¥æ–·è¨€æœ‰å…©ç¨®å½¢å¼ :</p><ul><li><code>&lt;Type&gt;value</code></li><li><code>value as &lt;Type&gt;</code></li></ul><p>åœ¨ 09 é¡Œï¼Œdata æ‰€å›å‚³çš„æ˜¯ Promise çš„é™£åˆ—ç‰©ä»¶ (await çš„ç·£æ•…)ï¼Œå…§æ¶µå¤šå€‹ç‰©ä»¶çš„çµæ§‹ï¼Œç”¨ <code>LukeSkywalker</code> å®šç¾©å¥½å‹åˆ¥åŠ ä¸Šå» :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchLukeSkywalker = <span class="keyword">async</span> (): <span class="title class_">Promise</span>&lt;<span class="title class_">LukeSkywalker</span>&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;https://swapi.dev/api/people/1&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>è§£æ³• 2 æ˜¯åœ¨ return æ™‚ç›´æ¥ä½¿ç”¨ <code>as</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> data <span class="keyword">as</span> <span class="title class_">LukeSkywalker</span>;</span><br></pre></td></tr></table></figure><p>æˆ‘åˆæŸ¥äº† Handbookï¼Œ <a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#the-array-type">Handbook æåˆ°</a> :</p><blockquote><p>Modern JavaScript also provides other data structures which are generic, like <code>Map&lt;K, V&gt;</code>, <code>Set&lt;T&gt;</code>, and <code>Promise&lt;T&gt;</code>. All this really means is that because of how Map, Set, and Promise behave, they can work with any sets of types.</p></blockquote><p>æ³›å‹é¡åˆ¥çš„è³‡æ–™çµæ§‹ï¼Œæœ€å¸¸è¦‹çš„å°±æ˜¯ Arrayï¼Œ <code>[]</code> æœ‰æ™‚ä¸åªåŒ…å«ä¸€ç¨®å‹åˆ¥ï¼Œåˆ©ç”¨æ³›å‹å¯ä»¥è®“ TS åœ¨ä½¿ç”¨æ™‚å»æ¨æ–· <code>Array&lt;T&gt;</code> T çš„å‹åˆ¥ã€‚ Map ã€ Set ä»¥åŠ Promise ä¹Ÿå¯ä»¥ç”¨é€™ç¨®æ–¹å¼ã€‚</p><ul><li>ç¬¬ä¸€æ¬¡å˜—è©¦ç”¨æ³›å‹ğŸ¤”</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchLukeSkywalker = <span class="keyword">async</span> &lt;T&gt;(): <span class="title class_">Promise</span>&lt;T&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;https://swapi.dev/api/people/1&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å‘¼å«æ™‚å¸¶å…¥å‹åˆ¥</span></span><br><span class="line"><span class="keyword">const</span> result = fetchLukeSkywalker&lt;<span class="title class_">LukeSkywalker</span>&gt;()</span><br></pre></td></tr></table></figure><p>æˆ‘æƒ³ç”¨é€™æ¨£å¯ä»¥è®“åƒæ•¸å¸¶å…¥ç‰¹åˆ¥çš„ç¶²å€ï¼Œæ›´å½ˆæ€§çš„å¸¶å…¥æŒ‡å®šçš„å‹åˆ¥ğŸ¤”ï¼Œå¾Œä¾†æŸ¥ä¸€æŸ¥çœŸçš„æœ‰é€™äº›ä½¿ç”¨æ–¹æ³• :</p><ul><li>é€™ç¯‡æåˆ° any çš„éƒ¨åˆ†æ‡‰è©²æ”¹ç‚º unknownï¼Œé¿å…ç™¼ç”Ÿå‘¼å«å‡½å¼æ–¹æ³•éŒ¯èª¤çš„å•é¡Œ : <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/pull/36868#issuecomment-512989650">Node-Fetch: Generic for â€œbodyâ€.json() method</a></li><li>å¯¦éš›ä¸Šåˆ¥äººå•çš„å•é¡Œ : <a href="https://stackoverflow.com/questions/41103360/how-to-use-fetch-in-typescript">promise - How to use fetch in TypeScript - Stack Overflow</a></li></ul><p>æ‡‰ç”¨åœ¨ React ä¸Šçš„ä¾‹å­å¯ä»¥åƒè€ƒ Kent.C.Dodds çš„æ–‡ç«  : <a href="https://kentcdodds.com/blog/using-fetch-with-type-script">Using fetch with TypeScript</a></p><h4 id="è£œå……-ä»€éº¼æ˜¯æ³›å‹-Generics">è£œå…… : ä»€éº¼æ˜¯æ³›å‹ (Generics) ?</h4><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://willh.gitbook.io/typescript-tutorial/advanced/generics?q=Promise">æ³›å‹ - TypeScript æ–°æ‰‹æŒ‡å—</a></p></blockquote><p>æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šç¾©å‡½å¼ã€ä»‹é¢æˆ–é¡åˆ¥çš„æ™‚å€™ï¼Œä¸é å…ˆæŒ‡å®šå…·é«”çš„å‹åˆ¥ï¼Œè€Œ <strong>åœ¨ä½¿ç”¨çš„æ™‚å€™å†æŒ‡å®šå‹åˆ¥çš„ä¸€ç¨®ç‰¹æ€§</strong>ã€‚</p><p>é—œæ–¼æ³›å‹æˆ‘ä¹Ÿä¸å¤ªäº†è§£ï¼Œç°¡å–®ä¾†èªªå‹åˆ¥ä¸ç”¨å†ä¸€é–‹å§‹å°±æä¾›å‹åˆ¥ï¼Œè€Œæ˜¯æœ‰ç”¨åˆ°æ™‚åœ¨è³¦äºˆå°±å¥½ã€‚å°±åƒ fetch çš„ä¾‹å­ï¼Œå›å‚³å€¼ç…§ç†ä¾†èªªæ˜¯ <code>Promise&lt;any&gt;</code> ï¼Œç„¡æ³•å›ºå®šä¸€ç¨®å‹åˆ¥å…§å®¹ï¼Œå¦‚æœè¦æ ¹æ“šç¶²å€ä¾†å‹•æ…‹è¾¨åˆ¥è³‡æ–™å‹åˆ¥ï¼Œæ³›å‹å°±æ˜¯å€‹å¾ˆå¥½çš„å°å¹«æ‰‹ã€‚</p><h4 id="10-Set-Problem">10 Set Problem</h4><p>è·Ÿ Promise çš„è§£æ³•ä¸€æ¨£ï¼Œåªæ˜¯ä¸åœ¨å‡½å¼ä¸­ï¼Œè€Œæ˜¯ä¸€èˆ¬çš„è®Šæ•¸</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> guitarists = <span class="keyword">new</span> <span class="title class_">Set</span>&lt;<span class="built_in">string</span>&gt;();</span><br></pre></td></tr></table></figure><p>Set å¯ä»¥çœ‹åšæ˜¯ä¸€ç¨® type ï¼Œ<code>Set&lt;Type&gt;</code> ï¼Œè€Œ <code>&lt;Type&gt;</code> æ˜¯ä¸€ç¨®å‹åˆ¥æ¨¡æ¿ï¼Œ æ¯ä¸€å€‹ Set å…§éƒ¨éƒ½æœƒè¢«å®šç¾© string çš„å‹åˆ¥ã€‚</p><p>åœ¨ interface æˆ– type (Type aliases) ä¹Ÿéƒ½èƒ½ä½¿ç”¨ï¼Œåˆ©ç”¨ <code>type</code> ç”¢ç”Ÿçš„å¯ä»¥æ›´åŠ å½ˆæ€§ç”¨åœ¨ Primitive type ä¸­ã€‚ (é€™å¥å¥½åƒæ€ªæ€ªçš„)</p><h3 id="11-Records">11 Records</h3><p>Records æ˜¯ TypeScript æä¾›å…§éƒ¨ä¸€äº›å¹«åŠ©è½‰æ›å‹åˆ¥çš„æ–¹æ³•ï¼Œç¨±åš <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">Utility Types</a> å·¥å…·å‹åˆ¥ã€‚å¯ä»¥çœ‹åˆ°æ¯ä¸€å€‹ Utility éƒ½æ¥æ”¶ Type ä¸¦ä¸”ç”¢ç”Ÿå¦ä¸€ç¨® Typeã€‚è·Ÿ function å¾ˆåƒå°å§ï¼Œ <code>Type = f(type)</code> ğŸ¤”</p><p>11 é¡Œï¼Œå¯ä»¥çœ‹åˆ°éƒ½æœ‰ç”¨åˆ° <code>id</code> é€™å€‹ propertyï¼Œä½†æ˜¯ id æ˜¯è¼¸å…¥ä¾†çš„ï¼Œä¸¦éå·²è¢«å®šç¾©çš„ property</p><h4 id="è§£æ³•-1-Bracket-notation">è§£æ³• 1 : Bracket notation</h4><p>ç‰©ä»¶é€ è¨ªæœ‰å…©ç¨®æ–¹å¼ :</p><ol><li>ç†Ÿæ‚‰çš„ dot notation : <code>obj.a</code></li><li>å¯ä»¥è¼¸å…¥å­—ä¸²å­—æˆ–æ•¸å­—çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors#bracket_notation">Bracket notation</a> : <code>obj['0']</code> or <code>obj['rosa']</code></li></ol><p>æ—¢ç„¶ id æ˜¯ä»»æ„çš„ï¼Œdot åªé©åˆå›ºå®šå·²çŸ¥çš„ propertyï¼Œæ‰€ä»¥ç”¨ bracket</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Cache</span> = &#123;</span><br><span class="line">  [<span class="attr">id</span>: <span class="built_in">string</span>] : <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createCache</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">cache</span>:<span class="title class_">Cache</span> = &#123;&#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="è§£æ³•-2-inline-å¯«æ³•">è§£æ³• 2 : inline å¯«æ³•</h4><p>è·Ÿä¸Šé¢çš„ä¸€æ¨£ï¼Œåªæ˜¯åœ¨åŸåœ°æ‹†é–‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">createCache</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">cache</span>:&#123;</span><br><span class="line">    [<span class="attr">id</span>: <span class="built_in">string</span>] : <span class="built_in">string</span></span><br><span class="line">  &#125; = &#123;&#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="è§£æ³•-3-Records">è§£æ³• 3 : Records</h4><p>ç”¨æ³• : <code>Record&lt;Keys, Type&gt;</code> ã€‚ ä¸€æ¬¡æŒ‡å®š key è·Ÿ value çš„å‹åˆ¥</p><p>æ­¤å¤–ä¹Ÿå¯ä»¥åšç‰©ä»¶ key-value çš„çµ„åˆæ–¹æ³•ï¼Œå®˜æ–¹çš„æä¾›çš„ç¯„ä¾‹ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CatInfo ç‰©ä»¶çš„ type</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">CatInfo</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// CatName çš„ type</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CatName</span> = <span class="string">&quot;miffy&quot;</span> | <span class="string">&quot;boris&quot;</span> | <span class="string">&quot;mordred&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Record ä½¿å…¶å°æ‡‰ä¸€èµ·</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">cats</span>: <span class="title class_">Record</span>&lt;<span class="title class_">CatName</span>, <span class="title class_">CatInfo</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">miffy</span>: &#123; <span class="attr">age</span>: <span class="number">10</span>, <span class="attr">breed</span>: <span class="string">&quot;Persian&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">boris</span>: &#123; <span class="attr">age</span>: <span class="number">5</span>, <span class="attr">breed</span>: <span class="string">&quot;Maine Coon&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">mordred</span>: &#123; <span class="attr">age</span>: <span class="number">16</span>, <span class="attr">breed</span>: <span class="string">&quot;British Shorthair&quot;</span> &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">cats.<span class="property">boris</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ä¸€ä¾† key å°±è¢«é™åˆ¶åœ¨ <code>CatName</code> çš„ç¯„åœè£¡ï¼Œæ–°å¢æ¸›å°‘éƒ½ä¸è¡Œï¼Œinfo ä¹Ÿæ˜¯è¦ç…§æ ¼å¼å¡«ã€‚</p><p>å›åˆ°ç·´ç¿’é¡Œ 11ï¼Œkey-value é…å°ï¼Œæˆ‘å€‘åªè¦å¡«ä¸Š key-value çš„å‹åˆ¥å°±å®Œæˆäº†</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">cache</span>: <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; = &#123;&#125;;</span><br></pre></td></tr></table></figure><h3 id="12-é™ç¸®-Narrowing-typeof-guards">12 é™ç¸® Narrowing + typeof guards</h3><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#typeof-type-guards">TypeScript: Documentation - Narrowing</a></p></blockquote><p>Unions ( <code>|</code> ) çš„ä½¿ç”¨é™¤äº†å¤šå€‹å­—ä¸²ï¼Œè®“æˆ‘å€‘åœ¨ç·¨è¼¯å™¨ä¸Šç›´æ¥åšå¿«é€Ÿé¸æ“‡ä¹‹å¤–ï¼Œå¦‚æœæ”¾å¤šç¨®ä¸åŒå‹åˆ¥ï¼Œæœƒæœ‰æ’åºå®šå‹åˆ¥ã€é™ç¸®å‹åˆ¥çš„æ•ˆæœ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">coerceAmount</span> = (<span class="params">amount: <span class="built_in">number</span> | &#123; amount: <span class="built_in">number</span> &#125;</span>) =&gt; &#123;&#125;;</span><br></pre></td></tr></table></figure><p>åƒæ•¸ <code>amount</code> å…è¨±è¼¸å…¥å…©ç¨®å‹åˆ¥ï¼Œåˆ†åˆ¥æ˜¯ number è·Ÿ object ã€‚åœ¨ JavaScript ä¸­å¦‚æœè¦çŸ¥é“å€¼å¾—å‹åˆ¥æœƒä½¿ç”¨ <code>typeof</code> ï¼Œé™¤äº†å¹¾å€‹æ¯”è¼ƒç‰¹ä¾‹çš„ Array æˆ– null ï¼Œå¤§éƒ¨åˆ†çš„å‹åˆ¥éƒ½æ˜¯å¯ä»¥è¢«è¾¨åˆ¥å‡ºä¾†çš„ã€‚</p><p>è®Šæ•¸ä½¿ç”¨ ( <code>|</code> ) ä¹‹å¾Œåœ¨å…§éƒ¨è¦å†ç”¨ <code>typeof</code> å¹«åŠ©æˆ‘å€‘æ›´ç²¾æº–åˆ¤æ–·å…¶å‹åˆ¥ï¼ŒTS ç¨±åš <strong>typeof<br> type guards</strong>ï¼Œ ä»¥ 12 é¡Œçš„è§£æ³•åŠ ä¸Š <code>typeof</code> åˆ¤æ–·é™åˆ¶ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">coerceAmount</span> = (<span class="params">amount: <span class="built_in">number</span> | &#123; amount: <span class="built_in">number</span> &#125;</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> amount === <span class="string">&#x27;number&#x27;</span>) <span class="keyword">return</span> amount</span><br><span class="line">    <span class="keyword">return</span> amount.<span class="property">amount</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ¥å¿˜äº† <code>typeof</code> å›å‚³å€¼æ˜¯ string</p></blockquote><p><code>typeof</code> é©åˆæ‹¿ä¾†ç”¨åœ¨åŸºæœ¬å‹åˆ¥èˆ‡ object ã€ function ï¼Œå…¶ä»–çš„ null ã€0 (æ•¸å­—/å­—ä¸²)ã€<code>NaN</code> ç­‰éƒ½æœ‰å°æ‡‰çš„æ–¹å¼è§£æ±ºï¼Œå¯ä»¥åƒè€ƒå®˜æ–¹çš„ handbookã€‚</p><h3 id="13-try-catch-ä¸­çš„éŒ¯èª¤è™•ç†">13 try catch ä¸­çš„éŒ¯èª¤è™•ç†</h3><p>13 é¡Œæ˜¯ tryâ€¦catch éŒ¯èª¤å¾ˆå¸¸è¦‹çš„æƒ…å½¢ ï¼Œ <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Error#error_types">e æ˜¯éŒ¯èª¤ ( Error ) çš„ç‰©ä»¶ï¼Œæ˜¯ä¸€å€‹æ³›å‹</a>ï¼Œç°¡å–®ä¾†èªªä¸èƒ½å¾ˆç¢ºå®šä»–çš„å‹åˆ¥ï¼Œé€™æ™‚å€™è¦ e æ€éº¼å®šç¾©å‘¢ ?</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">tryCatchDemo</span> = (<span class="params">state: <span class="string">&quot;fail&quot;</span> | <span class="string">&quot;succeed&quot;</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (state === <span class="string">&quot;fail&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Failure!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> e.<span class="property">message</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="è§£æ³•-1-Type-Assertion">è§£æ³• 1 : Type Assertion</h4><p>å·²çŸ¥ä»–æ˜¯å€‹ Error ç‰©ä»¶ï¼Œä¸¦ä¸åœ¨ä¸€èˆ¬çš„å‹åˆ¥è£¡é¢ã€‚æˆ‘å€‘å¯ä»¥ç”¨å‹åˆ¥æ–·è¨€ (Type Assertion) ä¾†å¹«åŠ©è¾¨åˆ¥æ›´ç´°ç¯€çš„é¡å‹ï¼Œä¾‹å¦‚ : Error å¯èƒ½æ˜¯ <code>DOMException</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// ç”¨ as </span></span><br><span class="line">  <span class="keyword">return</span> (e <span class="keyword">as</span> <span class="title class_">Error</span>).<span class="property">message</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è¦è®Šæˆé€™æ¨£ä¹Ÿæ˜¯å¯ä»¥ğŸ¤” (?)</span></span><br><span class="line">  <span class="keyword">return</span> (&lt;<span class="title class_">Error</span>&gt;e).<span class="property">message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’¦ ? ç‚ºä»€éº¼ä¸æ˜¯å¯«åœ¨åƒæ•¸ <code>e</code> æ—é‚Šå‘¢ ?</p><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://kentcdodds.com/blog/get-a-catch-block-error-message-with-typescript">Get a catch block error message with TypeScript</a></p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* âŒ interface Error</span></span><br><span class="line"><span class="comment">Catch clause variable type annotation must be &#x27;any&#x27; or &#x27;unknown&#x27; if specified.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">catch</span> (e : <span class="title class_">Error</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> e.<span class="property">message</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çµæœæœƒç™¼ç”ŸéŒ¯èª¤ï¼ŒError ä¹Ÿä¸å† TS è¾¨è­˜çš„å‹åˆ¥è£¡é¢ï¼Œ<code>Error</code> å°±è¢«ç•¶ä½œå‹åˆ¥ (type/interface)ï¼Œå¯¦éš›ä¸Šæ˜¯ <code>catch(e)</code> é€™è£¡å°±è¢«åˆ¤åˆ¥ç‚º Error ï¼Œå¤ªæ—©äº†ï¼ŒJS æœƒè·³å‡ºéŒ¯èª¤ã€‚</p><h4 id="è§£æ³•-2-any">è§£æ³• 2 : any</h4><p>æˆ‘è¦ºå¾—æ›´åƒæ˜¯æŸç¨®é€ƒé¿/å¿½ç•¥æ‰‹æ®µğŸ¤£ã€‚ä¸éé€™æ¨£çš„æƒ…å½¢ä¸å°‘è¦‹ï¼Œä¾‹å¦‚ : è·Ÿ fetch å›å‚³ Promise æ‹¿ä¾†å›çš„è³‡æ–™ä¹Ÿæ˜¯æ³›å‹ï¼Œå› æ­¤æœ‰çš„äººè™•ç†æœƒæ˜¯ <code>Promise&lt;any&gt;</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span> (e : <span class="built_in">any</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> e.<span class="property">message</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è§£æ³•-3-instance-of">è§£æ³• 3 : instance of</h4><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#instanceof-narrowing">instance of narrowing</a></p></blockquote><p>è·Ÿä¸Šé¢æåŠçš„ Narrowing æ˜¯åŒä¸€çµ„ï¼Œåªæ˜¯æ›´ç´°å¾®çš„æ‰¾å°‹ prototype chain ä¸Šçš„ instanceï¼Œä¾‹å¦‚ : <code>Object.prototype</code> æ˜¯ä¸€åˆ‡çš„èµ·æºï¼Œä½†æ˜¯ string ã€ number ç­‰é€™äº›æ±è¥¿ä¹Ÿæœ‰æ˜¯åœ¨å‹åˆ¥åŒ…è£¹å™¨çš„ chain ä¸Šï¼ŒJS æ‰¾éˆä¸Šçš„è¦å‰‡æ˜¯æ‰¾åˆ°å°±åœï¼Œå› æ­¤ string æœƒåœç•™åœ¨ <code>String.prototype</code> ï¼Œè®“ string å¯ä»¥ç”¨é¡ä¼¼ç‰©ä»¶ä½¿ç”¨ methodã€‚</p><p>instance of å¯ä»¥åœ¨æ›´ç´°åˆ†ä¸åŒçš„ Error å‹åˆ¥ï¼Œæˆ–è€…å°±æ‹¿å®ƒä¾†åˆ¤æ–·æ˜¯ä¸æ˜¯ Error çš„ä¸€ç¨®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="keyword">if</span> (e <span class="keyword">instanceof</span> <span class="title class_">Error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> e.<span class="property">message</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ‘‰ MDN ä¹Ÿæœ‰æåˆ°é€™éƒ¨åˆ† <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch#conditional_catch-blocks">tryâ€¦catch - JavaScript | MDN</a>ï¼Œ ç”¨ instance of å€åˆ†ä¸åŒçš„ Errorã€‚</p><h3 id="14-extends-interface-ç‰©ä»¶æ“´å……">14 extends : interface ç‰©ä»¶æ“´å……</h3><p>14 é¡Œå°±æ˜¯æŠŠç›¸åŒçš„å‹åˆ¥é‚è¼¯æ‹‰å‡ºä¾†ï¼Œç›¸é—œä½¿ç”¨çš„éƒ½ç”¨ç¹¼æ‰¿ï¼Œæ²’ä»€éº¼é›£åº¦</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">UserBase</span> &#123;</span><br><span class="line">  id : <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> <span class="keyword">extends</span> <span class="title class_">UserBase</span>&#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Post</span> <span class="keyword">extends</span> <span class="title class_">UserBase</span>&#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">body</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Comment</span> <span class="keyword">extends</span> <span class="title class_">UserBase</span>&#123;</span><br><span class="line">  <span class="attr">comment</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15-intersection-ç‰©ä»¶äº¤é›†åˆä½µ">15 intersection : ç‰©ä»¶äº¤é›†åˆä½µ</h3><p>äº¤é›† <code>&amp;</code> å¯ä»¥è®“ <code>type</code> åˆä½µï¼Œ 15 é¡Œå¯ä»¥çœ‹åˆ°å¤šäº† <code>posts</code> keyï¼Œåœ¨å›å‚³çš„éƒ¨åˆ†å¯ä»¥åŠ ä¸Š type :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDefaultUserAndPosts = (): <span class="title class_">User</span> &amp; &#123;<span class="attr">posts</span>: <span class="title class_">Post</span>[]&#125; =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&quot;Matt&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Pocock&quot;</span>,</span><br><span class="line">    <span class="attr">posts</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;How I eat so much cheese&quot;</span>,</span><br><span class="line">        <span class="attr">body</span>: <span class="string">&quot;It&#x27;s pretty edam difficult&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é€™é‚Šç”¨ä¸€è¡Œè§£æ±ºï¼Œä»¥å¯ä»¥å¦å¤–æå‡º <code>type XX = User &amp; &#123;posts: Post[]&#125;</code>ï¼Œå¦å¤–ç”¨ <code>as</code> ä¹Ÿæ˜¯ç¨®è§£æ³•ï¼Œä½†ä¸æ˜¯é‚£éº¼ç›´è¦ºã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type æå‡ºä¾†</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserwPosts</span> = <span class="title class_">User</span> &amp; &#123;<span class="attr">posts</span>: <span class="title class_">Post</span>[]&#125; </span><br><span class="line"><span class="comment">// as </span></span><br><span class="line"><span class="keyword">return</span> &#123;...&#125; <span class="keyword">as</span> (<span class="title class_">User</span> &amp; &#123;<span class="attr">posts</span>: <span class="title class_">Post</span>[]&#125;) </span><br></pre></td></tr></table></figure><h3 id="16-omit-and-pick">16 omit and pick</h3><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys">Omit &amp; Pick</a></p></blockquote><p>é™¤äº† Record ï¼Œ<code>Omit</code> è·Ÿ <code>Pick</code> éƒ½æ˜¯ Utility type ä¹‹ä¸€ï¼Œæˆ‘è¦ºå¾—è·Ÿ <code>Array.filter</code> ä¸€æ¨£ã€‚</p><ul><li><code>Omit&lt;Type,Keys&gt;</code> : å¿½ç•¥</li><li><code>Pick&lt;Type, Keys&gt;</code> : æŒ‘å‡ºéœ€è¦çš„</li></ul><p>ä¸€é–‹å§‹æˆ‘æƒ³èªªæ€éº¼ä¸è¦ç”¨ <code>optional</code> å‘¢ ğŸ¤” ? çµæœæ˜¯ä¸è¡Œçš„ï¼Œå› ç‚ºå®ƒä¸æ˜¯çœŸçš„æ¶ˆå¤±åœ¨é€™å€‹ type è£¡é¢ï¼Œåªæ˜¯æŠŠ id çœ‹åš <code>undefined</code>ã€‚</p><p>Omit è·Ÿ Pick å¾Œé¢å‚³å…¥çš„ keys å¯ä»¥å¤šå€‹å­—ä¸²ï¼Œè¦ä½¿ç”¨å·®é›† ( <code>|</code> )ï¼Œå°±åƒæ¼æ–—ä¸€æ¨£ï¼ŒæŠŠçµæœçµ¦ç¯©å‡ºä¾† :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸è¦ id</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span> = <span class="title class_">Omit</span>&lt;<span class="title class_">User</span>,<span class="string">&quot;id&quot;</span>&gt;;</span><br><span class="line"><span class="comment">// è¦ firstName &amp; lastName</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span> = <span class="title class_">Pick</span>&lt;<span class="title class_">User</span>, <span class="string">&quot;firstName&quot;</span> | <span class="string">&quot;lastName&quot;</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="17-function-types">17 function types</h3><blockquote><p>æ–‡ç« åƒè€ƒ : <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#function-type-expressions">Function Type Expressions</a></p></blockquote><p>17 æ˜¯éå¸¸å¯¦ç”¨çš„ä¸€é¡Œï¼Œå¾ˆå¸¸åœ¨åƒæ•¸å‚³å…¥ callback function ä¾†é”æˆéåŒæ­¥çš„æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">dosomething</span> = (<span class="params">cb</span>) =&gt;&#123;</span><br><span class="line">  <span class="title function_">cb</span>() </span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚º function åŠ ä¸Šå‹åˆ¥æœ€åŸºæœ¬çš„é•·ç›¸ :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(param : <span class="keyword">type</span>) =&gt; <span class="built_in">void</span> </span><br></pre></td></tr></table></figure><ul><li><code>void</code> : æ²’æœ‰å›å‚³å€¼æˆ– <code>undefined</code> çš„æƒ…æ³ã€‚</li><li>å¦‚æœæœ‰å‚³å…¥åƒæ•¸ä¸€å®šè¦å¡«æœ‰åƒæ•¸åï¼Œä¸èƒ½åªæœ‰å‹åˆ¥ <code>(string) =&gt; void</code>ï¼Œé€™æ¨£æœƒæ˜¯æŒ‡ <code>string : any</code> ï¼Œ è®Šæ•¸ string çš„å‹åˆ¥æ˜¯ anyã€‚</li></ul><p>17 é¡Œçš„è§£æ³• :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">addListener</span> = (<span class="params">onFocusChange:(isFocused : <span class="built_in">boolean</span>)=&gt;<span class="built_in">void</span> </span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;focus&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">onFocusChange</span>(<span class="literal">true</span>); <span class="comment">// ğŸ‘‰ æ²’æœ‰å›å‚³åªæœ‰å‘¼å«ï¼Œå‚³å…¥ä¸€å€‹åƒæ•¸</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å¦ä¸€ç¨®å°±æ˜¯æŠŠä»–æå‡ºä¾†</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FocusListener</span> = <span class="function">(<span class="params">isFocused : <span class="built_in">boolean</span></span>)=&gt;</span><span class="built_in">void</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addListener</span> = (<span class="params">onFocusChange : FocusListener</span>) =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="18-Promise-function">18 Promise function</h3><p>Promise çš„æ³›å‹å·²ç¶“åœ¨ 09 é¡Œæœ‰æéï¼Œ18 é¡ŒåŠ äº†é»é›£åº¦ï¼Œçµåˆ async/await ã€‚</p><p>async æ˜¯ä¸€å€‹ function çš„å½¢å¼ï¼Œä¸¦ä¸”å›å‚³ Promise ç‰©ä»¶ :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">createThenGetUser</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createThenGetUser</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;&#125;</span><br></pre></td></tr></table></figure><p>å…§éƒ¨å¯ä»¥ç”¨ <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/await">await</a> ç­‰å¾… Promise ç‰©ä»¶çš„å›å‚³å€¼ï¼Œå¦‚æœæŠŠå›å‚³å€¼å‚³çµ¦å¦ä¸€å€‹ promise æœƒæ‹¿åˆ°è§£æéçš„å€¼ã€‚ <code>createUser</code> èˆ‡ <code>getUser</code> æ˜¯ä¸€å€‹ function å›å‚³ Promise</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¦éš›ä¸Š createUserã€getUser é•·é€™æ¨£ï¼Œå¹«å®ƒåŠ ä¸Š type</span></span><br><span class="line"><span class="keyword">const</span> createUser = () : <span class="title class_">Promise</span>&lt;<span class="built_in">any</span>&gt; =&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(...)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> getUser = (<span class="attr">id</span>:<span class="built_in">string</span>) :<span class="title class_">Promise</span>&lt;<span class="built_in">any</span>&gt; =&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¾åœ¨åƒæ•¸è®Šæˆ function çš„æ ¼å¼å†æ…¢æ…¢å¡«å›å» :</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”±æ–¼ userId æ˜¯ string ç¢ºå®šäº† Promise çš„æ³›å‹ç‚º string</span></span><br><span class="line">createUser : <span class="function">()=&gt;</span> <span class="built_in">void</span></span><br><span class="line">createUser : <span class="function">()=&gt;</span> <span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// userId æ˜¯åƒæ•¸ï¼Œä¸¦ä¸”å›å‚³ user æ˜¯ User type</span></span><br><span class="line">getUser : <span class="function">() =&gt;</span> <span class="built_in">void</span></span><br><span class="line">getUser : <span class="function">(<span class="params">id : <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Promise</span>&lt;<span class="title class_">User</span>&gt;</span><br></pre></td></tr></table></figure><ul><li>æ”¾å›å»çµæœå°±æ˜¯ :</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> createThenGetUser = <span class="keyword">async</span> (</span><br><span class="line">  <span class="attr">createUser</span>: <span class="function">()=&gt;</span> <span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;,</span><br><span class="line">  <span class="attr">getUser</span>: <span class="function">(<span class="params">id : <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Promise</span>&lt;<span class="title class_">User</span>&gt;</span><br><span class="line">  ): <span class="title class_">Promise</span>&lt;<span class="title class_">User</span>&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">userId</span>: <span class="built_in">string</span> = <span class="keyword">await</span> <span class="title function_">createUser</span>();</span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> <span class="title function_">getUser</span>(userId);</span><br><span class="line">  <span class="keyword">return</span> user;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¸½çµ-22">ç¸½çµ</h2><p>å¯«çš„æ™‚å€™è·Ÿæ‹¼æ‹¼åœ–ä¸€æ¨£ï¼Œé€™ç¯‡è®Šå¾—éå¸¸é›œç‡´ï¼Œæˆ‘ä¸èªç‚ºæ˜¯å¥½ç­†è¨˜ï¼Œç•¶ä½œè³‡è¨Šç´¢å¼•å§ ğŸ¤”ã€‚</p><ul><li>TS å®šç¾©å‹åˆ¥çš„å¥½è™•æ˜¯ææ—©åœ¨ç·¨è­¯ä¹‹å‰å°±å¯ä»¥ç™¼ç¾éŒ¯èª¤ï¼Œæé«˜é–‹ç™¼æ™‚çš„æ•ˆç‡</li><li>å®šç¾©å‹åˆ¥å¯ä»¥æœ‰ 3 ç¨®æ–¹å¼ :<ol><li><strong>inline</strong> : åœ¨å€¼çš„å¾Œé¢åŠ ä¸Šå†’è™Ÿèˆ‡å‹åˆ¥ <code>(a : number)</code></li><li><strong>type</strong> : Primitive type ã€Object type éƒ½å¯ä»¥ä½¿ç”¨</li><li><strong>interface</strong> : åƒ…ç”¨æ–¼ç‰©ä»¶é¡å‹ (Object/Class)ï¼Œå¯ä»¥ä½¿ç”¨ extends ç¹¼æ‰¿</li></ol></li><li><code>?</code> optional type ç”¨ä¾†é¸æ“‡æ€§çš„å€¼ï¼Œ<code>value?: type</code></li><li><code>|</code> (OR) ç¬¦è™Ÿæ˜¯æœ‰å…©ç¨®ä½œç”¨<ol><li>å¦‚æœæ˜¯å‹åˆ¥ (type)ï¼ŒæŒ‰ç…§æ’åºèˆ‡è®Šæ•¸ä½¿ç”¨æ™‚çš„é‚è¼¯é™ç¸®å‹åˆ¥ã€‚<code>string | number</code></li><li>å¦‚æœæ˜¯å¤šå€‹å­—ä¸²ï¼ŒIDE æœƒæç¤ºçš„å­—å¯é¸æ“‡ï¼Œé¿å…æ‰“éŒ¯å­—ã€‚<code>&quot;rosa&quot;|&quot;john&quot;|&quot;tofu&quot;</code></li></ol></li><li><code>&amp;</code> (AND) ç¬¦è™Ÿæ˜¯å° types æˆ– interface åšäº¤é›†åˆä½µï¼Œåˆ¥æ–¼ interface çš„ extendsã€‚</li><li>function ä½œç‚ºåƒæ•¸çš„å‹åˆ¥æ˜¯åŸºæœ¬æ˜¯ <code>( ()=&gt; void )</code></li><li><code>void</code> æ˜¯ function æ²’æœ‰å›å‚³æˆ–æ˜¯ <code>undefind</code> æ™‚ä½¿ç”¨</li></ul><p>å½±ç‰‡ä»¥æœ‰è¶£çš„æ–¹å¼ä¾†å­¸ç¿’ TSï¼Œé›–ç„¶æ²’æœ‰åˆ°å¾ˆå…¨é¢ğŸ¤”ï¼Œéç¨‹é€éæå•æ›´è®“æˆ‘çŸ¥é“æ‡‰ç”¨ä¸Šçš„è§£æ±ºæ–¹æ³•ï¼Œè·Ÿè‘—è„ˆçµ¡èµ°å°æ–¼åˆæ­¥å…¥é–€æ˜¯å¯ä»¥å˜—è©¦çœ‹çœ‹çš„ã€‚æœ€å¾Œæˆ‘ä¹Ÿæ²’æƒ³éæˆ‘æœƒå¯«é€™éº¼é•·ç¯‡ â€¦ã€‚</p><p>ç¬¬ä¸€æ¬¡ä½¿ç”¨ TS æˆ‘çš„å¿ƒå¾—æ˜¯ <strong>çœŸçš„éå¸¸çš„è¤‡é›œè·Ÿéº»ç…©</strong>ï¼Œå…‰æ˜¯è¦å‰‡å°±ä»¤äººé ­ç–¼ğŸ˜µï¼Œæ·±åˆ»æ„Ÿè¦ºåˆ° ã€Œç”¨çš„å¥½ä¸Šå¤©å ‚ï¼Œç”¨ä¸å¥½ä¸‹åœ°ç„ã€ï¼Œè¦èªªè·Ÿ JavaScript æœ‰é—œå— ? çœŸçš„æ›´åƒå­¸å¦ä¸€ç¨®èªè¨€ã€‚</p></div><div class="popular-posts-header">ç›¸é—œæ–‡ç« </div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="\2022\11\TypeScript\TypeScript-why-Object.keys-is-unsafe.html" rel="bookmark">ç­†è¨˜ | TypeScript - Object.keys ç‚ºä»€éº¼ä¸å®‰å…¨</a></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/TypeScript/" rel="tag"><i class="fa fa-tag"></i> TypeScript</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2022/09/learing-web-performance" rel="prev" title="ç­†è¨˜ | Web - åˆæ¢å‰ç«¯æ•ˆèƒ½å„ªåŒ–"><i class="fa fa-chevron-left"></i> ç­†è¨˜ | Web - åˆæ¢å‰ç«¯æ•ˆèƒ½å„ªåŒ–</a></div><div class="post-nav-item"> <a href="/2022/11/TypeScript/TypeScript-why-Object.keys-is-unsafe" rel="next" title="ç­†è¨˜ | TypeScript - Object.keys ç‚ºä»€éº¼ä¸å®‰å…¨">ç­†è¨˜ | TypeScript - Object.keys ç‚ºä»€éº¼ä¸å®‰å…¨<i class="fa fa-chevron-right"></i></a></div></div></footer></article><div style=""><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2022</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">RosaHong</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>ç¸½å­—æ•¸ï¼š</span> <span title="ç¸½å­—æ•¸">293k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>æ‰€éœ€ç¸½é–±è®€æ™‚é–“ &asymp;</span> <span title="æ‰€éœ€ç¸½é–±è®€æ™‚é–“">4:27</span></span></div><div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼·åŠ›é©…å‹•</div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1.15.0/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>
if (document.querySelectorAll('.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8.7.0/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"></body></html>