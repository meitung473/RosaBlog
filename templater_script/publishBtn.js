var publishBtn=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,a,o,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file.find_tfile(t.file.title),"source/_posts",a=t.frontmatter.categories,o=Array.isArray(a)?[].concat(_toConsumableArray(a)):[a],console.log(o),i=r.vault.getAbstractFileByPath("source/_posts").name,u=r.plugins.plugins.metaedit.api.update,e.next=9,u("date",t.date.now("yyyy-MM-DD hh:mm:ss"),n);case 9:if(s=r.vault.getAbstractFileByPath("/"+i+"/"+o.join("/")),c="/source/"+i+"/",s){e.next=20;break}l=0;case 13:if(l<a.length)return c+=a[l]+"/",e.next=17,r.vault.createFolder(c);e.next=20;break;case 17:l++,e.next=13;break;case 20:return console.log(c),e.next=23,t.file.move(""+c+t.file.title);case 23:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var u=e.apply(this,arguments);return new Promise(function(o,i){return function t(e,r){try{var n=u[e](r),a=n.value}catch(e){return void i(e)}if(!n.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});o(a)}("next")})}}module.exports=publishBtn;