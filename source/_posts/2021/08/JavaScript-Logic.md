---
title: 筆記 | JavaScript 邏輯運算子
tags:
  - JavaScript
categories:
  - JavaScript
author: Rosa Hong
date: 2021-08-04 14:33:55
---

## 前言 ## 
在寫網頁的經歷  
有很大一部分是關於 **`「設計面」`**  
程式面的部份都像蘸醬油一樣  
打算把基礎的概念弄得清楚  
<!-- more -->
未來打算規劃 30 Days Javascript Challenages   
提升自己對解決問題的敏感度 XD  
在這之前先補齊一些常識吧 QQ  

## **邏輯運算** ##
在二元邏輯裡面知道布林值有 `true` 和 `false`  
JS 什麼情況下是 `true`？ 什麼是 `false` ？  
其實 JS 對於這兩個各自又對某些值有不同的定義  

在一般的程式語言中，不是回傳 true 就是 fasle  
但在 JS 裡數字、字串也可以做邏輯運算  
後面會說明  

先來看一下運算子有哪三個：  

### **運算子** ###
運算子有三種  

| 邏輯 | 長相  | 說明                                         |
| ---- | :---: | -------------------------------------------- |
| AND  |  &&   | 兩個為 `真` 就是 `真`；其一為 `假` 就是 `假` |
| OR   | \|\|  | 其一為 `真` 就是 `真`，反之 `假` 也是        |
| NOT  |  \!   | `真` 為 `假` ； `假` 為 `真`                 |

\* **NOT** 簡單來說就是把得出的值給相反過來。  

總之基本上有四種狀況  
- true , true
- true , false
- false , true  
- false , false  

應該還行吧～  

### 短路求值 ###
上面有提及關於數字與字串也可以做邏輯運算  
來看看官方的例子  

1. &&     
   
   ```javascript  
   var a1 =  true && true;   // t && t 回傳 true
   var a2 =  true && false;  // t && f 回傳 false
   var a3 = false && true;   // f && t 回傳 false
   var a4 = false && (3 == 4); // f && f 回傳 false
   var a5 = "Cat" && "Dog"; // t && t 回傳 Dog
   var a6 = false && "Cat"; // f && t 回傳 false
   var a7 = "Cat" && false; // t && f 回傳 false
   ``` 

  - a1 兩者為 `真` 就是真 `真`  
  - a2、a3 其一為 `假` ，就是 `假`   
  - a4 兩者為 `假` ， 就是 `假`  
  - a5 為什麼會回傳 **`Dog`** 呢　？  而不是 `Cat`  
  - a6 為什麼會回傳 **`false`** 呢　？ 而不是 `Cat` 
  - a7 為什麼會回傳 **`false`** 呢　？ 而不是 `Cat` 

  官方到底在 **りしれ供さ小**  
  甚至看到 `||` 的例子又更懵了  

2. ||  

  ```javascript
  var o5 = 'Cat' || 'Dog';  // t || t 回傳 Cat
  var o6 = false || 'Cat';  // f || t 回傳 Cat
  var o7 = 'Cat' || false;  // t || f 回傳 Cat  
  ``` 
  - o5 為什麼會回傳 **`Cat`** 呢　？  而不是 `Dog`  
  - o6 為什麼會回傳 **`Cat`** 呢　？ 而不是 `false` 
  - o7 為什麼會回傳 **`Cat`** 呢　？ 而不是 `false`  

   6 跟 7 看起來一樣，判斷上又不一樣  

#### 什麼是短路求值? ####  
把兩者分開來看    
1. ##### **&&** #####
    如果遇到假，整個就是假的了  
    那個 `假` 就是產出的值   
      
    都為真的情況下，最後一個的值才會是產出      
    > 簡單來說就是 **`真的就過關斬將`**  
    > 遇到假的就停止   

    總結來說  
    遇到第一個 `假` ，就短路了    
    後面就不用判斷了  

2. ##### **||** #####
    那麼 `||` 就是相反了  
    遇到真，整個亦為真
    那個真，就是產出的值  
    
    反之，全都假，最後一個值才會是產出  
    > 遇真就停止  
    > 全假就假到底  

    簡單來說，遇到第一個 `真` ，就短路了  

**這有什麼好處呢？**  
短路求值的好處就在 **`不用整個都去判斷完才有果`**  
遇到短路就得值，就 Out  
比較不會占用效能

其實這也不用背啦  
只要知道哪些東西會被判斷為假才叫假  

#### 真真假假是又是怎麼判斷 ####  
> 哪些是 **`false`** ?

以下是 [官方文件](https://developer.mozilla.org/en-US/docs/Glossary/Falsy) 說的    
常見的是這幾個  
1. `0`
2. `""`、`''` 空字串
3. `null`
4. `NaN` (not a number)，這個很...微妙，改天做一篇  
5. `undefined` (未定義)

其餘的就是 `真` 了。

所以來看看這些例子  
1. 0 `||` 3 => 3
2. 3 `&&` 0 => 0

- **`||`** : 
    > 是真。求真，遇到 3 是真，得值

- **`&&`**
    > 是假。求假，遇到 0 是假，得值  

如果是一場串的，也是一樣的  

當然還有 **`ToBoolean`** 的問題  
這邊先不討論  
`布林值` 跟 `布林物件` 是不一樣的  

## 位元運算 ##  
邏輯運算子是兩個符號湊在一起  
像 `&&` 、 `||`   
看的是整體，而位元看的是個體  

位元，會想到 2 進位  
也就是 `1001` 這類的  
那邏輯上哪裡不同 ?  

### 何謂整體與個體？ ### 
#### 個體 **(位元運算)** ####  
舉例運算 **`10 & 15`**  
先把兩者都變成2進位
不足的話往前補零
```javascript
         1010
AND      1111
輸出     1010
```
位元 `1010` 換十進位值是 `10`  
所以 `10 & 15 = 10`

#### 整體 **(邏輯運算)** #### 
一樣舉例 `10 && 15`  
兩者為真，最後為值  
所以 `10 && 15 = 15`。

在 JS 輸入 `&&` 以及 `&` 兩者會不一樣的  

### 位元運算符號 ###  

|  符號   | 說明                           |
| :-----: | ------------------------------ |
| & (AND) | 和邏輯運算一樣                 |
| \| (OR) | 和邏輯運算一樣                 |
| ^ (XOR) | 都一樣回傳 `0`，反之傳 `1`     |
| ~ (NOT) | 把 `1` 變 `0`，反之 `0` 變 `1` |

舉例 :  
  1. `10 & 15 = 10`
  2. `10 | 15 = 15`
  3. `10 ^ 15 = 5`
  4. `~ 10 = -11`

- 前面空的位數都需要補零，在 NOT 才不會算錯  

> 參考資料  
> [bitwise_operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#bitwise_operators)  

### 這能做什麼？ ###
從 `&` 來看 
- `A & 1` 尾數是 **`0`**  就是偶數
- `A & 1` 尾數是 **`1`**  就是奇數

這樣可以來判斷該數是 `偶數` 或 `基數`  
不然以往我們要判斷時都要透過 `2 的餘數是不是 0`  
也就是 `A % 2` 來判斷。

1. 來個實例，例如 5
  ```
    101
  &   1
  -----
    001
  ```
  可以發現這個值的尾數是 1 ， 5 是奇數。  

大概是這樣 XD

2. 來個實例，例如 10
  ```
    1010
  &    1
  ------
    0000
  ```
  可以發現這個值的尾數是 0 ， 10 是偶數。  

## 位元進位 ##  

| 符號  | 說明       |
| :---: | ---------- |
|  >>   | 往右二進位 |
|  <<   | 往左二進位 |

舉例 : 
- 10 << 2 = 40  
- 10 >> 2 = 2

\* 記得要先換成二進位。

### 這能做什麼？ ###
- `<< 1` 可以想成 **乘以 2**  
- `>> 1` 可以想成 **除以 2**  

位元運算一般效能比較快

## 結語 ##
運算子其實有很多  
有用到再查好了  
我才知道原來有位元進位這東西  
不過實際的用途沒什麼概念   
