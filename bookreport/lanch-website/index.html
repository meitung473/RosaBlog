<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/shan-logo-appletouch.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/shan-logo.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/shan-logo-16X16.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"blog.rosa.tw",root:"/",scheme:"Gemini",version:"8.0.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,"Pisces | Gemini":240},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"buttons",active:!0,storage:!0,lazyload:!0,nav:{disqus:{text:"留言區",order:-1}},"Available values":"disqus"},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜尋...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"},path:"search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><meta name="description" content="紀錄 DIY 架站的歷程"><meta property="og:type" content="article"><meta property="og:title" content="⟬ 紀錄 ⟭ DIY 架站 - 安裝 LAMP Server + phpMyAdmin  並且部屬在 AWS EC2 主機"><meta property="og:url" content="https://blog.rosa.tw/bookreport/lanch-website/"><meta property="og:site_name" content="健忘雜記"><meta property="og:description" content="紀錄 DIY 架站的歷程"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mf8DngFOVKM87YZaaJg_A14Y8pog_C_Hbotg4kAt2JPM7Svs7ebIjUWjdA1uAWlTtVLNnorxd1-1cm8zFbfGI1f45TOng_tiu6bTMQse6HJwXLFozcCQpRIjMq6wan9QCZ88bzbG8I1JGi4Zut53DOE_c-4HBS2P7V3l5Llz_N1EbSj4OUM1Wt9jI2rG1ZKJ2?width=980&height=632&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4m3ZaSFwn_k99MGTLJskQ0mT7J-RKzcHbNQKpa1BlyqoCstPIcYaOkZNQQ29SJWz1tb0h8vltystPhHyUjiZ9ivknXvFjFjF-MdMbev5fq0MhXgiQ_ZPEhaCUKsPx0UvTCCLFcIqP6fQHwLbqdSBcARYFZKwEFGs37gfajwp35J3dA_ztKa-6dvo_t_u8IG6Js?width=2730&height=1545&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mcZYCAzid00O2SXv3_F77FWOcJja7Yrr-fJgevek5LPWFdqxVB1UrYiJDAHCTZwbdjixL24xVXT2wfS2rGiATqDK5dQXmF32Qa4XmpNbEvQHSVllNU-5S607UqWGp7p3GCiNAI4q-HzLi8HWXx45eM4zB2FEkMp8sR6K7WqO-500kCnd09bty9azCLfLEoFAN?width=2735&height=1565&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mUj0tw8Hg-PkgDB91mcYYHevrZpgvbDAl0vJTVeaywND3vwSTuFq-it4bCHSciyhcRsrbYB6UDSovtMyNJ1G14cSpxQnndJI2Y6dCMRJcylEboTYH7X_3iFu6oLTRFnETRRzCh564HZh0DV4PAOprW5bB1YrsxLQOgMUYTWeoJ4-byY6PQCwwZowe6t4Vp5aI?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mq2kdMSDZmkJbh1bArHYZmR-YD8MfcpFkh-SI9D41krI7xiNPfeNEP0eZkpO6YwMIPgcLzm-BoaYfb-stJGi0Za-U54-_7GXYpvoixprGZ7kH1xzN3k6Fchw7xL5ZOrQpR6hZ3Xbc2JPdMc5BQnmRbup9I8tJd_2GaMizMnFA7aB33pQCh_a42lAzErvuKGhw?width=2735&height=1312&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mfUwE7kl8QCWfs1FyTwVLWGf0surxUO4Gy2ypz51DkRyidK1x_ba_y3UZoGKMoJRA5Btj3GE9e7Og5n2FC9Ui-0D3lR3Bz3oSv_O9EtAt2Ukakfi8WZJ1cMfAGlmOa36vlrHWuggCkGA2YAKa3Qg5yUplIvGWI4VfPe0Ff2r4Punh0Qqsr_DquNx2RSexPMq0?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4m3ZJghMG-GmoRrtVNdLOp_xOr8AEQ35BhoCKrzSPbCyG7RYKKF_U6N-CrjkhcMNBvLk_3tzHP8-QaRveiWr-rxs7W6H1h4VD9tyRqN-k0NF_FIrkuOFNg9C4JSKwr9poJM29KLxXCqk2DjA-fctK0btph1HgC9UXcN3fpw63q_KtMvgWuHwqL5oL561k2sYx5?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mOjbTxzVsSeLt_jimxUFsqt6Q-P-TQ87TmsNKzunm3WEff2KXdhzavkrCFkBepOY33-vUTXsXT6S1nU9cQY2BJwpUxIy8l4FBJfEJM3n6fFOTD2lN5vAukmZJQ93i8bkte6EdZPGDCg3a0Y5oi3CDQNWAgA5VP12ckOVPuJF6vTmpuq1b8bYJHomOtS6Z191s?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mn3vALzZNWp-Acn_mxNele8w-LVujJTvzr30apsQsRuUis-cs-UCn3AVE5gGcg3_GUIOmHRTHDufaHNwW93B5TWDwbpKGkM2fYkiDc4QFZL_NdhXERBpNXhnN758xE48g023o9Nvz_szUsqfsrVDL-7bKdd9AaSvYOwQy0DpWfPGNhMT2JUu3kLsqjhB3SRD4?width=1925&height=1142&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mnt-7tjSuj7EUF7qdsQXy43btYrwRq84uk4ZxfGJfFMHh5BpAArgfUZopHq6IngtePnB8s2RyVTG-49PJt1uiNbLdhDAud3GoVRmWhftui7LL3O4MqGb7cjizJEcS6M80Orrida7n0fFV0uVmjAFhPoeohQjw8ls3X_p6VY7iAO6VQvztquBnCuau_PVj2hoj?width=1905&height=1675&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mnfxBZr0dvNkHq_dKRmxzdzCheXNg77h9mjJd7jMRFfJPYslmw53w4REgiHf8lb3LXHLoY82NHDfCPj7Qp4CwWTzCPM2f8s0jWkVP1hDq8WrcpDke6BzM8eYGHNxXdc3RtHgtGJdBAUHBuT5y2Roulmu1yCL3BKI9n2D0xb-tQ5L-a5PH2v8rIkPPUTwb0hQ0?width=2679&height=1537&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mLZKbUP3LkaBCAIM6PKtuBVQ7_zF7hu4uNXPod28KcInO3uuPjaIovOMk4980mfsHPLu5oYyJ-HP2JViGignoFy0VZOYMOi96QX9EbPch5Tt2Sg3k60lGRvser2az_NGR7WLi8ECRPVoxXrcbcVvLDvYltfT8Ok0vMpEGvRG7JC-g1lw5J4qJBHItThHCP8mP?width=1892&height=1687&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4muMsNIJeduUG0E5NPBPq4IJWIhaSOSpG3q51AO5s6Hvj1iiCPcr1XGPpAe_eQCIu6zWV1bt09EJamYRnLspgQFHFmEzHj6feXlmVnprFR6Tu5COkNSEOFy6op49B82xyGc5T1bUruuwckI2FCrz1RDzk-YV0GjH2XyoruE5i8G8D1PpKeDG2c2mPfdqN2Yg_O?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mWOHsaEFsldsxUXYVnt4AAC_qHEDpom6VjiExv8gUu3TPFBQ-01EnSY3ZcJhUqjCAa_seueuDv6babkELzu_W8W7RVjEXUsbD4SJYsZjBVo6rtRs0HY20FjqioD_7bIfOUCWOUKqKOYPEQNwUFs9Gu0hVSn2sVjQvgGjpJiQyUO2nVFstN-RbU4kjiv1Etqk9?width=2735&height=1573&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mGvlCum2TSup9BLc0Pz6uHBCW5s3dikyxRLRjscvgkgJd4goDhU-i4tneFJ7WOQ_3EphoMuBLY79U6sSnDnv61KkKkCfFdZnUFlJvBfHs3CDKUqPhH-4gDxwOMYZWUMfBjl7WRJbz0w01xmxAhcZUDyF2jWVfvEU204PZ3Y7AdXX7-CEESrgbuS-uGDXMklW-?width=2408&height=1376&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mLdtiE_1fwss9MHgYjXweRxDnCZiVswDaexi_8Y91KM-JVydwdt29pszdUwoIbgSm_hXnlH1y8-3mL93q2fCRwfmnYWEda09G7MMUKYzVOKK8D1CD41GLZQoDBHWKzont0vtYdLrVLD1mf76XAM1O0dHp828CTocVbTAqt77iePJcSQ8tNt-ipL9krJd1jZem?width=2408&height=1032&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4muXJECe6tXKTdZargY3Puf_nhNra6cV_3c2B1KtAZzI8kAT6K-rNjN-A9up6aO9JE6arHtYFMBLl3Ys_8DmsseSQWRSjSzUoInN4mIWtLWn7dGk0_SO9J4KmbpQ-Ut5b7BFEvH44hpOrQferqTqYyu5J9g0czooL1GkeGUrhHmSJrzUM-IomyQD9Dtp2aK3h7?width=1917&height=1670&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mfv_hg8buRnf-GBShL_zMPOz0DkSf7kErvTLBwqJ5_-lsG_VlnYh3ceyIYSiEuvwQjWCFpNiLarRonbIDzCGwCXPtdCLkmTT6hKwELsqgu7wAW4t3TpZit1hBaq6DUQ0tsttUowm5xzCxvnUuTleRGFnesu3C0ebWpN28McgVHbBg_f8Bsyn2f0HY0fHkwzrg?width=2408&height=2021&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mI5KlKXpxlvV1Cbko1UPT4WnzBUPvzilV5zxmi31ymj4gDM46DuSzqY3z5y0vOxL5F2yYri2Jl3Dbk0HqgoC-axND4ESiX-jzwTScDfqztPKxI69EVbq1HoRdPzb3yJ-hxYTJpe_OZMBfjtTYTThdBc8xeqiHBjzkxEmwcvdtZVyAuN7D4zNwBIaVX4sbLJIh?width=2408&height=1976&cropmode=none"><meta property="og:image" content="https://dsm01pap006files.storage.live.com/y4mTaT_SAlbQeh09auWSIkVUd77ntYREr4HeKgJlWNOrLFIlwNylxz4KD7Vm92HChqkxcI2VLAbv9nNAUIFbNuxbFU9XHsScWWtJ9XxhHbGobfaR9YTYo2IMpWCCj2AujdYS4oaE4mxmwxtX9yTVpDL7kdUVVmJ48ZSRywv8puKRL_po2kuBsXhPEGFDzu-6XIP?width=2735&height=1825&cropmode=none"><meta property="article:published_time" content="2022-02-06T04:38:32.000Z"><meta property="article:modified_time" content="2022-02-06T04:38:32.671Z"><meta property="article:author" content="Rosa Hong"><meta property="article:tag" content="Backend"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="phpMyadmin"><meta property="article:tag" content="LAMP"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dsm01pap006files.storage.live.com/y4mf8DngFOVKM87YZaaJg_A14Y8pog_C_Hbotg4kAt2JPM7Svs7ebIjUWjdA1uAWlTtVLNnorxd1-1cm8zFbfGI1f45TOng_tiu6bTMQse6HJwXLFozcCQpRIjMq6wan9QCZ88bzbG8I1JGi4Zut53DOE_c-4HBS2P7V3l5Llz_N1EbSj4OUM1Wt9jI2rG1ZKJ2?width=980&height=632&cropmode=none"><link rel="canonical" href="https://blog.rosa.tw/bookreport/lanch-website/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-TW"}</script><title>⟬ 紀錄 ⟭ DIY 架站 - 安裝 LAMP Server + phpMyAdmin 並且部屬在 AWS EC2 主機 | 健忘雜記</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/atom.xml" title="健忘雜記" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切換導航欄"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">健忘雜記</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">紀錄學習與生活</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首頁</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 標籤<span class="badge">22</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分類<span class="badge">8</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 歸檔<span class="badge">46</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜尋</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜尋..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目錄</li><li class="sidebar-nav-overview"> 本站概要</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A8%AD%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">設置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A8%AD%E5%AE%9A-AWS-EC2"><span class="nav-number">2.1.</span> <span class="nav-text">設定 AWS EC2</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-1-%E9%81%B8%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F"><span class="nav-number">2.1.1.</span> <span class="nav-text">Step 1 : 選虛擬主機</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-2-%E7%AC%AC%E5%85%AD%E6%AD%A5-Configure-Security-Group"><span class="nav-number">2.1.2.</span> <span class="nav-text">Step 2 : 第六步 Configure Security Group</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-3-%E9%85%8D%E5%B0%8D%E9%87%91%E9%91%B0"><span class="nav-number">2.1.3.</span> <span class="nav-text">Step 3 : 配對金鑰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-4-%E8%A8%98%E4%B8%8B-IPv4"><span class="nav-number">2.1.4.</span> <span class="nav-text">Step 4 記下 IPv4</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A8%AD%E5%AE%9A-LAMP-%E7%92%B0%E5%A2%83"><span class="nav-number">2.2.</span> <span class="nav-text">設定 LAMP 環境</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-5-%E9%80%A3%E4%B8%8A%E8%99%9B%E6%93%AC-%E9%81%A0%E7%AB%AF-%E4%B8%BB%E6%A9%9F"><span class="nav-number">2.2.1.</span> <span class="nav-text">Step 5 連上虛擬(遠端)主機</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-6-%E7%B3%BB%E7%B5%B1%E6%9B%B4%E6%96%B0"><span class="nav-number">2.2.2.</span> <span class="nav-text">Step 6 : 系統更新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-7-%E5%A5%BD%E7%94%A8%E7%9A%84%E5%A5%97%E4%BB%B6-tasksel"><span class="nav-number">2.2.3.</span> <span class="nav-text">Step 7 : 好用的套件 tasksel</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-7-%E5%AE%89%E8%A3%9D-LAMP-server"><span class="nav-number">2.2.4.</span> <span class="nav-text">Step 7 : 安裝 LAMP server</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A8%AD%E5%AE%9A-phpmyadmin"><span class="nav-number">2.3.</span> <span class="nav-text">設定 phpmyadmin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-8-%E5%AE%89%E8%A3%9D-phpmyadmin"><span class="nav-number">2.3.1.</span> <span class="nav-text">Step 8 : 安裝 phpmyadmin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-9-%E8%A8%AD%E5%AE%9A-phpmyadmin-%E7%99%BB%E5%85%A5"><span class="nav-number">2.3.2.</span> <span class="nav-text">Step 9 : 設定 phpmyadmin 登入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-10-%E8%A8%AD%E5%AE%9A-MySQL-%E7%9A%84-root-%E5%AF%86%E7%A2%BC"><span class="nav-number">2.3.3.</span> <span class="nav-text">Step 10 : 設定 MySQL 的 root 密碼</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A7%A3%E6%B1%BA%E5%95%8F%E9%A1%8C-%E7%B6%B2%E5%9D%80%E9%80%A3%E4%B8%8D%E4%B8%8A"><span class="nav-number">2.3.3.1.</span> <span class="nav-text">解決問題 : 網址連不上</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-11-%E6%8A%8A%E7%B6%B2%E9%A0%81%E6%94%BE%E4%B8%8A%E4%BE%86"><span class="nav-number">2.3.4.</span> <span class="nav-text">Step 11 : 把網頁放上來</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B6%B2%E5%9F%9F%E8%A8%AD%E7%BD%AE"><span class="nav-number">2.4.</span> <span class="nav-text">網域設置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85-%E6%8A%8A%E8%B3%87%E6%96%99%E5%BA%AB%E9%80%A3%E7%B7%9A%E5%88%B0-MySQL-Workbench"><span class="nav-number">2.5.</span> <span class="nav-text">補充 : 把資料庫連線到 MySQL Workbench</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B5%90%E8%AA%9E"><span class="nav-number">3.</span> <span class="nav-text">結語</span></a></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Rosa Hong" src="/images/RosaBlog-LOGO.png"><p class="site-author-name" itemprop="name">Rosa Hong</p><div class="site-description" itemprop="description">菜鳥起飛中</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">46</span> <span class="site-state-item-name">文章</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">分類</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">22</span> <span class="site-state-item-name">標籤</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/meitung473" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;meitung473" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a></span><span class="links-of-author-item"><a href="mailto:a8870506@gmail.com" title="聯絡我 → mailto:a8870506@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a></span><span class="links-of-author-item"><a href="https://www.facebook.com/yanshan.hong1" title="Rosa Hong → https:&#x2F;&#x2F;www.facebook.com&#x2F;yanshan.hong1" rel="noopener" target="_blank"><i class="fa fa-facebook fa-fw"></i></a></span></div></section></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW"><link itemprop="mainEntityOfPage" href="https://blog.rosa.tw/bookreport/lanch-website/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/RosaBlog-LOGO.png"><meta itemprop="name" content="Rosa Hong"><meta itemprop="description" content="菜鳥起飛中"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="健忘雜記"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> ⟬ 紀錄 ⟭ DIY 架站 - 安裝 LAMP Server + phpMyAdmin 並且部屬在 AWS EC2 主機</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">發表於</span> <time title="創建時間：2022-02-06 12:38:32" itemprop="dateCreated datePublished" datetime="2022-02-06T12:38:32+08:00">2022-02-06</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分類於</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/bookreport/" itemprop="url" rel="index"><span itemprop="name">bookreport</span></a></span></span></div><div class="post-meta"><span class="post-meta-item" title="文章字數"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">文章字數：</span> <span>4.5k</span></span><span class="post-meta-item" title="所需閱讀時間"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">所需閱讀時間 &asymp;</span> <span>4 分鐘</span></span></div><div class="post-description">紀錄 DIY 架站的歷程</div></div></header><div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前端跟後端學點皮毛，想要自己架站看看，雖然有免費的 github pages 可以放靜態網站，但遇到資料庫就不支援了，php 檔放到 github pages 只能當純文字而已，於是自己使用虛擬主機跟買網域來架 :D</p><p>這次是要安裝 LAMP Server + phpMyAdmin 在 Linux 系統上架站，主機是使用虛擬主機 (AWS EC2)， AWS 提供免費一年就來試試看，網域的話從 <a href="https://www.gandi.net/zh-Hant">Gandi</a> 購買一年份，我才知道域是有分級的，不同的網域價錢真的差很多…</p><h2 id="設置"><a href="#設置" class="headerlink" title="設置"></a>設置</h2><p>主要都是參考這篇好文章 =&gt; <a href="https://github.com/Lidemy/mentor-program-2nd-yuchun33/issues/15">部署 AWS EC2 遠端主機 + Ubuntu LAMP 環境 + phpmyadmin)</a><br>接下來 Let’s GO !</p><h3 id="設定-AWS-EC2"><a href="#設定-AWS-EC2" class="headerlink" title="設定 AWS EC2"></a>設定 AWS EC2</h3><p>註冊完 AWS 帳號，登入用 <code>Root user</code>(管理員)，設定上才不會有太多限制。</p><p>不過官方還是建議創建 <code>IAM user</code>，在往後日常操作比較適合，我想應該是怕去動到原始設定，或者建議組織架構將權限分散。<br><img data-src="https://dsm01pap006files.storage.live.com/y4mf8DngFOVKM87YZaaJg_A14Y8pog_C_Hbotg4kAt2JPM7Svs7ebIjUWjdA1uAWlTtVLNnorxd1-1cm8zFbfGI1f45TOng_tiu6bTMQse6HJwXLFozcCQpRIjMq6wan9QCZ88bzbG8I1JGi4Zut53DOE_c-4HBS2P7V3l5Llz_N1EbSj4OUM1Wt9jI2rG1ZKJ2?width=980&height=632&cropmode=none" alt="登入"></p><p>登入後會有不同服務方案，選 <code>EC2</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4m3ZaSFwn_k99MGTLJskQ0mT7J-RKzcHbNQKpa1BlyqoCstPIcYaOkZNQQ29SJWz1tb0h8vltystPhHyUjiZ9ivknXvFjFjF-MdMbev5fq0MhXgiQ_ZPEhaCUKsPx0UvTCCLFcIqP6fQHwLbqdSBcARYFZKwEFGs37gfajwp35J3dA_ztKa-6dvo_t_u8IG6Js?width=2730&height=1545&cropmode=none" alt="EC2"></p><h4 id="Step-1-選虛擬主機"><a href="#Step-1-選虛擬主機" class="headerlink" title="Step 1 : 選虛擬主機"></a>Step 1 : 選虛擬主機</h4><p>我選 <code>Ubuntu Server 18.04 LTS (HVM)</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4mcZYCAzid00O2SXv3_F77FWOcJja7Yrr-fJgevek5LPWFdqxVB1UrYiJDAHCTZwbdjixL24xVXT2wfS2rGiATqDK5dQXmF32Qa4XmpNbEvQHSVllNU-5S607UqWGp7p3GCiNAI4q-HzLi8HWXx45eM4zB2FEkMp8sR6K7WqO-500kCnd09bty9azCLfLEoFAN?width=2735&height=1565&cropmode=none" alt="Ubuntu Server"></p><p>中間有好幾部可以略過，也可以自行更改，沒什麼要動可以直接跳到第六步</p><p>第二步是選擇伺服器的類型，免費預設類型就很夠用了。<br><img data-src="https://dsm01pap006files.storage.live.com/y4mUj0tw8Hg-PkgDB91mcYYHevrZpgvbDAl0vJTVeaywND3vwSTuFq-it4bCHSciyhcRsrbYB6UDSovtMyNJ1G14cSpxQnndJI2Y6dCMRJcylEboTYH7X_3iFu6oLTRFnETRRzCh564HZh0DV4PAOprW5bB1YrsxLQOgMUYTWeoJ4-byY6PQCwwZowe6t4Vp5aI?width=2408&height=1376&cropmode=none" alt="選主機類型"><br>第三步是伺服器設定的細節<br>第四步是記憶體容量設定，預設是 8 GB<br>第五步是跟容量有關係的設定 (看不太懂…)</p><h4 id="Step-2-第六步-Configure-Security-Group"><a href="#Step-2-第六步-Configure-Security-Group" class="headerlink" title="Step 2 : 第六步 Configure Security Group"></a>Step 2 : 第六步 Configure Security Group</h4><p>設定網路通道跟安全，只要先新增 HTTP 跟 HTTPS ，才能使用網頁連線，再按 <code>Review and Lanch</code>，最後一步是全面步驟的總和而已<br><img data-src="https://dsm01pap006files.storage.live.com/y4mq2kdMSDZmkJbh1bArHYZmR-YD8MfcpFkh-SI9D41krI7xiNPfeNEP0eZkpO6YwMIPgcLzm-BoaYfb-stJGi0Za-U54-_7GXYpvoixprGZ7kH1xzN3k6Fchw7xL5ZOrQpR6hZ3Xbc2JPdMc5BQnmRbup9I8tJd_2GaMizMnFA7aB33pQCh_a42lAzErvuKGhw?width=2735&height=1312&cropmode=none" alt="Configure Security Group"></p><h4 id="Step-3-配對金鑰"><a href="#Step-3-配對金鑰" class="headerlink" title="Step 3 : 配對金鑰"></a>Step 3 : 配對金鑰</h4><p>因為要透過 SSH 連線，必須要有金鑰，<code>RSA</code> 是常見的非對稱加密法。</p><p>下拉選單會有三個選項，第一次使用 <code>create</code>，下面是檔案名稱，會產生 <code>&lt;filename&gt;.pem</code> 的檔案，等等連線會用到<br><img data-src="https://dsm01pap006files.storage.live.com/y4mfUwE7kl8QCWfs1FyTwVLWGf0surxUO4Gy2ypz51DkRyidK1x_ba_y3UZoGKMoJRA5Btj3GE9e7Og5n2FC9Ui-0D3lR3Bz3oSv_O9EtAt2Ukakfi8WZJ1cMfAGlmOa36vlrHWuggCkGA2YAKa3Qg5yUplIvGWI4VfPe0Ff2r4Punh0Qqsr_DquNx2RSexPMq0?width=2408&height=1376&cropmode=none" alt="下載金鑰"></p><h4 id="Step-4-記下-IPv4"><a href="#Step-4-記下-IPv4" class="headerlink" title="Step 4 記下 IPv4"></a>Step 4 記下 IPv4</h4><p>回到 EC2 儀錶板，會有主機的狀態訊息，選擇剛剛開起來正在執行的<br><img data-src="https://dsm01pap006files.storage.live.com/y4m3ZJghMG-GmoRrtVNdLOp_xOr8AEQ35BhoCKrzSPbCyG7RYKKF_U6N-CrjkhcMNBvLk_3tzHP8-QaRveiWr-rxs7W6H1h4VD9tyRqN-k0NF_FIrkuOFNg9C4JSKwr9poJM29KLxXCqk2DjA-fctK0btph1HgC9UXcN3fpw63q_KtMvgWuHwqL5oL561k2sYx5?width=2408&height=1376&cropmode=none" alt="EC2 儀錶板"></p><p>點一下正在執行的個體，下面會有概要，記下公有 <code>IPv4</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4mOjbTxzVsSeLt_jimxUFsqt6Q-P-TQ87TmsNKzunm3WEff2KXdhzavkrCFkBepOY33-vUTXsXT6S1nU9cQY2BJwpUxIy8l4FBJfEJM3n6fFOTD2lN5vAukmZJQ93i8bkte6EdZPGDCg3a0Y5oi3CDQNWAgA5VP12ckOVPuJF6vTmpuq1b8bYJHomOtS6Z191s?width=2408&height=1376&cropmode=none" alt="IPv4"></p><p>到這步就有一個只有作業系統的主機，接著再把環境給裝起來</p><h3 id="設定-LAMP-環境"><a href="#設定-LAMP-環境" class="headerlink" title="設定 LAMP 環境"></a>設定 LAMP 環境</h3><ul><li><strong>L</strong>inux : 作業系統</li><li><strong>A</strong>pache : 網頁伺服器</li><li><strong>M</strong>ariDB or <strong>M</strong>ySQL : 資料庫</li><li><strong>P</strong>HP : 可以編寫動態網頁的程式碼</li></ul><h4 id="Step-5-連上虛擬-遠端-主機"><a href="#Step-5-連上虛擬-遠端-主機" class="headerlink" title="Step 5 連上虛擬(遠端)主機"></a>Step 5 連上虛擬(遠端)主機</h4><p>剛剛下載的金鑰，跟記下的 IPv4 派上用場<br>金鑰如果跟 cmd 目錄不同，記得加上相對路徑</p><p>打開 cmd 輸入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -i <span class="token operator">&lt;</span>file.pem<span class="token operator">></span> ubuntu@<span class="token operator">&lt;</span>IPv<span class="token operator"><span class="token file-descriptor important">4</span>></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>例 : <code>ssh -i ~/Desktop/key.pem ubuntu@123.11.22.3</code><br>問 : <code>Are you sure you want to continue connecting (yes/no)?</code><br>答 : <code>y</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4mn3vALzZNWp-Acn_mxNele8w-LVujJTvzr30apsQsRuUis-cs-UCn3AVE5gGcg3_GUIOmHRTHDufaHNwW93B5TWDwbpKGkM2fYkiDc4QFZL_NdhXERBpNXhnN758xE48g023o9Nvz_szUsqfsrVDL-7bKdd9AaSvYOwQy0DpWfPGNhMT2JUu3kLsqjhB3SRD4?width=1925&height=1142&cropmode=none" alt="登入遠端主機"></p><p>前面變成主機位置就是登進去了</p><h4 id="Step-6-系統更新"><a href="#Step-6-系統更新" class="headerlink" title="Step 6 : 系統更新"></a>Step 6 : 系統更新</h4><p>裝伺服器之前系統更新一下</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> upgrade <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> dist-upgrade<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>問 : 是否繼續下載 ?<br>答 : y</p><ul><li><strong>apt</strong> (Advanced Packaging Tool) : 套件管理器工具，可以做套件的查找、升級、安装、刪除，執行必須要有 <code>root</code> (超級管理員)的權限</li></ul><p>所以這邊都會用 <code>sudo</code></p><h4 id="Step-7-好用的套件-tasksel"><a href="#Step-7-好用的套件-tasksel" class="headerlink" title="Step 7 : 好用的套件 tasksel"></a>Step 7 : 好用的套件 tasksel</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> tasksel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>tasksel 是已經幫你整理好成一組的工具，包含 LAMP 伺服器<br>輸入 <code>sudo tasksel</code> 看到的安裝介面，可以一次選好幾個，打包成一組安裝<br><img data-src="https://dsm01pap006files.storage.live.com/y4mnt-7tjSuj7EUF7qdsQXy43btYrwRq84uk4ZxfGJfFMHh5BpAArgfUZopHq6IngtePnB8s2RyVTG-49PJt1uiNbLdhDAud3GoVRmWhftui7LL3O4MqGb7cjizJEcS6M80Orrida7n0fFV0uVmjAFhPoeohQjw8ls3X_p6VY7iAO6VQvztquBnCuau_PVj2hoj?width=1905&height=1675&cropmode=none" alt="tasksel 安裝包"></p><h4 id="Step-7-安裝-LAMP-server"><a href="#Step-7-安裝-LAMP-server" class="headerlink" title="Step 7 : 安裝 LAMP server"></a>Step 7 : 安裝 LAMP server</h4><p>也可以直接打入指令直接安裝，不用再到介面選擇</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> tasksel <span class="token function">install</span> lamp-server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>會跳一下紫色視窗代表安裝，在網頁打上 IPv4 的網址，就會出現 apache 起始頁面代表成功<br><img data-src="https://dsm01pap006files.storage.live.com/y4mnfxBZr0dvNkHq_dKRmxzdzCheXNg77h9mjJd7jMRFfJPYslmw53w4REgiHf8lb3LXHLoY82NHDfCPj7Qp4CwWTzCPM2f8s0jWkVP1hDq8WrcpDke6BzM8eYGHNxXdc3RtHgtGJdBAUHBuT5y2Roulmu1yCL3BKI9n2D0xb-tQ5L-a5PH2v8rIkPPUTwb0hQ0?width=2679&height=1537&cropmode=none" alt="成功連上的畫面"></p><h3 id="設定-phpmyadmin"><a href="#設定-phpmyadmin" class="headerlink" title="設定 phpmyadmin"></a>設定 phpmyadmin</h3><p>phpmyadmin 是 mySQL 管理的介面軟體，不用下載軟體就可以在網頁連上資料庫。</p><p>後續我也會使用 <code>MySQL Workbench 8.0 EC</code> 桌上軟體來管理資料庫。</p><h4 id="Step-8-安裝-phpmyadmin"><a href="#Step-8-安裝-phpmyadmin" class="headerlink" title="Step 8 : 安裝 phpmyadmin"></a>Step 8 : 安裝 phpmyadmin</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> phpmyadmin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img data-src="https://dsm01pap006files.storage.live.com/y4mLZKbUP3LkaBCAIM6PKtuBVQ7_zF7hu4uNXPod28KcInO3uuPjaIovOMk4980mfsHPLu5oYyJ-HP2JViGignoFy0VZOYMOi96QX9EbPch5Tt2Sg3k60lGRvser2az_NGR7WLi8ECRPVoxXrcbcVvLDvYltfT8Ok0vMpEGvRG7JC-g1lw5J4qJBHItThHCP8mP?width=1892&height=1687&cropmode=none" alt="連接 apache"><br>記得要按一下空白鍵，出現星號才是選定，讓 phpmyadmin 連接到 apache2，不然後面會無法連上，我第一次就沒有按到導致輸入網址是沒辦法連上的 (已解決 [[#解決問題 網址連不上]])</p><p>問 : 是否設定 dbconfig-common<br>答 : Y</p><p>會建立一個新的 MySQL 使用者來操作運行 phpmyadmin 額外需要用到的資料表。預設使用者名稱為 <code>phpmyadmin</code>，接著要設定 phpmyadmin 這個 MySQL 使用者的密碼</p><p>記得這裡是新的 user 設定 phpmyadmin 操作， root 還沒有</p><h4 id="Step-9-設定-phpmyadmin-登入"><a href="#Step-9-設定-phpmyadmin-登入" class="headerlink" title="Step 9 : 設定 phpmyadmin 登入"></a>Step 9 : 設定 phpmyadmin 登入</h4><p>預設 MySQL root 密碼是空的，但沒辦法使用密碼來登入(因為驗證方式是 <code>auto_socket</code>)。<br>為了讓 phpmyadmin 可以用 root 帳號管理，就要先設定 MySQL 本身的 root 帳號，變成可以透過帳號密碼來登入</p><p>透過 root 帳號進到 <code>mysql</code> 這個資料庫</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> mysql -u root mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>進到 MySQL 的 shell，加入讓 root 啟用<br><code>mysql_native_password</code> 插件，在來一定要刷新權限表</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">UPDATE user SET plugin&#x3D;&#39;mysql_native_password&#39; WHERE User&#x3D;&#39;root&#39;;

FLUSH PRIVILEGES;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>記得尾巴一定要有分號，才是完整的斷句</p><p>再來離開 mysql <code>exit</code></p><h4 id="Step-10-設定-MySQL-的-root-密碼"><a href="#Step-10-設定-MySQL-的-root-密碼" class="headerlink" title="Step 10 : 設定 MySQL 的 root 密碼"></a>Step 10 : 設定 MySQL 的 root 密碼</h4><p>剛剛只是開啟功能，接下來要真的設定密碼，輸入 :</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>開啟 <code>VALIDATE PASSWORD</code> 插件，密碼驗證，幫忙檢查 root 的密碼安全性，會問是否啟用， 答 <code>y</code></p><p>再來會問密碼複雜度</p><ul><li>0 (Low) : 長度大於等於 8</li><li>1 (Medium) : 長度大於等於 8，包含大小寫和一個特殊字元</li><li>2 (Strong) : 長度大於等於 8，包含大小寫和一個特殊字元，包含字典檢查 (???)</li></ul><p>直接選 2 就好，再來要輸入兩次密碼，後面會詢問幾項問題</p><ul><li>確認密碼輸入無誤 : y</li><li>移除匿名使用者的資料 : y</li><li>可以禁止從遠端使用MySQL的root帳號來登入MySQL : y</li><li>移除測試用的資料庫 : y</li><li>重新載入權限表 : y</li></ul><p>都給他 y 下去就是了。到最後就 ok 了，接著打開瀏覽器輸入 <code>&lt;IPv4&gt;/phpmyadmin</code> 看到登入頁面就可以使用了<br><img data-src="https://dsm01pap006files.storage.live.com/y4muMsNIJeduUG0E5NPBPq4IJWIhaSOSpG3q51AO5s6Hvj1iiCPcr1XGPpAe_eQCIu6zWV1bt09EJamYRnLspgQFHFmEzHj6feXlmVnprFR6Tu5COkNSEOFy6op49B82xyGc5T1bUruuwckI2FCrz1RDzk-YV0GjH2XyoruE5i8G8D1PpKeDG2c2mPfdqN2Yg_O?width=2408&height=1376&cropmode=none" alt="/phpmyadmin"></p><h5 id="解決問題-網址連不上"><a href="#解決問題-網址連不上" class="headerlink" title="解決問題 : 網址連不上"></a>解決問題 : 網址連不上</h5><p>直到再網址上打 <code>/phpmyadmin</code> 都連不上，重新安裝後 MySQL 顯示是 OK 的，<code>show databases</code> 也有看到 phpmyadmin 的 schema，但不知道為什麼都連不上 QQ</p><ul><li><p>方法一 : 重新再設定<br> 一樣會跳回第一次選擇連接的伺服器口</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> dpkg-reconfigure phpmyadmin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> dpkg 也是處理安裝套件的一種管理指令，跟 apt 很像，但差別在 <code>dpkg</code> 安裝套件並不包含依賴關係。</p></li><li><p>方法二 : 手動把檔案連結起來</p></li></ul><ol><li>先確定連結的檔案存不存在<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">file</span> /etc/apache2/conf-enabled/phpmyadmin.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 如果有會出現<br> <code>/etc/apache2/conf-enabled/phpmyadmin.conf: symbolic link to ../conf-available/phpmyadmin.conf</code><br> 沒有的話就會報錯</li><li>手動連結<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">ln</span> -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf
<span class="token function">sudo</span> a2enconf phpmyadmin
<span class="token function">sudo</span> systemctl reload apache2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><code>ln</code> : 會把兩個檔案連結起來</li><li>第二個是重新設定</li><li>第三個是系統重載入 apache2</li></ul></li></ol><h4 id="Step-11-把網頁放上來"><a href="#Step-11-把網頁放上來" class="headerlink" title="Step 11 : 把網頁放上來"></a>Step 11 : 把網頁放上來</h4><p>網頁檔案要放在 <code>/var/www/html</code> 底下<br>先移到資料夾底下 <code>cd /var/www/html</code>，建立一個網頁 <code>vi index.html</code>，打個 html，到網址打上位址，出現內容代表 OK 了 :D</p><ul><li>使用 <code>git clone</code><br> 失敗的原因是權限，那對 <code>/var/www/html</code> 更改權限<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chown</span> ubuntu /var/www/html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 再使用一次 git clone 就沒問題了<ul><li><code>chown &lt;&gt;</code></li></ul></li></ul><h3 id="網域設置"><a href="#網域設置" class="headerlink" title="網域設置"></a>網域設置</h3><p>我在 gandi 買了自己的網域，打開域名設定<br><img data-src="https://dsm01pap006files.storage.live.com/y4mWOHsaEFsldsxUXYVnt4AAC_qHEDpom6VjiExv8gUu3TPFBQ-01EnSY3ZcJhUqjCAa_seueuDv6babkELzu_W8W7RVjEXUsbD4SJYsZjBVo6rtRs0HY20FjqioD_7bIfOUCWOUKqKOYPEQNwUFs9Gu0hVSn2sVjQvgGjpJiQyUO2nVFstN-RbU4kjiv1Etqk9?width=2735&height=1573&cropmode=none" alt="DNS 轉址設定"><br>更動這個 <code>A</code> 的值改成 <code>IPv4</code> 也就是虛擬主機的 IP，對應到 IPv4 的 32 位元位址</p><ul><li><code>A</code> : 將DNS網域名稱對應到IPv4的32位元位址</li><li><code>CNAME</code> : 同一部主機設定許多別名</li></ul><p>等大概一會兒，在打上自己買的網域，就會連到 IPv4 看到的畫面，後面可以在新增自己的子網域</p><h3 id="補充-把資料庫連線到-MySQL-Workbench"><a href="#補充-把資料庫連線到-MySQL-Workbench" class="headerlink" title="補充 : 把資料庫連線到 MySQL Workbench"></a>補充 : 把資料庫連線到 MySQL Workbench</h3><p>雖然有 phpmyadmin 了，之前我都是用 workbench 來管理，來換一下吧</p><p>這時候直接新增 connection 會被擋掉，根據這篇 <a href="https://lidemy5thwbc.coderbridge.io/2021/07/27/webserver-set/">文章</a> 做設定</p><ol><li>遠端主機的防火牆<br> 防火牆會擋住外來的連線，這時候要到 EC2 安全性設定打開 MySQL 通道<br> <img data-src="https://dsm01pap006files.storage.live.com/y4mGvlCum2TSup9BLc0Pz6uHBCW5s3dikyxRLRjscvgkgJd4goDhU-i4tneFJ7WOQ_3EphoMuBLY79U6sSnDnv61KkKkCfFdZnUFlJvBfHs3CDKUqPhH-4gDxwOMYZWUMfBjl7WRJbz0w01xmxAhcZUDyF2jWVfvEU204PZ3Y7AdXX7-CEESrgbuS-uGDXMklW-?width=2408&height=1376&cropmode=none" alt="防火牆設定"><br> 按下編輯後會列出所有規則，在最下面新增一個 MySQL port 3306，然後儲存<br> <img data-src="https://dsm01pap006files.storage.live.com/y4mLdtiE_1fwss9MHgYjXweRxDnCZiVswDaexi_8Y91KM-JVydwdt29pszdUwoIbgSm_hXnlH1y8-3mL93q2fCRwfmnYWEda09G7MMUKYzVOKK8D1CD41GLZQoDBHWKzont0vtYdLrVLD1mf76XAM1O0dHp828CTocVbTAqt77iePJcSQ8tNt-ipL9krJd1jZem?width=2408&height=1032&cropmode=none" alt="設定 MySQL"></li><li>MySQL 同意遠端連線<br> 預設是只能連線本機，但軟體是裝在我的電腦上，而不是遠端的主機，所以也要設定 MySQL 連線問題 連線到遠端主機<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -i ~/key.pem ubuntu@<span class="token operator">&lt;</span>IPv<span class="token operator"><span class="token file-descriptor important">4</span>></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 修改 MySQL 設定檔<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/mysql/mysql.conf.d/mysqld.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 找到 <code>bind-address</code> ，原本會是 <code>127.0.0.1</code>，只允許本機，改成 <code>0.0.0.0</code> 或者註解掉這行也可以<br> <img data-src="https://dsm01pap006files.storage.live.com/y4muXJECe6tXKTdZargY3Puf_nhNra6cV_3c2B1KtAZzI8kAT6K-rNjN-A9up6aO9JE6arHtYFMBLl3Ys_8DmsseSQWRSjSzUoInN4mIWtLWn7dGk0_SO9J4KmbpQ-Ut5b7BFEvH44hpOrQferqTqYyu5J9g0czooL1GkeGUrhHmSJrzUM-IomyQD9Dtp2aK3h7?width=1917&height=1670&cropmode=none" alt="允許外部連接"> 最後重新啟動 MySQL ，讓設定寫入<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">service</span> mysql restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>phpmyadmin 解除個別使用者的遠端連線限制<br> 用 root 連線到 phpmyadmin，到 <code>使用者帳號</code>，點擊 <code>編輯權限</code><br> <img data-src="https://dsm01pap006files.storage.live.com/y4mfv_hg8buRnf-GBShL_zMPOz0DkSf7kErvTLBwqJ5_-lsG_VlnYh3ceyIYSiEuvwQjWCFpNiLarRonbIDzCGwCXPtdCLkmTT6hKwELsqgu7wAW4t3TpZit1hBaq6DUQ0tsttUowm5xzCxvnUuTleRGFnesu3C0ebWpN28McgVHbBg_f8Bsyn2f0HY0fHkwzrg?width=2408&height=2021&cropmode=none" alt="編輯權限"><br> 跳到 <code>登入資訊</code> ，把主機名稱改為任意主機。<br> <img data-src="https://dsm01pap006files.storage.live.com/y4mI5KlKXpxlvV1Cbko1UPT4WnzBUPvzilV5zxmi31ymj4gDM46DuSzqY3z5y0vOxL5F2yYri2Jl3Dbk0HqgoC-axND4ESiX-jzwTScDfqztPKxI69EVbq1HoRdPzb3yJ-hxYTJpe_OZMBfjtTYTThdBc8xeqiHBjzkxEmwcvdtZVyAuN7D4zNwBIaVX4sbLJIh?width=2408&height=1976&cropmode=none" alt="修改登入資訊"><br> 最後回到 mysql CLI 打更新權限<pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">FLUSH PRIVILEGES<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 大功告成 QQ，至此所有的封印都解除了，回到 MySQL Workbench 新增一筆新的連線<br> 搭拉 ! 成功<br> <img data-src="https://dsm01pap006files.storage.live.com/y4mTaT_SAlbQeh09auWSIkVUd77ntYREr4HeKgJlWNOrLFIlwNylxz4KD7Vm92HChqkxcI2VLAbv9nNAUIFbNuxbFU9XHsScWWtJ9XxhHbGobfaR9YTYo2IMpWCCj2AujdYS4oaE4mxmwxtX9yTVpDL7kdUVVmJ48ZSRywv8puKRL_po2kuBsXhPEGFDzu-6XIP?width=2735&height=1825&cropmode=none" alt="Workbench 測試連線"></li></ol><h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>歷經千辛萬苦終於架好了，沒有想到架站步驟是這麼的複雜，必須突破一層層關卡，像是雖然打開了虛擬主機外部連線問題，但 MySQL 也是要更改權限問題，不然也還是不成功的。</p><p>另外比較印象深刻的大概是買網域的部分，當時挑很久，在思考不同網域名的差別。我才知道網域是有分級的，<code>.shop</code> 這個字尤其價值不斐。不過轉念想想，好的網域名，在使用者輸入更好記，會記住這個網頁的用途，SEO 自然就會比較好。</p><p>再來就是虛擬主機的部分，裡面大多都是我看不懂的東西，大多都是偏向是硬體，因為我本身沒有接觸硬體，之後會想多了解一些…</p><hr><p>參考 :</p><ul><li><a href="https://github.com/Lidemy/mentor-program-2nd-yuchun33/issues/15">部署 AWS EC2 遠端主機 + Ubuntu LAMP 環境 + phpmyadmin)</a></li><li><a href="https://magiclen.org/lamp/">安裝 LAMP Server + phpMyAdmin 在 Linux 系統上輕鬆架設網站 | MagicLen</a></li><li><a href="https://lidemy5thwbc.coderbridge.io/2021/07/27/webserver-set/">網頁伺服器架站流程 (coderbridge.io)</a></li><li><a href="https://drive.google.com/file/d/1ZymwmKb3MaX3F5YMQb77AC_wrUsX_ljS/view">Install phpMyAdmin with Apache (LAMP) on Ubuntu.txt</a> : phpmyadmin 連接 apache 問題</li><li><a href="http://dns-learning.twnic.net.tw/bind/intro6.html">DNS資源紀錄(Resource Record)介紹 (twnic.net.tw)</a></li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Backend/" rel="tag"><i class="fa fa-tag"></i> Backend</a><a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a><a href="/tags/phpMyadmin/" rel="tag"><i class="fa fa-tag"></i> phpMyadmin</a><a href="/tags/LAMP/" rel="tag"><i class="fa fa-tag"></i> LAMP</a></div><div class="post-nav"><div class="post-nav-item"><a href="/Frontend/JavaScript/JavaScript-Hoisting-III/" rel="prev" title="⟬ 筆記 ⟭ JavaScript - 宣告提升(III) - let & const 以及 TDZ"><i class="fa fa-chevron-left"></i> ⟬ 筆記 ⟭ JavaScript - 宣告提升(III) - let & const 以及 TDZ</a></div><div class="post-nav-item"> <a href="/Frontend/CSS/CSSSeriesZeroToOne-01/" rel="next" title="CSSZeroToOneSeries | 01 | 圖文滿版區塊">CSSZeroToOneSeries | 01 | 圖文滿版區塊<i class="fa fa-chevron-right"></i></a></div></div></footer></article><div style=""><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2022</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">RosaHong</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>總字數：</span> <span title="總字數">134k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>所需總閱讀時間 &asymp;</span> <span title="所需總閱讀時間">2:02</span></span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 強力驅動</div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1.15.0/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>
if (document.querySelectorAll('.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8.7.0/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script></body></html>