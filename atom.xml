<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¥å¿˜é›œè¨˜</title>
  
  <subtitle>ç´€éŒ„å­¸ç¿’èˆ‡ç”Ÿæ´»</subtitle>
  <link href="https://blog.rosa.tw/atom.xml" rel="self"/>
  
  <link href="https://blog.rosa.tw/"/>
  <updated>2022-06-22T04:45:11.939Z</updated>
  <id>https://blog.rosa.tw/</id>
  
  <author>
    <name>Rosa Hong</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - fetch ç²å–é ç«¯è³‡æ–™</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-fetch/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-fetch/</id>
    <published>2022-06-22T04:45:11.000Z</published>
    <updated>2022-06-22T04:45:11.939Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æƒ³è¦ç²å–é ç«¯çš„è³‡æ–™å¯ä»¥ä½¿ç”¨ AJAX ï¼Œåœ¨ ES6 ä¹‹å‰å¤§å¤šæœƒä½¿ç”¨ JQuery çš„ <code>$.ajax</code>  æˆ–è€…åŸç”Ÿçš„ XHRï¼Œè€Œåœ¨ HTML5 å‰‡æä¾› fetch ä½¿ç”¨ï¼Œæ›´å¤šæ™‚å€™æœƒä½¿ç”¨ axios å¥—ä»¶ã€‚<br>æœ¬ç¯‡è¨˜éŒ„ fetch çš„ä½¿ç”¨æ–¹å¼èˆ‡å¸¸è¦‹çš„ä½¿ç”¨èª¤å€ã€‚</p><span id="more"></span><h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><p>fetch æ˜¯ HTML5 åŸç”Ÿç²å–é ç«¯çš„æ–¹å¼ï¼Œå…¶æ“ä½œä¹Ÿååˆ†ç°¡å–®</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>obj<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token comment">// ç¬¬äºŒå€‹åƒæ•¸ç‚º options</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ²’æœ‰ options çš„ç‰©ä»¶ï¼Œåªæœ‰ç¶²å€çš„è©±æ˜¯ <code>GET</code>ã€‚<br>fetch å›å‚³çš„æ˜¯ä¸€å€‹ Promise ç‰©ä»¶ï¼ŒPromise ç°¡å–®ä¾†èªªæ˜¯ <strong>è™•ç†éåŒæ­¥æ“ä½œçš„ç‰¹æ®Šç‰©ä»¶</strong>ï¼Œæœ‰é—œæ–¼ Promise ä¹‹å¾Œæœƒå†è£œå……ã€‚</p><h3 id="then-amp-catch"><a href="#then-amp-catch" class="headerlink" title="then &amp; catch"></a>then &amp; catch</h3><p>å¦‚æœè¦æ‹¿åˆ°å›å‚³çš„ response ï¼Œå¯ä»¥é€é <code>then</code>ã€‚è¦æ¥ .then å‰é¢çš„ç‰©ä»¶å¿…è¦é¡å‹ç‚º Promiseï¼Œè€Œ <code>fetch()</code> å›å‚³çš„å°±æ˜¯ä¸€å€‹ Promise ç‰©ä»¶ã€‚  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> endPoint <span class="token operator">=</span> <span class="token string">'https://restcountries.com/v3.1/name/Taiwan'</span><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ˜¯ <code>fetch().then</code> è€Œä¸æ˜¯ <strong>fetch.then</strong>ï¼Œæ˜¯ fetch é€™å€‹å‡½å¼è£¡é¢å›å‚³ Promise</p></blockquote><p>then æ¥æ”¶çš„åƒæ•¸æ˜¯ Promise ä¸­ resolve æˆ–æ˜¯ reject çš„å‡½å¼é‹è¡Œçš„çµæœï¼Œé€šå¸¸æ˜¯ resolveï¼Œå¦‚æœæ˜¯ reject å‰‡æœƒç”¨ <code>.catch</code> ä¾†ä½œéŒ¯èª¤è™•ç†ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœƒè¢«ä¸Ÿé€² catch è™•ç†çš„ err ä¸¦ä¸æ˜¯åƒ XHR status 404 æˆ– 500 é€™é¡çš„ï¼Œè€Œæ˜¯å¯èƒ½ç¶²è·¯é€£ç·šéŒ¯èª¤æˆ–è€…ç¶²å€æœ‰èª¤å°è‡´ä¸èƒ½ç™¼å‡º request ã€‚</p><h3 id="HTTP-ç‹€æ…‹ç¢¼è™•ç†-Response-status-amp-Response-ok"><a href="#HTTP-ç‹€æ…‹ç¢¼è™•ç†-Response-status-amp-Response-ok" class="headerlink" title="HTTP ç‹€æ…‹ç¢¼è™•ç† Response.status &amp;  Response.ok"></a>HTTP ç‹€æ…‹ç¢¼è™•ç† Response.status &amp;  Response.ok</h3><p>åªè¦æ˜¯ HTTP ç‹€æ…‹ç¢¼ 400 ä»¥ä¸Šçš„æˆ‘å€‘é€šå¸¸æœƒåœ¨ XHR åšéŒ¯èª¤è™•ç†</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½†æ˜¯ fetch ä¸ç®¡ç‹€æ…‹ç¢¼å¤šå°‘ï¼Œåªè¦æœ‰æ­£ç¢ºçš„ç™¼å‡ºè«‹æ±‚å¾Œå›å‚³çš„ response éƒ½æœƒé€²å…¥ resolve ï¼Œå¦‚æœè¦è™•ç†åƒ onerror çš„éŒ¯èª¤å¯ä»¥é€é .then ä¸­ response çš„ status æˆ– okã€‚</p><ul><li>response.status : å›å‚³çµæœçš„ HTTP code<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token comment">// 200 ä»£è¡¨æˆåŠŸ</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>response.ok : å›å‚³ boolean ï¼Œå¦‚æœ HTTP code åœ¨ 200~299 å°±å›å‚³ true<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="Response-text-amp-json"><a href="#Response-text-amp-json" class="headerlink" title="Response.text() &amp; .json()"></a>Response.text() &amp; .json()</h3><p>å¯ä»¥å°‡ response è§£ææˆæƒ³è¦çš„å½¢å¼</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// return response.json() å…©è€…æ“‡ä¸€</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>.text()</code> : ç›´æ¥å°å‡ºæ–‡å­—</li><li><code>.json()</code> : è‡ªå‹•å¹«æˆ‘å€‘è§£æ json æ ¼å¼çš„è³‡æ–™</li></ul><p>å…¶ä»–ç¨®é¡çš„æ ¼å¼ : </p><ul><li><code>.blob()</code>ï¼šæŠŠè³‡æ–™è½‰æˆBlobç‰©ä»¶</li><li> <code>.formData()</code>ï¼šæŠŠè³‡æ–™è½‰æˆFormDataç‰©ä»¶</li><li> <code>.arrayBuffer()</code>ï¼šæŠŠè³‡æ–™è½‰æˆäºŒé€²åˆ¶æ•¸çµ„</li></ul><blockquote><p>é€™äº›æ–¹æ³• <strong>åªèƒ½æ“‡ä¸€</strong>ï¼Œä¸€ä½†è¢«è§£æéå°±ä¸èƒ½é‡è¤‡å†ä½¿ç”¨å…¶ä»–çš„å‡½å¼è§£æäº†ã€‚</p></blockquote><h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><p>POST ä¹Ÿå¾ˆç°¡å–®ï¼Œè·Ÿ <code>$.ajax()</code> çš„æ“ä½œå¾ˆåƒ</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç¬¬äºŒå€‹åƒæ•¸å¯ä»¥æ”œå¸¶ header ã€body æˆ– Http ç­‰è³‡è¨Š</span><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'Rosa'</span><span class="token punctuation">&#125;</span><span class="token function">fetch</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>fetch çš„ options é‚„æœ‰åŒ…å«å…¶ä»–å¸¸è¦‹çš„ HTTP è™•ç†ï¼Œ<br>åœ¨ body ä¸­å¦‚æœæˆ‘å€‘è¦ä¸Šå‚³çš„æ ¼å¼æ˜¯ JSON æª”ï¼Œè¨˜å¾—è¦å°‡å…§å®¹è½‰æ›æˆ JSON æ ¼å¼ã€‚</p><blockquote><p><strong>GET èˆ‡ HEAD æ˜¯æ²’æœ‰ body çš„</strong></p></blockquote><h2 id="fetch-çš„-Headers"><a href="#fetch-çš„-Headers" class="headerlink" title="fetch çš„ Headers"></a>fetch çš„ Headers</h2><p>ä»¥å¾€åœ¨ XHR è¦åŠ ä¸Š Header </p><pre class="line-numbers language-js" data-language="js"><code class="language-js">XMLHttpRequest<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span>header<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ fetch è¦åŠ ä¸Š Headerï¼Œå¯ä»¥ç›´æ¥åŠ ï¼Œæˆ–è€… new å‡ºä¸€å€‹ Header å®¹å™¨ä¾†æ”¾ç½®æ‰€éœ€çš„å…§å®¹ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç›´æ¥ä½¿ç”¨ headers</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>headers<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">//é€éå¯¦ä¾‹å‡ºä¸€å€‹ Headers</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content Type"></a>Content Type</h3><p>è¡¨å–® æˆ–æ˜¯ JSON æ ¼å¼è³‡æ–™</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token comment">//JSON</span>'Content-Type'<span class="token operator">:</span> 'application/json'<span class="token comment">// è¡¨å–®</span>'Content-Type'<span class="token operator">:</span> 'application/x-www-form-urlencoded' <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="credentials"><a href="#credentials" class="headerlink" title="credentials"></a>credentials</h3><p>é è¨­ä¸Šä¸æœƒè‡ªå‹•å¸¶ä¸Šæˆ–æ¥æ”¶ä»»ä½• cookiesï¼Œå¦‚æœç¶²ç«™ä¾è³´ session æœƒå°è‡´è«‹æ±‚å›å‚³æœªç¶“èªè­‰ï¼Œæƒ³æŠŠ cookies ä¸€èµ·å¸¶ä¸Šï¼Œè¦åŠ  </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>credentials<span class="token operator">:</span> <span class="token string">'include'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="å°-mode-çš„èª¤è§£"><a href="#å°-mode-çš„èª¤è§£" class="headerlink" title="å° mode çš„èª¤è§£"></a>å° mode çš„èª¤è§£</h2><p>ç™¼é€ request å¯èƒ½æœƒé‡åˆ° CORS çš„é™åˆ¶ï¼Œfetch ä¸­mode æä¾› <code>&#39;no-cors&#39;</code> çš„æ–¹æ³•ï¼Œä¹çœ‹ä¹‹ä¸‹æœƒä»¥ç‚ºèƒ½çªç ´ CORS é™åˆ¶ï¼Œæ—¢ä¸æœƒè·³å‡ºéŒ¯èª¤ (ä¸æœƒè·³åˆ° .catch)ï¼Œä¹Ÿèƒ½ç™¼å‡º request ï¼Œä½† <strong>response çš„ status æ˜¯ 0 ï¼Œbody æ˜¯ç©ºçš„</strong></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>method<span class="token operator">:</span><span class="token string">'POST'</span><span class="token punctuation">,</span>headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">'Content-Type'</span><span class="token operator">:</span><span class="token string">'application/json'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>name<span class="token operator">:</span> <span class="token string">'Rosa'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>mode <span class="token operator">:</span> <span class="token string">'no-cors'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>éº»ç“œç¿»è­¯æ©Ÿ :<br>ä¸æœƒå›å‚³éŒ¯èª¤ï¼Œä¹Ÿä¸æœƒçªç ´ CORS çš„é™åˆ¶<br>é¿å…ç™¼ç”ŸéŒ¯èª¤ï¼Œç¡¬è¦ä¸Ÿå‡ºä¸€å€‹ request ï¼Œé‚„ä½ ä¸€å€‹å®‰å¿ƒ responseï¼Œè£¡é¢åŒ…å«æ²’æ±è¥¿çš„ body ä»¥åŠ status ç‚º 0 ã€‚</p></blockquote><p>CORS çš„é™åˆ¶æ˜¯å¾Œç«¯è¦è§£æ±ºï¼Œå‰ç«¯ç„¡æ³•ç›´æ¥å¯¦ç¾æ›è·¨ CORSã€‚</p><h2 id="ç‚ºä»€éº¼-XMLHttpRequest-é‚„æ˜¯å­˜åœ¨"><a href="#ç‚ºä»€éº¼-XMLHttpRequest-é‚„æ˜¯å­˜åœ¨" class="headerlink" title="ç‚ºä»€éº¼ XMLHttpRequest é‚„æ˜¯å­˜åœ¨ ?"></a>ç‚ºä»€éº¼ XMLHttpRequest é‚„æ˜¯å­˜åœ¨ ?</h2><p>æˆ‘å€‘éƒ½çŸ¥é“ XHR å¯«èµ·ä¾†æœ‰é»å›‰å—¦ï¼Œåœ¨ fetch å•ä¸–ä¹‹å¾Œï¼Œé™¤äº†æ”¯æ´èˆŠçš„ç€è¦½å™¨æœƒä½¿ç”¨åˆ° XHRï¼Œç¾ä»£é–‹ç™¼å¤§å¤šé‚„æ˜¯ä½¿ç”¨ fetchï¼Œä½†æ˜¯ XMLHttpRequest ä¸¦æ²’æœ‰è¢«å»¢æ£„ï¼Œå› ç‚º fetch é‚„æ˜¯æœ‰äº›åŠŸèƒ½æ˜¯ç„¡æ³•åšåˆ°çš„ã€‚</p><p>**fetch åšä¸åˆ° : ** </p><ol><li>ä¸Šå‚³é€²åº¦è¿½è¹¤ï¼Œfetch å¿…é ˆæ­é…å…¶ä»–çš„ API æ‰èƒ½åšåˆ°ï¼Œ</li><li>éŒ¯èª¤çš„å›æ‡‰è™•ç†<br> fetch ä¸ç®¡ HTTP 404 é‚„æ˜¯ 500 ï¼Œä¹Ÿé‚„æ˜¯æœƒ resolveï¼Œä»£è¡¨ <strong>ä½ ç¢ºå¯¦æœ‰é€å‡º request</strong>ï¼Œ<code>.catch</code> æœƒæŠ“åˆ°çš„éŒ¯èª¤åªæœƒæ˜¯ <strong>ç¶²è·¯éŒ¯èª¤æˆ–å…¶ä»–æœƒä¸­æ–· request çš„æƒ…æ³</strong>ã€‚å°æ–¼éŒ¯èª¤çš„è™•ç†ä¸æ˜¯é‚£éº¼ç›´è¦ºã€‚</li><li>ä¸­æ–·  (absort) fetch<br> ç›®å‰æ²’æœ‰ç›´æ¥ä¸­æ–· fetch (Promise) çš„æ–¹æ³•ï¼Œä¸åƒ XHR æä¾› <code>.absort()</code>ï¼Œä½†æ˜¯ WebAPIs æœ‰æä¾› <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/AbortController#browser_compatibility">AbortController</a> å¯ä»¥è®“ fetch åšåˆ°ä¸­æ–·ï¼Œç›®å‰ç‚ºå¯¦é©—æ€§(?)<br> <a href="https://mdn.github.io/dom-examples/abort-api/">MDN æä¾›çš„ç¯„ä¾‹</a>ï¼Œè®“ä½ çªç„¶ä¸æƒ³çœ‹å½±ç‰‡çš„æ™‚å€™ï¼Œåœæ­¢ç™¼å‡º requestã€‚</li><li>é€¾æ™‚è™•ç† (timeout)<br> XHR é€¾æœŸçš„æ™‚å€™å¯ä»¥æš«åœç™¼å‡ºè«‹æ±‚ï¼Œç¬¬ä¸‰é»ä¹Ÿæåˆ° fetch å› ç‚ºæ²’æœ‰ä¸­æ–·çš„åŠŸèƒ½ï¼Œç„¡æ³•åšåˆ°ã€‚</li></ol><h2 id="è£œå……-å¹¾ç¨®ç™¼-request-çš„æ–¹æ³•"><a href="#è£œå……-å¹¾ç¨®ç™¼-request-çš„æ–¹æ³•" class="headerlink" title="è£œå…… : å¹¾ç¨®ç™¼ request çš„æ–¹æ³•"></a>è£œå…… : å¹¾ç¨®ç™¼ request çš„æ–¹æ³•</h2><p>ä»¥ä¸‹éƒ½æœƒä½¿ç”¨ GET ç‚ºä¾‹</p><ol><li>XHR <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>state<span class="token operator">>=</span><span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>state <span class="token operator">&lt;=</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>xhr<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>JQuery <pre class="line-numbers language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>method <span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>url <span class="token operator">:</span> url<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>fetch <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>axios <pre class="line-numbers language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>åœ¨æˆ‘å­¸ç¿’ JavaScript é€™æ®µæœŸé–“ï¼Œè¬›åˆ°é ç«¯å–è³‡æ–™ï¼Œå¾ˆå¤šæ•™å­¸ä¸¦ä¸æœƒæåˆ° fetch æˆ–æ˜¯ XMLHttpRequestï¼Œåè€Œæ˜¯å«ä½ ç›´æ¥ä½¿ç”¨ axiosï¼Œç•¢ç«Ÿé‡æ–°é€ è¼ªå­æ˜¯å¾ˆéº»ç…©çš„ ğŸ¥´ï¼Œä¸é fetch ç„¡ç–‘çš„æ˜¯æœƒè¶Šä¾†è¶Šå®Œå–„ï¼Œä¸è«–æ˜¯ç”¨ä½•è€…å·¥å…·æˆ–æ‰‹æ³•å¿…æœ‰ä¸€å®šèª•ç”Ÿçš„ç†ç”±ï¼Œäº†è§£åŸç†å¾Œé–‹ç™¼éƒ½å¯ä»¥æ›´å¾—å¿ƒæ‡‰æ‰‹ã€‚ </p><p>æˆ‘è »å–œæ­¡<a href="https://www.ithome.com.tw/voice/121435">è‰¯è‘›æ ¼ ä¸‹çš„é€™ç•ªçµè«–</a></p><blockquote><p>èˆŠæ±è¥¿èª•ç”Ÿåœ¨èˆŠçš„æ™‚ä»£ï¼Œé©æ™‚åœ°è§£æ±ºäº†ç•¶æ™‚çš„å•é¡Œï¼Œè€Œå¾Œå¾ä¸­ç´¯ç©äº†ä¸å°‘çš„ä½¿ç”¨ç¶“é©—ï¼Œå› è€Œèª•ç”Ÿäº†æ–°çš„æŠ€è¡“ã€æ¦‚å¿µæˆ–è¦ç¯„ï¼Œæ€¥è‘—é è¨€èˆŠæ±è¥¿å°‡æœƒé€å»ï¼Œä¸¦ä¸æœƒè®“é–‹ç™¼è€…çœ‹èµ·ä¾†æ›´ç‚ºè€€çœ¼ï¼Œåªæœƒè®“é–‹ç™¼è€…çœ‹ä¸æ¸…æ¥šæ–°æ±è¥¿çš„æœ¬è³ªç½·äº†ã€‚</p></blockquote><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li>å¾ fetch è§£æ±ºä»€éº¼å•é¡Œä¾†çœ‹ : <a href="https://www.ithome.com.tw/voice/121435">å¾XHRåˆ°Fetch | iThome</a></li><li>Huli å¤§çš„ fetch ç³»åˆ—å½±ç‰‡  <ul><li><a href="https://youtu.be/_8cLWMAQe3A">Fetch èˆ‡ Promise è£œå……ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šåˆæ¢ Fetch</a>  </li><li><a href="https://youtu.be/Ovv9tPhiW_0">Fetch èˆ‡ Promise è£œå……ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šfetch çš„ POST èˆ‡éŒ¯èª¤è™•ç†</a>  </li><li><a href="https://youtu.be/5A9ogWY7J7w">Fetch èˆ‡ Promise è£œå……ç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šfetch çš„ä½¿ç”¨æ³¨æ„äº‹é …</a>  </li></ul></li><li>XHR v.s fetchï¼Œå–®ç´”åªæ˜¯å¥½å¥‡æŸ¥è©¢ XD <a href="https://blog.openreplay.com/ajax-battle-xmlhttprequest-vs-the-fetch-api">Ajax Battle: XMLHttpRequest vs the Fetch API </a></li><li><a href="https://zh.javascript.info/fetch">Fetch</a></li><li>å¾ˆæ¨çš„è©³ç´°æ–‡å­—ç‰ˆå­¸ç¿’ : <a href="https://eyesofkids.gitbooks.io/javascript-start-from-es6/content/part4/ajax_fetch.html">AJAXèˆ‡Fetch API Â· å¾ES6é–‹å§‹çš„JavaScriptå­¸ç¿’ç”Ÿæ´» (gitbooks.io)</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æƒ³è¦ç²å–é ç«¯çš„è³‡æ–™å¯ä»¥ä½¿ç”¨ AJAX ï¼Œåœ¨ ES6 ä¹‹å‰å¤§å¤šæœƒä½¿ç”¨ JQuery çš„ &lt;code&gt;$.ajax&lt;/code&gt;  æˆ–è€…åŸç”Ÿçš„ XHRï¼Œè€Œåœ¨ HTML5 å‰‡æä¾› fetch ä½¿ç”¨ï¼Œæ›´å¤šæ™‚å€™æœƒä½¿ç”¨ axios å¥—ä»¶ã€‚&lt;br&gt;æœ¬ç¯‡è¨˜éŒ„ fetch çš„ä½¿ç”¨æ–¹å¼èˆ‡å¸¸è¦‹çš„ä½¿ç”¨èª¤å€ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - Event Loop äº‹ä»¶å¾ªç’° (I)</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Event-Loop-01/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Event-Loop-01/</id>
    <published>2022-06-17T16:54:45.000Z</published>
    <updated>2022-06-18T13:51:43.692Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ JavaScript ä¸­ï¼ŒéåŒæ­¥çš„æ“ä½œæ˜¯å¾ˆå¸¸è¦‹çš„ï¼Œèˆ‰å‡¡æ»‘é¼ äº‹ä»¶ã€ç™¼å‡ºè«‹æ±‚ç²å–è³‡æ–™â€¦ç­‰ï¼Œåéä¾†å•ï¼Œå¦‚æœé€™äº›æ“ä½œæ˜¯ <strong>åŒæ­¥</strong> çš„ï¼Œä½ å¯èƒ½æ“ä½œå¾Œï¼Œç•«é¢å°±åƒè¢«å¡ä½äº†ï¼Œè¦ç­‰åˆ°ç›®å‰çš„ç¨‹å¼åŸ·è¡Œå®Œç•¢æ‰èƒ½ç¹¼çºŒç€è¦½ã€‚</p><p>Event Loop çš„æ¦‚å¿µå¦‚ä½•å¹«æˆ‘å€‘äº†è§£é€™ä»¶äº‹ï¼Œå…·é«”æ€éº¼åšå‘¢ ? æœ¬ç¯‡ä¸»è¦æ˜¯å¹«åŠ©æˆ‘è‡ªå·±é‡æ¸… Event Loop çš„æ¦‚å¿µã€‚</p><span id="more"></span><h2 id="ç‚ºä»€éº¼æœƒæœ‰-Event-Loop"><a href="#ç‚ºä»€éº¼æœƒæœ‰-Event-Loop" class="headerlink" title="ç‚ºä»€éº¼æœƒæœ‰ Event Loop ?"></a>ç‚ºä»€éº¼æœƒæœ‰ Event Loop ?</h2><p>JS çš„èªè¨€ç‰¹æ€§æ˜¯</p><ol><li>Single Thread (å–®ç·šç¨‹)</li><li>Synchronous (åŒæ­¥)</li></ol><p>æœ‰æ™‚å€™èªæ„ä¸Šå¾ˆä»¤äººèª¤è§£ï¼ŒåŒæ­¥ <strong>ä¸¦ä¸æ˜¯åŒæ™‚åšå¾ˆå¤šäº‹</strong>ï¼Œè€Œæ˜¯ä½ åªèƒ½ä¸€æ¬¡åšä¸€ä»¶äº‹ã€‚é‚£ç‚ºä»€éº¼æˆ‘å€‘å¯ä»¥åœ¨ <strong>ç€è¦½å™¨</strong> ä¸­æ“ä½œæŒ‰éˆ•ç²å–è³‡æ–™çš„åŒæ™‚åˆèƒ½åšåˆ¥çš„äº‹ ?    </p><p>æ²’éŒ¯ï¼Œç‰¹åˆ¥æŒ‡å‡º <strong>ç€è¦½å™¨</strong>ï¼Œå› ç‚ºåœ¨ä¸åŒçš„åŸ·è¡Œç’°å¢ƒä¸‹ï¼Œæ‰èƒ½è®“æˆ‘å€‘åŸ·è¡ŒéåŒæ­¥çš„æ“ä½œã€‚(node ä¹Ÿæ˜¯ä¸€ç¨® JavaScript åŸ·è¡Œç’°å¢ƒï¼Œå…¶ä¸­ä¹Ÿæœ‰æä¾›éåŒæ­¥çš„ API ä¾†æ“ä½œ)</p><p>JavaScript åœ¨ Runtime (åŸ·è¡Œç’°å¢ƒ) æ˜¯åŒæ­¥çš„ï¼Œè€Œæ˜¯ç€è¦½å™¨æä¾› Web APIs è®“æˆ‘å€‘é€é Event Loop æ­é…éåŒæ­¥æ“ä½œï¼Œæ‰èƒ½â€åŒæ™‚â€è™•ç†å¾ˆå¤šäº‹ã€‚</p><h3 id="é—œæ–¼-Event-Loop-çš„åè©"><a href="#é—œæ–¼-Event-Loop-çš„åè©" class="headerlink" title="é—œæ–¼ Event Loop çš„åè©"></a>é—œæ–¼ Event Loop çš„åè©</h3><h4 id="Stack-å †ç–Š"><a href="#Stack-å †ç–Š" class="headerlink" title="Stack (å †ç–Š)"></a>Stack (å †ç–Š)</h4><p>Stack æ˜¯è³‡æ–™çµæ§‹çš„ä¸€ç¨®ï¼Œéµå®ˆ LIFO (Last In,First Out)ã€‚</p><p>JavaScript ä¸­çš„ Call Stack æœƒè¨˜éŒ„ç›®å‰åŸ·è¡Œåˆ°ç¨‹å¼çš„éƒ¨åˆ†ï¼Œå› ç‚º JavaScript æ˜¯ Single Thread (å–®ç·šç¨‹) ï¼Œåªæœƒæœ‰ä¸€å€‹ Call Stackã€‚</p><p><strong>é‚£ Call Stack æ€éº¼é‹ä½œå‘¢ ?</strong><br>ç•¶åŸ·è¡ŒæŸå€‹å‡½å¼ï¼Œæœƒå°‡ç›®å‰åŸ·è¡Œçš„å‡½å¼æ”¾åœ¨ Stack çš„æœ€ä¸Šå±¤ï¼Œå¦‚æœå‡½å¼åŸ·è¡Œ <code>return</code> å°±æœƒå¾ Stack æœ€ä¸Šæ–¹æŠ½é›¢ã€‚</p><p><strong>ç¯„ä¾‹</strong>  </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è·Ÿè‘—ç¨‹å¼èµ° :  </p><ol><li>åŸ·è¡Œ c() ï¼ŒæŠŠ c() æ”¾å…¥ Call Stack ä¸­ 1</li></ol><table><thead><tr><th>order</th><th>stack</th></tr></thead><tbody><tr><td>1</td><td>c () <strong>(now)</strong></td></tr></tbody></table><ol start="2"><li>å°å‡º â€˜câ€™ï¼Œæ¥è‘—åŸ·è¡Œ b()ï¼ŒæŠŠ b() æ”¾å…¥ Call Stack ä¸­   </li></ol><table><thead><tr><th>order</th><th>stack</th></tr></thead><tbody><tr><td>2</td><td>b() <strong>(now)</strong></td></tr><tr><td>1</td><td>c ()</td></tr></tbody></table><ol start="3"><li>å°å‡º â€˜bâ€™ï¼Œæ¥è‘—åŸ·è¡Œ a()ï¼ŒæŠŠ a() æ”¾å…¥ Call Stack ä¸­   </li></ol><table><thead><tr><th>order</th><th>stack</th></tr></thead><tbody><tr><td>3</td><td>a() <strong>(now)</strong></td></tr><tr><td>2</td><td>b()</td></tr><tr><td>1</td><td>c ()</td></tr></tbody></table><ol start="4"><li>å°å‡º â€˜aâ€™ï¼Œa() å¾Œé¢æ²’æœ‰ç¨‹å¼ç¢¼ï¼Œä»£è¡¨åŸ·è¡Œå®Œç•¢ï¼ŒæŠ½é›¢ Stack ä¸­  </li></ol><table><thead><tr><th>order</th><th>stack</th></tr></thead><tbody><tr><td><del>3</del></td><td><del>a() â€”-&gt; æŠ½é›¢</del></td></tr><tr><td>2</td><td>b()</td></tr><tr><td>1</td><td>c ()</td></tr></tbody></table><ol start="5"><li>å¾Œé¢è·Ÿæ­¥é©Ÿ 4 ä¸€æ¨£ï¼Œä¾åºæŠ½é›¢ï¼Œç›´åˆ° c() åŸ·è¡Œå®Œç•¢ï¼Œå¾Œé¢ä¹Ÿæ²’æœ‰ç¨‹å¼ç¢¼ï¼Œæœ€å¾Œ Call Stack ç‚ºç©º</li></ol><p>è§£é‡‹äº†ä¸Šé¢æåŠçš„ Stack <strong>Last In,First Out</strong> çš„åŸå› ã€‚  </p><h4 id="Task-Queue-ä»»å‹™ä½‡åˆ—"><a href="#Task-Queue-ä»»å‹™ä½‡åˆ—" class="headerlink" title="Task Queue (ä»»å‹™ä½‡åˆ—)"></a>Task Queue (ä»»å‹™ä½‡åˆ—)</h4><p>åˆç¨±ä½œ Callback Queueï¼Œåœ¨ Web APIs çš„ function åŸ·è¡Œå®Œå¾Œï¼ŒæŠŠ callback (æ¥è‘—è¦åŸ·è¡Œçš„ function) æ”¾åˆ° Task Queue ç­‰å¾…ã€‚</p><p>ğŸ‘‰<a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">åƒè€ƒ Loupe è¦–è¦ºåŒ–å·¥å…·</a></p><p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæœ‰ setTimeout èˆ‡ click äº‹ä»¶ã€‚ç•¶ç¨‹å¼åŸ·è¡Œæ™‚ : </p><ol><li>Button äº‹ä»¶ä¸¦æ²’æœ‰è§¸ç™¼ï¼Œcallback function ä¸¦ä¸æœƒåŸ·è¡Œï¼Œå…ˆæ”¾ç½®åˆ° Web APIs ç­‰å¾…</li><li>ç¬¬ 7 è¡Œæ’é€² Call Stack ï¼Œå°å‡º â€˜Hi !â€™ï¼ŒåŸ·è¡Œå®Œç•¢ç§»å‡º Call Stack å¤–</li><li>setTimeOut æ”¾ç½®åˆ° Web APIs ç­‰å¾…ï¼Œä¸¦ä¸”é–‹å§‹ç®— 5 ç§’é˜</li><li>ç¬¬ 13 è¡Œæ’é€² Call Stack ï¼Œå°å‡º â€˜Welcome to loupe.â€™ï¼ŒåŸ·è¡Œå®Œç•¢ç§»å‡º Call Stack å¤–ï¼Œåˆ°é€™é‚Šéœæ…‹çš„ç¨‹å¼ç¢¼éƒ½åŸ·è¡Œå®Œç•¢ï¼ŒCall Stack è®Šæˆç©ºçš„ ã€‚(åŒä¸€æ™‚é–“ setTimeOut é‚„åœ¨è·‘ç§’æ•¸)</li><li>éäº†å¤§æ¦‚ 5 ç§’é˜ï¼Œ æŠŠç¬¬ 9 è¡Œ setTimeOut çš„ callback <code>timeout()</code> æ”¾åˆ° Callback Queueã€‚</li><li><strong>æ­¤æ™‚ Call Stack ç‚ºç©ºçš„ï¼ŒæŠŠ Task Queue ç¬¬ä¸€é †ä½çš„ timeout() æ¬åˆ° Call Stack åŸ·è¡Œ</strong> (æ­¤æ™‚æœƒçœ‹è¦‹æ©˜è‰²çš„æ—‹è½‰éˆ•è½‰å‹•ï¼Œä»£è¡¨ Event Loop)</li><li>ç¬¬ 10 è¡Œæ’é€² Call Stack ï¼Œå°å‡º â€˜Click the buttonâ€™ï¼Œtimeout() åŸ·è¡Œå®Œç•¢ï¼Œç§»å‡º Call Stack å¤–ï¼ŒStack åˆè®Šæˆç©ºçš„ã€‚</li></ol><p><strong>å¦‚æœé€™æ™‚å€™æŒ‰ä¸‹æŒ‰éˆ•å‘¢ ?</strong>     </p><ol><li>æŒ‰ä¸‹å¾Œï¼ŒonClick äº‹ä»¶åŸ·è¡Œï¼Œæ’é€² Call Stack</li><li>åŸ·è¡Œç¬¬ 2 è¡Œ setTimeout ï¼ŒæŠŠ setTimeout æ”¾ç½®åˆ° Web APIs ç­‰å¾…ï¼Œä¸¦ä¸”é–‹å§‹ç®— 2 ç§’é˜ï¼ŒonClick äº‹ä»¶åŸ·è¡Œå®Œç•¢ï¼Œç§»å‡º Call Stack å¤–ï¼ŒStack åˆè®Šæˆç©ºçš„</li><li>éäº†å¤§æ¦‚ 2 ç§’é˜ï¼Œ æŠŠ setTimeOut çš„ callback <code>timer()</code> æ”¾åˆ° Callback Queueã€‚</li><li><strong>æ­¤æ™‚ Call Stack ç‚ºç©ºçš„ï¼ŒæŠŠ Task Queue ç¬¬ä¸€é †ä½çš„ timer() æ¬åˆ° Call Stack åŸ·è¡Œ</strong></li><li>ç¬¬ 3 è¡Œæ’é€² Call Stackï¼Œå°å‡º â€˜You click the button !â€™ï¼ŒåŸ·è¡Œå®Œç•¢ï¼Œç§»å‡º Call Stack å¤–ï¼ŒStack åˆè®Šæˆç©ºçš„ã€‚</li></ol><p>ä»¥ä¸Šæ˜¯ä¸€æ­¥æ­¥è·Ÿè‘—çš„ Event Loop çš„åŸºæœ¬é‹ä½œ</p><h4 id="Blocking-é˜»å¡"><a href="#Blocking-é˜»å¡" class="headerlink" title="Blocking (é˜»å¡)"></a>Blocking (é˜»å¡)</h4><blockquote><p>é‚£å¦‚æœä¸€ç›´æŒ‰æŒ‰éˆ•å‘¢ ? </p></blockquote><p>æœƒç™¼ç¾ä¸€å€‹å€‹ onClick äº‹ä»¶çš„ callback æœƒè¢«æ’é€² Callback Queue æ­£åœ¨æ’éšŠç­‰å¾…ï¼ŒsetTimeout åŒæ™‚ä¹Ÿåœ¨æ’éšŠï¼Œä¹Ÿè¦ç­‰å¾… onClick äº‹ä»¶çµæŸï¼Œç§»å‡º Call Stack å¤–ï¼Œé€é Event Loop æª¢æŸ¥ Call Stack æ˜¯å¦ç‚ºç©ºâ€¦(ç•¥)ï¼Œé‡è¤‡ä¸€ç›´åŸ·è¡Œã€‚</p><p>é€™æ™‚å€™ç•«é¢å°±å¥½åƒéœæ­¢äº†ï¼ŒsetTimeout çš„ 2 ç§’ä¹Ÿä¸æ˜¯å¾ˆç²¾æº–ï¼Œé€™å°±æ˜¯ç™¼ç”Ÿäº† Blocking ã€‚</p><p>å¦‚æœæœƒä»¥ç‚ºåŒæ™‚å°å‡ºï¼Œè¦å›æƒ³ <strong>JavaScript æ˜¯åŒæ­¥çš„</strong> é€™å¥è©±ï¼ŒåŸ·è¡Œçš„çµæœæœƒæ˜¯ä¾åºå‡ºç¾ï¼Œä¸æœƒä¸€ä¸‹å­ â€œå•ª!â€ å…¨éƒ¨å‡ºä¾†ã€‚</p><h5 id="é˜»å¡å¸¸è¦‹çš„ä¾‹å­-ç„¡é™æ»¾å‹•è¼‰å…¥è³‡æ–™"><a href="#é˜»å¡å¸¸è¦‹çš„ä¾‹å­-ç„¡é™æ»¾å‹•è¼‰å…¥è³‡æ–™" class="headerlink" title="é˜»å¡å¸¸è¦‹çš„ä¾‹å­ : ç„¡é™æ»¾å‹•è¼‰å…¥è³‡æ–™"></a>é˜»å¡å¸¸è¦‹çš„ä¾‹å­ : ç„¡é™æ»¾å‹•è¼‰å…¥è³‡æ–™</h5><p>å¦‚æœç›´æ¥ : </p><pre class="line-numbers language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// Ajax ç²å–è³‡æ–™</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç™¼ç¾æ¯ä¸€æ»‘ï¼Œéƒ½æœƒè§¸ç™¼ callback ã€‚å°±åƒä½ ä¸€ç›´æŒ‰æŒ‰éˆ•ï¼Œç„¶å¾Œç™¼å‡ºè«‹æ±‚è³‡æ–™ï¼Œæ’é€² Web APIs ä¸¦ä¸”ç­‰å¾…è³‡æ–™çš„ response ï¼Œå†æ’é€² Callback Queueï¼Œé€™æ™‚å€™æœƒé€ æˆ Blockingã€‚ç‚ºé¿å…ä¸€ç›´è§¸ç™¼ scroll äº‹ä»¶ï¼Œé€šå¸¸æœƒæ­é… lodash çš„ debounceã€‚</p><h3 id="å°çµ-Event-Loop-æ˜¯â€¦"><a href="#å°çµ-Event-Loop-æ˜¯â€¦" class="headerlink" title="å°çµ : Event Loop æ˜¯â€¦"></a>å°çµ : Event Loop æ˜¯â€¦</h3><p>ä¸€ç¨®æ©Ÿåˆ¶ï¼Œè®“ JavaScript å¯ä»¥åŒæ™‚åšå¾ˆå¤šäº‹</p><blockquote><p>ç•¶ Call Stack ç‚ºç©ºæ™‚ï¼ŒæŠŠ Callback Queue ç­‰å¾…çš„ callback function æ”¾é€² Call Stack ä¾†åŸ·è¡Œ</p></blockquote><h2 id="å¹¾å€‹-Event-Loop-çš„ä¾‹å­"><a href="#å¹¾å€‹-Event-Loop-çš„ä¾‹å­" class="headerlink" title="å¹¾å€‹ Event Loop çš„ä¾‹å­"></a>å¹¾å€‹ Event Loop çš„ä¾‹å­</h2><p>ä¾†è‡ª <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">What the heck is the event loop anyway?</a> æåˆ°çš„ç¯„ä¾‹  </p><h3 id="æ²’é‚£éº¼ç²¾æº–çš„-setTimeout-èˆ‡-setInterval"><a href="#æ²’é‚£éº¼ç²¾æº–çš„-setTimeout-èˆ‡-setInterval" class="headerlink" title="æ²’é‚£éº¼ç²¾æº–çš„ setTimeout èˆ‡ setInterval"></a>æ²’é‚£éº¼ç²¾æº–çš„ setTimeout èˆ‡ setInterval</h3><p>setTimeout èˆ‡ setInterval éƒ½æ˜¯ Web APIs ï¼Œæœƒæ’é€² Callback Queue ä¸¦ä¸”ç­‰åˆ° Call Stack ç‚ºç©ºçš„æ™‚å€™æ‰åŸ·è¡Œã€‚æ‰€ä»¥ä¸èƒ½ä¿è­‰ä¸€å®šç²¾æº– x ç§’å¾ŒåŸ·è¡Œï¼Œä½†è‡³å°‘åŸ·è¡Œé–“è·çš„æœ€å°ç§’æ•¸æ˜¯ x ç§’ã€‚</p><p><strong>å¸¸è¦‹çš„ 0 ç§’ setTimeout</strong><br>ä¹çœ‹ä¹‹ä¸‹æœƒä»¥ç‚º 0 ç§’æ˜¯ç«‹å³åŸ·è¡Œï¼Œå…¶å¯¦ä¸ç„¶ã€‚  </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>çµæœæ˜¯ <code>hi</code> å…ˆå°å‡ºï¼Œå†å°å‡º <code>hello</code>ã€‚</p><p>è·Ÿè‘—æ­¥é©Ÿèµ° : </p><ol><li>setTimeout æ”¾å…¥ Web APIs ç­‰å¾… 0 ç§’å¾Œï¼Œæ”¾å…¥ Task Queue ç­‰å¾…</li><li><code>console.log(&#39;hi&#39;)</code> æ’é€² Call Stackï¼Œä¸¦ä¸”åŸ·è¡Œ</li><li>å°å‡º â€˜hiâ€™ ï¼ŒåŸ·è¡ŒçµæŸï¼Œç§»å‡º Stack å¤–</li><li>æ­¤æ™‚çš„ Call Stack æ˜¯ç©ºçš„ï¼Œè€Œä¸” Task Queue çš„ç¬¬ä¸€ä½æ˜¯ setTimeout çš„ callback ï¼Œæ’é€² Call Stack</li><li>åŸ·è¡Œ <code>console.log(&#39;hello&#39;)</code> </li><li>å°å‡º â€˜helloâ€™ï¼ŒåŸ·è¡ŒçµæŸï¼Œç§»å‡º Stack å¤–</li><li>ç¨‹å¼ç¢¼åŸ·è¡ŒçµæŸ</li></ol><p>é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ setTimeout  æ²’é‚£éº¼ ç²¾æº–çš„åŸå› ï¼Œå› ç‚ºå¿…é ˆç­‰åˆ°  Call Stack ç‚ºç©ºæ‰æœƒåŸ·è¡Œï¼Œå°è‡´ä¸­é–“å¯èƒ½æœƒæœ‰èª¤å·®ã€‚</p><h3 id="å¤šå€‹-setTimeout"><a href="#å¤šå€‹-setTimeout" class="headerlink" title="å¤šå€‹ setTimeout"></a>å¤šå€‹ setTimeout</h3><p>é‡åˆ° setTimeout å¸¸æœƒå• console.log çš„çµæœæ˜¯ ?</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>æ¯é–“éš” 1 ç§’å¾Œï¼Œä¾åºå°å‡º â€˜hiâ€™ (1 ç§’ â€˜hiâ€™ï¼Œéš” 1 ç§’ â€˜hiâ€™â€¦)</li><li>åœ¨ 4 ç§’å¾Œï¼ŒåŒæ™‚å°å‡º <pre class="line-numbers language-none"><code class="language-none">4 (hi)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>è‡³å°‘é–“è· 1 ç§’ä»¥å¾Œï¼Œä¸€æ¬¡å°å‡º 4 æ¬¡çš„  <pre class="line-numbers language-js" data-language="js"><code class="language-js">hihihihi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>.<br>.<br>.<br>.<br>.<br>.<br>.<br>çµæœæ˜¯<strong>è‡³å°‘é–“è· 1 ç§’ä»¥å¾Œï¼Œä¸€æ¬¡å°å‡º 4 æ¬¡çš„ hi</strong> ã€‚ç¶“é 1 ç§’å¾Œå³ä½¿å·²ç¶“æ’å®šåˆ° Callback Queueï¼Œä½†æ˜¯å¦‚æœé€™æ™‚å€™ Call Stack é‚„ä¸æ˜¯ç©ºçš„ï¼ŒQueue å°±æœƒç™¼ç”Ÿ Blocking å¡è»Šåœ¨é€™è£¡ç­‰å¾…ï¼Œç­‰åˆ° Stack ç©ºå†ä¾åºå°å‡º hiã€‚å¦‚æœ 1 ç§’çŸ­åˆ°çœ‹ä¸è¦‹ï¼Œå¯ä»¥èª¿æˆæ›´ä¹…çš„æ™‚é–“ã€‚</li></ol><h3 id="åŒæ­¥èˆ‡éåŒæ­¥çš„-callback"><a href="#åŒæ­¥èˆ‡éåŒæ­¥çš„-callback" class="headerlink" title="åŒæ­¥èˆ‡éåŒæ­¥çš„ callback"></a>åŒæ­¥èˆ‡éåŒæ­¥çš„ callback</h3><p>æˆ‘è¦ºå¾—é€™å€‹ä¾‹å­å¾ˆæœ‰æ„æ€ï¼Œæˆ‘å€‘çŸ¥é“é »ç¹çš„å‘¼å« callback function æœƒé€ æˆ Blocking çš„æƒ…å½¢ï¼Œä½†æ˜¯ <strong>Call Stack å¡è»Šæˆ–æ˜¯ Callback Queue å¡è»Šæœ‰ä»€éº¼å·®åˆ¥å‘¢ ?</strong>  </p><p>é€éé€™å€‹ä¾‹å­æˆ‘è‡ªå·±è¦ºå¾—æ›´æ¸…æ¥šçŸ¥é“æœ‰äº† Event Loop åˆ°åº•å¹«åŠ©åœ¨å“ªã€‚ </p><p>åœ¨é€™è£¡çš„ callback function æœ‰å…©ç¨®</p><ol><li>åœ¨å‡½å¼ä¸­å‘¼å«å¦ä¸€å€‹å‡½å¼ (åŒæ­¥çš„ callbackï¼Œéƒ½åœ¨ Call Stack åŸ·è¡Œå®Œç•¢) <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>åƒæ˜¯è·Ÿ Web APIs æœ‰é—œçš„ï¼Œä¾‹ : click äº‹ä»¶å¾Œçš„ callback function ä¸æœƒé¦¬ä¸ŠåŸ·è¡Œï¼Œè€Œæ˜¯ç­‰åˆ° Event Loop å¾Œæ‰æœƒã€‚<br> (éåŒæ­¥çš„ callback  å·®åˆ¥åœ¨æ–¼ï¼Œæœ‰æ’éšŠåˆ° Callback Queue å†åˆ° Call Stack) <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h4 id="åŒæ­¥çš„-callback-ç™¼ç”Ÿäº†ä»€éº¼äº‹"><a href="#åŒæ­¥çš„-callback-ç™¼ç”Ÿäº†ä»€éº¼äº‹" class="headerlink" title="åŒæ­¥çš„ callback ç™¼ç”Ÿäº†ä»€éº¼äº‹"></a>åŒæ­¥çš„ callback ç™¼ç”Ÿäº†ä»€éº¼äº‹</h4><p>å¦‚ä¸Šé¢çš„ç¬¬ä¸€å€‹ callback ç¯„ä¾‹ï¼Œæˆ‘å€‘å¿…é ˆç­‰åˆ° forEach å°å®Œæ‰€æœ‰å…ƒç´ ï¼Œæ‰èƒ½åšå…¶ä»–çš„äº‹ã€‚é€™æ®µæ™‚é–“é€ æˆ Call Stack çš„ Blockingï¼Œå°è‡´ç•«é¢ä¸èƒ½å‹•ä½œã€‚</p><p>ä¸€èˆ¬ä¾†èªªï¼Œç€è¦½å™¨æœƒåœ¨æ¯ 16.6 æ¯«ç§’çš„æ™‚å€™é‡æ–°æ¸²æŸ“ç•«é¢ï¼Œä½†é€™æ™‚å€™ Call Stack é‚„åœ¨è™•ç†äº‹æƒ…ï¼Œå°è‡´ç•«é¢çš„è§£æè¢«å»¶é²ï¼Œåœ¨å½±ç‰‡ä¸­è¬›è€…æœ‰é–‹å•Ÿæ¨¡æ“¬ç•«é¢ render çš„æ¨¡æ“¬ï¼Œrender ä¸€ç›´è¢«å æ“šç´…ç·šã€‚</p><h4 id="æ”¹æˆéåŒæ­¥çš„-callback-å·®åˆ¥åœ¨å“ª"><a href="#æ”¹æˆéåŒæ­¥çš„-callback-å·®åˆ¥åœ¨å“ª" class="headerlink" title="æ”¹æˆéåŒæ­¥çš„ callback å·®åˆ¥åœ¨å“ª ?"></a>æ”¹æˆéåŒæ­¥çš„ callback å·®åˆ¥åœ¨å“ª ?</h4><p>ä¸Šé¢ä¸æ–·å¼·èª¿ Event Loop æ˜¯ Call Stack ç‚ºç©ºæ™‚ï¼Œæ‰æœƒæŠŠ Callback Queue æ¨ä¸Š Stack åŸ·è¡Œã€‚è€Œåœ¨ Call Stack ç©ºçš„æœŸé–“ï¼Œæä¾›ç€è¦½å™¨åŸ·è¡Œç•«é¢é‡æ–°æ¸²æŸ“çš„æ©Ÿæœƒï¼Œæ‰ä¸æœƒå› ç‚ºå¿™ç¢Œå°è‡´å¡ä½ã€‚</p><blockquote><p>ç°¡å–®ä¾†èªª : <strong>ç•«é¢æ¸²æŸ“çš„å„ªå…ˆåº¦æ˜¯é«˜æ–¼ Callback Queue çš„ callback function</strong> </p></blockquote><p>é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼åœ¨å½±ç‰‡è¬›è€…æåˆ°ä¸è¦é€ æˆè€—æ™‚çš„ç¨‹å¼ç¢¼æ”¾åœ¨ Call Stack ï¼Œå› ç‚º Call Stack è³½è»Šæ²’è¾¦æ³•é‡æ–°æ¸²æŸ“ç•«é¢ã€‚</p><p>ä¹Ÿå¯ä»¥åƒè€ƒé€™ç¯‡ Jack å¤§çš„å¯¦ä½œç¯„ä¾‹äºŒï¼Œæ–‡ç« ä¹Ÿæœ‰æåˆ°ä»€éº¼æ™‚å€™æœƒ renderingï¼ŒåŠ©æ–¼ç­è§£æ•´å€‹æµç¨‹<br>ğŸ‘‰ <a href="https://yu-jack.github.io/2020/02/03/javascript-runtime-event-loop-browser/#%E7%AF%84%E4%BE%8B%E4%BA%8C">Event Loop é‹è¡Œæ©Ÿåˆ¶è§£æ - ç€è¦½å™¨ç¯‡ - æŠ€è¡“é›œè¨˜ Technology Notes - Jack Yu | å‚‘å…‹</a></p><h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>ç›®å‰æåˆ°ç€è¦½å™¨çš„ Event Loop ï¼Œè‡³æ–¼ Node çš„ Event Loop æˆ‘é‚„æ²’ç ”ç©¶ï¼Œæœªä¾†æœƒå†ç ”ç©¶è£œå……ã€‚ä¸éé‚„æœ‰ mircoTask èˆ‡ macroTask é‚„æ²’è£œå®Œ QQï¼Œæ‰èƒ½ç®—æ˜¯äº†è§£ Event Loopã€‚</p><p>å¦‚æœæœ‰èª¤éº»ç…©è«‹å¯„ä¿¡å‘Šè¨´æˆ‘ï¼Œæˆ‘æœƒéå¸¸æ„Ÿè¬</p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://pjchender.blogspot.com/2017/08/javascript-learn-event-loop-stack-queue.html">[ç­†è¨˜] ç†è§£ JavaScript ä¸­çš„äº‹ä»¶å¾ªç’°ã€å †ç–Šã€ä½‡åˆ—å’Œä½µç™¼æ¨¡å¼ | PJCHENder é‚£äº›æ²’å‘Šè¨´ä½ çš„å°ç´°ç¯€</a></li><li>è¬›è§£ Event Loop çš„å½±ç‰‡(æœ‰ä¸­æ–‡å­—å¹•) : <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">What the heck is the event loop anyway? | Philip Roberts | JSConf EU - YouTube</a></li><li>æ¨¡æ“¬ Event Loop çš„ç¶²é  : <a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">latentflip.com</a></li><li><a href="https://yu-jack.github.io/2020/02/03/javascript-runtime-event-loop-browser/#%E7%AF%84%E4%BE%8B%E4%BA%8C">Event Loop é‹è¡Œæ©Ÿåˆ¶è§£æ - ç€è¦½å™¨ç¯‡ - æŠ€è¡“é›œè¨˜ Technology Notes - Jack Yu | å‚‘å…‹</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨ JavaScript ä¸­ï¼ŒéåŒæ­¥çš„æ“ä½œæ˜¯å¾ˆå¸¸è¦‹çš„ï¼Œèˆ‰å‡¡æ»‘é¼ äº‹ä»¶ã€ç™¼å‡ºè«‹æ±‚ç²å–è³‡æ–™â€¦ç­‰ï¼Œåéä¾†å•ï¼Œå¦‚æœé€™äº›æ“ä½œæ˜¯ &lt;strong&gt;åŒæ­¥&lt;/strong&gt; çš„ï¼Œä½ å¯èƒ½æ“ä½œå¾Œï¼Œç•«é¢å°±åƒè¢«å¡ä½äº†ï¼Œè¦ç­‰åˆ°ç›®å‰çš„ç¨‹å¼åŸ·è¡Œå®Œç•¢æ‰èƒ½ç¹¼çºŒç€è¦½ã€‚&lt;/p&gt;
&lt;p&gt;Event Loop çš„æ¦‚å¿µå¦‚ä½•å¹«æˆ‘å€‘äº†è§£é€™ä»¶äº‹ï¼Œå…·é«”æ€éº¼åšå‘¢ ? æœ¬ç¯‡ä¸»è¦æ˜¯å¹«åŠ©æˆ‘è‡ªå·±é‡æ¸… Event Loop çš„æ¦‚å¿µã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - é‹ç®—å­ ?. èˆ‡ ??</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-null-undefined-operator/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-null-undefined-operator/</id>
    <published>2022-06-15T06:31:13.000Z</published>
    <updated>2022-06-18T13:51:40.151Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å°æ–¼ undefined æˆ–æ˜¯ null çš„è™•ç†ï¼Œæˆ‘æ¯”è¼ƒå¸¸ä½¿ç”¨ <code>||</code> (OR) æˆ–æ˜¯ <code>&amp;&amp;</code> (AND) çš„å¯«æ³•ï¼Œæ‰¾è³‡æ–™çš„æ™‚å€™å¾ˆå¸¸çœ‹è¦‹ <code>??</code> ä»¥åŠ <code>?.</code> çš„å¯«æ³•ã€‚å¯¦åœ¨æ˜¯å¤ªå¥½å¥‡äº†ï¼Œæ–¼æ˜¯æ‰¾äº†è³‡æ–™å­¸ç¿’ä¸¦ä¸”è¨˜éŒ„ä¸‹ä¾† ã€‚  </p><span id="more"></span><h2 id="Optional-chaining"><a href="#Optional-chaining" class="headerlink" title="Optional chaining (?.)"></a>Optional chaining (?.)</h2><p>å¦‚æœè¦æŸ¥æ‰¾ <strong>Object çš„æŸé …æ˜¯å¦å­˜åœ¨</strong>ã€‚æˆ‘å€‘å¯èƒ½æœƒéæ­·æ•´å€‹ç‰©ä»¶ï¼Œä½†ä¸ç”¨é€™éº¼éº»ç…©ï¼Œå¯ä»¥ä½¿ç”¨ <code>obj?.</code> ï¼Œå¦‚æœç‰©ä»¶æ˜¯ null æˆ–æ˜¯ undefined å°±åšåˆ¥çš„è™•ç†ï¼Œåœ¨åˆ¤æ–·å€¼å­˜åœ¨èˆ‡å¦å°±å¾ˆå¥½ç”¨ã€‚</p><p>ä¾‹ : </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token operator">?.</span>b<span class="token punctuation">)</span> <span class="token comment">// undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token punctuation">(</span>obj<span class="token operator">?.</span>b <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é‚£åœ¨å·¢ç‹€çš„çµæ§‹ä¸­å¦‚æœä¸ç”¨ <code>?.</code> ï¼Œå¿…é ˆå…ˆåˆ¤æ–·å‰é¢çš„æ˜¯ä¸æ˜¯å­˜åœ¨  </p><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">// obj.a å­˜åœ¨æ‰å¾€ä¸‹ä¸€æ­¥</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token operator">?.</span>b<span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨ ?.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é€é (?.) çš„æ–¹å¼ JavaScript å…§éƒ¨æœƒé€ééš±å¼ (implicitly) å»ç¢ºèª obj.a æ˜¯ä¸æ˜¯ null æˆ–æ˜¯ undefinedï¼Œè€Œä¸ç”¨é¡¯å¼ (explicitly) ç¢ºèª obj.a å­˜ä¸å­˜åœ¨å†å»åˆ¤æ–·ä¸‹ä¸€å€‹ã€‚   </p><h3 id="ç‚ºä»€éº¼è¦æœ‰"><a href="#ç‚ºä»€éº¼è¦æœ‰" class="headerlink" title="ç‚ºä»€éº¼è¦æœ‰ (?.)"></a>ç‚ºä»€éº¼è¦æœ‰ (?.)</h3><p>å¾ä¸€èˆ¬çš„åˆ¤æ–·ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥ç”¨ <code>||</code>  ä¾†æ±ºå®šå€¼å­˜ä¸å­˜åœ¨ï¼Œå› è€Œä¾†è¨­å®š <strong>é è¨­å€¼</strong></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> product <span class="token operator">=</span><span class="token punctuation">&#123;</span>name <span class="token operator">:</span> <span class="token string">'Rosa'</span><span class="token punctuation">,</span>cost <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> total <span class="token operator">=</span> product<span class="token punctuation">.</span>cost <span class="token operator">||</span> <span class="token number">50</span> <span class="token comment">// ?</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é›–ç„¶ <code>||</code> å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯ <code>||</code> æœƒå¼·åˆ¶è½‰å‹ï¼Œä¹Ÿå°±æ˜¯ falsy ã€‚æ•¸å­— 0 åœ¨åˆ¤æ–·ä¸­æœƒè¢«è½‰ç‚º false ï¼Œå› æ­¤åœ¨ä¸Šé¢çš„ä¾‹å­ï¼Œæ•¸å­— 0 ä¹Ÿæœƒè¢«åˆ¤æ–·æˆ false è€Œé è¨­æˆ 50ã€‚  </p><p>å¯èƒ½æœƒæƒ³èªªé‚£åˆ¤æ–· <code>&gt;=0</code> ä¸å°±å¯ä»¥äº† ? </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> total <span class="token operator">=</span> product<span class="token punctuation">.</span>cost <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">?</span> product<span class="token punctuation">.</span>cost <span class="token operator">:</span> <span class="token number">50</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ˜¯å¯ä»¥ï¼Œä½†æœƒé‡è¤‡å¯«å…©æ¬¡ <code>product.cost</code>ğŸ¥´ã€‚<br>BUT !!! å¦‚æœæœ‰ <strong>è² æ•¸</strong> å‘¢ ? ç¸½ä¸èƒ½åˆ¤æ–·ä¸æ˜¯ 0 å§ã€‚<br>é‚è¼¯å¯«æ³•å°±æ›´ç¶æ‰‹ç¶è…³ï¼Œä½†æˆ‘å€‘å¯¦éš›åªç¢ºèªæ˜¯ä¸æ˜¯ç©ºå€¼æˆ–æ˜¯ç‚ºè³¦å€¼è€Œå·²ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>cost <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> product<span class="token punctuation">.</span>cost <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">50</span> <span class="token operator">:</span> product<span class="token punctuation">.</span>cost<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å› æ­¤ short-hand çš„ <code>?.</code> èª•ç”Ÿï¼Œè®“æˆ‘å€‘å¯ä»¥æ›´å¿«åˆ¤æ–·ã€‚  </p><blockquote><p>IE ä¸¦ä¸æ”¯æ´ <code>?.</code> ï¼Œå¦‚æœè¦ä½¿ç”¨å°±æ˜¯ <strong>ä¾åºåˆ¤æ–·æ˜¯å¦ç‚º null æˆ–æ˜¯ undefined</strong></p></blockquote><h3 id="fuction-call-çš„"><a href="#fuction-call-çš„" class="headerlink" title="fuction call çš„ (?.)"></a>fuction call çš„ (?.)</h3><p>MDN æœ‰æåˆ°æ˜¯å¦‚æœä½¿ç”¨å¥—ä»¶çš„ APIï¼Œå¯ä»¥ä½¿ç”¨é€™ç¨®æ–¹å¼ï¼Œå¯ä»¥ç¢ºèª function æ˜¯å¦å­˜åœ¨å†åŸ·è¡Œï¼Œä»¥å…ç™¼ç”ŸéŒ¯èª¤ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> sayhello <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token string">'hello'</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayhello<span class="token punctuation">.</span>hi<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// undefined ï¼Œä¸æœƒç™¼ç”ŸéŒ¯èª¤</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayhello<span class="token operator">?.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hello</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯å¦‚æœ hi æœ¬èº«ä¸¦ä¸æ˜¯ function å°±æœƒç™¼ç”Ÿ <code>is not a function</code></p><pre class="line-numbers language-js" data-language="js"><code class="language-js">sayhello<span class="token punctuation">.</span>hi <span class="token operator">=</span> <span class="token string">'123'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayhello<span class="token punctuation">.</span>hi<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hi is not a function</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayhello<span class="token operator">?.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æœƒåŸ·è¡Œï¼Œå› ç‚ºä¸Šé¢å‡ºç¾éŒ¯èª¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰‹å‹•çŸ¯æ­£ : </p><pre class="line-numbers language-js" data-language="js"><code class="language-js">sayhello<span class="token punctuation">.</span>hi <span class="token operator">=</span> <span class="token string">'123'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sayhello<span class="token punctuation">.</span>hi<span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> sayhello<span class="token punctuation">.</span><span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> sayhello<span class="token punctuation">.</span>hi <span class="token punctuation">)</span> <span class="token comment">// '123'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayhello<span class="token operator">?.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// hello</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä»€éº¼æ™‚å€™ä¸æ‡‰è©²ç”¨"><a href="#ä»€éº¼æ™‚å€™ä¸æ‡‰è©²ç”¨" class="headerlink" title="ä»€éº¼æ™‚å€™ä¸æ‡‰è©²ç”¨ (?.)"></a>ä»€éº¼æ™‚å€™ä¸æ‡‰è©²ç”¨ (?.)</h3><ol><li>æ²’æœ‰è¢« <strong>å®£å‘Š</strong> çš„è®Šæ•¸ : å°è®Šæ•¸ä½¿ç”¨ï¼Œæœƒç™¼ç”ŸéŒ¯èª¤ï¼Œå› ç‚º a ä¸¦ä¸å­˜åœ¨ (is not defined)ï¼Œä¸¦ä¸èƒ½é€™æ¨£åˆ¤æ–·ã€‚ <pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">?.</span>b<span class="token punctuation">)</span> <span class="token comment">// a is not defined</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>é‡æ–°è³¦å€¼ (left-hand side) : ä¸èƒ½é€™æ¨£ä½¿ç”¨  <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">&#125;</span>obj<span class="token operator">?.</span>a  <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment">// Invalid left-hand side in assignment</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li>æœ¬èº«æ˜¯ null  <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">let</span> prop <span class="token operator">=</span> a<span class="token operator">?.</span><span class="token punctuation">[</span>x<span class="token operator">++</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// 0 ä¸¦ä¸æœƒå¢åŠ </span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre> é€™é‚Šæˆ‘æœ‰é»ä¸å¤ªäº†è§£ï¼Œå› æ­¤æˆ‘è©¦äº†ç©ºç‰©ä»¶ï¼Œx éå¢æ˜¯  1 ğŸ¤”ï¼Œa ä¾ç„¶æ˜¯ç©ºç‰©ä»¶ã€‚å¾Œä¾†æˆ‘æ‰¾åˆ° <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">é‹ç®—å­å„ªå…ˆåº - JavaScript | MDN (mozilla.org)</a>ï¼Œç°¡å–®ä¾†èªª <strong>è¶Šé«˜éšçš„é‹ç®—å­æœƒæŒ‰ç…§è¦å‰‡å…ˆåŸ·è¡Œ</strong>ã€‚<br> <code>?.</code> æ˜¯ 18 ,åˆ¤æ–·æ˜¯å¾å·¦è‡³å³ã€‚a å·²ç¶“æ˜¯ null äº†ï¼Œæ‰€ä»¥ä¸æœƒåŸ·è¡Œã€‚ä½†æ˜¯å¦‚æœæ˜¯ç©ºç‰©ä»¶ <code>&#123;&#125;</code>ï¼Œ?. æœƒåŸ·è¡Œï¼Œä¸æ˜¯ null ä¹Ÿä¸æ˜¯ undefinedã€‚è€Œ<code>[ ]</code> è·Ÿ <code>?.</code> çš„å±¤ç´šç›¸åŒï¼Œ<code>[x]</code> å­˜åœ¨æ‰€ä»¥ä¹ŸæœƒåŸ·è¡Œ ï¼Œ <code>++</code> ä¹ŸæœƒåŸ·è¡Œã€‚(é€™é‚Šæœ‰é»ä¸å¤ªç¢ºå®šï¼Œå¾…è£œ)</li></ol><p>å¦ä¸€å€‹æœ‰é—œå„ªå…ˆåºçš„å¸¸è¦‹ä¾‹å­æ˜¯ <code>(function()&#123;var a = b = 5&#125;)()</code>ï¼Œåœ¨éåš´æ ¼æ¨¡å¼ä¸‹ï¼Œ global ä¾åºå°å‡º b è·Ÿ a ï¼Œb æ˜¯ 5 ï¼Œa æ˜¯ is not definedã€‚å› ç‚º <code>=</code> æ˜¯ right-to-leftï¼Œä¹Ÿå°±æ˜¯ b åœ¨æœªå®£å‘Šä¸‹è³¦å€¼ï¼Œ<code>var  a</code> å› ä½œç”¨åŸŸçš„é—œä¿‚ï¼Œè‡ªç„¶åœ¨ global æ˜¯ not definedã€‚</p><blockquote><p>MDN ä¹Ÿæåˆ°ä¸æ‡‰è©²éåº¦ä½¿ç”¨ (?.)</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token string">'Rosa'</span><span class="token punctuation">]</span><span class="token operator">?.</span>number <span class="token operator">?</span> obj<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token string">'Rosa'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>number <span class="token operator">:</span> obj<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token string">'Rosa'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ‘ï¼Œå› ç‚ºåœ¨ obj.['Rosa'] ä¸å­˜åœ¨å°±å¯ä»¥åœæ­¢äº†ï¼Œä¸ç”¨ä¸²ä¸²æ¨‚ä¾†ç¢ºèª</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token string">'Rosa'</span><span class="token punctuation">]</span> <span class="token operator">?</span> obj<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token string">'Rosa'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>number <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// V</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="Nullish-coalescing-operator"><a href="#Nullish-coalescing-operator" class="headerlink" title="Nullish coalescing operator (??)"></a>Nullish coalescing operator (??)</h2><p>å¯ç”¨ä¾†åˆ¤æ–· <strong>æŸå€‹å€¼æ˜¯ null æˆ–æ˜¯ undefined</strong></p><h3 id="ç‚ºä»€éº¼è¦æœ‰-1"><a href="#ç‚ºä»€éº¼è¦æœ‰-1" class="headerlink" title="ç‚ºä»€éº¼è¦æœ‰ (??)"></a>ç‚ºä»€éº¼è¦æœ‰ (??)</h3><p>è·Ÿä¸Šé¢æåˆ° <code>||</code> çš„åˆ¤æ–·æ˜¯ä¸€æ¨£çš„ï¼Œå¦‚æœæ˜¯æ•¸å­— 0 æœƒè¢«å¼·åˆ¶è½‰å‹æ¯”è¼ƒæˆ falseï¼Œå¦‚æœåªæ˜¯æƒ³æª¢æŸ¥ null æˆ–æ˜¯ undefinedï¼Œ?? å°±æœƒæ¯”è¼ƒæ–¹ä¾¿ ã€‚</p><p><strong>èˆ‰ä¾‹ä¾†èªª</strong></p><ol><li>å…ˆè®“ input æœ‰ 0 æˆ–æ˜¯æœ‰å€¼</li><li>æ‰‹å‹•æŠŠ input çš„å€¼å®Œå…¨æ¸…ç©ºï¼Œ <code>e.target.value</code> æœƒæ˜¯ <strong>ç©ºå­—ä¸²</strong>ï¼Œä½†æ˜¯æˆ‘ä¸æƒ³è®“ç©ºå­—ä¸²ä¹Ÿé€šé<p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="ZErwEBe" data-user="shan473" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"><span>See the Pen <a href="https://codepen.io/shan473/pen/ZErwEBe">ç·´ç¿’ ?? &amp; ?.</a> by YanShanHong (<a href="https://codepen.io/shan473">@shan473</a>)on <a href="https://codepen.io">CodePen</a>.</span></p><script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script></li></ol><h3 id="function-call-çš„"><a href="#function-call-çš„" class="headerlink" title="function call çš„ (??)"></a>function call çš„ (??)</h3><p>ä¾†è‡ª MDN çš„ç¯„ä¾‹</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'A was called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'B was called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'C was called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token string">"foo"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ ¹æ“š <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">é‹ç®—å­å„ªå…ˆåº</a> </p><blockquote><p><code>??</code> æ˜¯ <code>left-hand side</code> ï¼Œä¹Ÿå°±æ˜¯ <strong>å¾å·¦é‚Šåˆ¤æ–·é–‹å§‹</strong>ã€‚</p></blockquote><p>å…¶çµæœæ˜¯  </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token string">"A was called"</span><span class="token string">"C was called"</span><span class="token string">"foo"</span><span class="token string">"B was called"</span><span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è·Ÿè‘—è·‘ä¸€æ¬¡ :  </p><ol><li>A() åŸ·è¡Œï¼Œå°å‡º â€œA was calledâ€</li><li>?? çš„å·¦é‚Šæ˜¯ undefined æ‰€ä»¥æ±ºå®šåŸ·è¡Œ C()</li><li>C() åŸ·è¡Œï¼Œå°å‡º â€œC was calledâ€</li><li>?? å·¦é‚Šæ˜¯ undefined æ‰€ä»¥æ˜¯ C() å›å‚³çš„çµæœ â€˜fooâ€™</li><li>B() åŸ·è¡Œï¼Œå°å‡º â€œB was calledâ€</li><li>?? çš„å·¦é‚Šæ˜¯ false ï¼Œä¸ç¬¦åˆ null æˆ–æ˜¯ undefinedï¼ŒC() ä¸¦ä¸æœƒåŸ·è¡Œ</li><li>å›å‚³ B() çš„çµæœ</li></ol><h3 id="ä¸è¦ç›´æ¥ç”¨-OR-æˆ–-AND-amp-amp-ä¸€èµ·ä½¿ç”¨"><a href="#ä¸è¦ç›´æ¥ç”¨-OR-æˆ–-AND-amp-amp-ä¸€èµ·ä½¿ç”¨" class="headerlink" title="ä¸è¦ç›´æ¥ç”¨ OR (||) æˆ– AND (&amp;&amp;) ä¸€èµ·ä½¿ç”¨ (??)"></a>ä¸è¦ç›´æ¥ç”¨ OR (||) æˆ– AND (&amp;&amp;) ä¸€èµ·ä½¿ç”¨ (??)</h3><p>OR è·Ÿ AND é‹ç®—å­çš„å„ªå…ˆåº¦æ¯” <strong>??</strong> é‚„ä½ï¼Œå› æ­¤ä¸€èµ·ä½¿ç”¨æœƒç™¼ç”ŸéŒ¯èª¤ï¼Œå³ä½¿å‰é¢çš„çµæœæ˜¯ null æˆ–æ˜¯ undefined</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">undefined</span> <span class="token operator">??</span> <span class="token string">"foo"</span><span class="token punctuation">)</span> <span class="token comment">// éŒ¯èª¤</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">||</span> <span class="token keyword">undefined</span> <span class="token operator">??</span> <span class="token string">"foo"</span><span class="token punctuation">)</span> <span class="token comment">// éŒ¯èª¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æƒ³è®“å‰é¢å…ˆåˆ¤æ–·å¯ä»¥ç”¨ <code>()</code> grouping åŒ…èµ·ä¾†ï¼Œgrouping çš„å„ªå…ˆåº¦æ˜¯æœ€é«˜çš„ï¼Œæ‰€ä»¥æœƒå…ˆåŸ·è¡Œã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">"foo"</span><span class="token punctuation">)</span> <span class="token comment">// 'foo'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">||</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">"foo"</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="Polyfills"><a href="#Polyfills" class="headerlink" title="Polyfills"></a>Polyfills</h2><p>å¦‚æœç€è¦½å™¨ä¸æ”¯æ´ (å¦‚ : IE)ï¼Œå¯ä»¥ä½¿ç”¨ Polyfillsï¼Œåªè¦åˆ¤æ–· null ä»¥åŠ undefinedã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">(</span>somevalue <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">||</span> somevalue <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> somevalue <span class="token operator">?</span> DefaultValue<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h2><ol><li> <code>?.</code> æ˜¯ä¸­æ‰¾å°‹ Object é¡å‹ (object ã€array ã€function ç­‰ç­‰)çš„å€¼å¦‚æœæ˜¯ null æˆ–æ˜¯ undefinedï¼Œçµæœæ˜¯å³é‚Šçš„å€¼ã€‚äº¦å¯ç”¨åœ¨ function call (<strong>object.method?.()</strong>) ä¸Š</li><li><code>?.</code> ä¸ç®¡å­˜ä¸å­˜åœ¨ï¼Œä¸èƒ½ç”¨ä¾†é‡æ–°è³¦å€¼</li><li><code>??</code> æ˜¯åˆ¤æ–·ä»»ä½•å€¼å¦‚æœæ˜¯ null æˆ–æ˜¯ undefinedï¼Œçµæœæ˜¯å³é‚Šçš„å€¼</li><li><code>??</code> ä¸è¦ç›´æ¥è·Ÿ OR æˆ–æ˜¯ AND ä¸€èµ·ä½¿ç”¨ï¼Œè¦ç”¨å…ˆæŠŠ ?? å·¦é‚Šçš„æ‹¬è™Ÿèµ·ä¾†å…ˆåŸ·è¡Œ</li><li>å…©ç¨® IE ä¸æ”¯æ´ QQ</li></ol><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">Optional chaining (?.) - JavaScript | MDN</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_Coalescing_Operator">Nullish coalescing operator (??) - JavaScript | MDN</a></li><li><a href="https://javascript.info/optional-chaining">Optional chaining â€˜?.â€™ (javascript.info)</a></li><li><a href="https://javascript.info/nullish-coalescing-operator">Nullish coalescing operator â€˜??â€™ (javascript.info)</a></li><li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">é‹ç®—å­å„ªå…ˆåº - JavaScript | MDN (mozilla.org)</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å°æ–¼ undefined æˆ–æ˜¯ null çš„è™•ç†ï¼Œæˆ‘æ¯”è¼ƒå¸¸ä½¿ç”¨ &lt;code&gt;||&lt;/code&gt; (OR) æˆ–æ˜¯ &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; (AND) çš„å¯«æ³•ï¼Œæ‰¾è³‡æ–™çš„æ™‚å€™å¾ˆå¸¸çœ‹è¦‹ &lt;code&gt;??&lt;/code&gt; ä»¥åŠ &lt;code&gt;?.&lt;/code&gt; çš„å¯«æ³•ã€‚å¯¦åœ¨æ˜¯å¤ªå¥½å¥‡äº†ï¼Œæ–¼æ˜¯æ‰¾äº†è³‡æ–™å­¸ç¿’ä¸¦ä¸”è¨˜éŒ„ä¸‹ä¾† ã€‚  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç´€éŒ„ | Frontend Mentor æŒ‘æˆ°é¡Œ - Time tracking dashboard</title>
    <link href="https://blog.rosa.tw/Front-end/Practice-to-Master-01/"/>
    <id>https://blog.rosa.tw/Front-end/Practice-to-Master-01/</id>
    <published>2022-04-29T04:00:01.000Z</published>
    <updated>2022-06-18T13:49:59.784Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€™æ˜¯åœ¨ <a href="https://www.frontendmentor.io/solutions/responsive-reactjs-styledcomponent-BkFnvCvr9">frontend mentor çš„æŒ‘æˆ°é¡Œ</a><br>ä½¿ç”¨ React + styled-components  </p><ul><li><a href="https://meitung473.github.io/time-tracking-dashboard-main/">ç¶²é </a>  </li><li><a href="https://github.com/meitung473/time-tracking-dashboard-main">github repo</a></li></ul><p><img data-src="https://dsm01pap006files.storage.live.com/y4m9LQmpdiru45ZO2sTWfVBoSuRS1cfQoRCmHTFQxc-7aQWX0hkbq0r2q3tefJlGHA3SeXfA_G4CV5PHZIagjALPplvZ3s9MO6tpWyEEYyL2J7ep3EbhiNczfUybFUlxBTjvVQybnsXtFwrgoLmqEFJBftLbJvhzcipVkL-hdLjY23wEqHVpwrW0vNREUMTmt-y?width=1024&height=585&cropmode=none" alt="å®Œæˆåœ–"></p><span id="more"></span><h2 id="å°ˆæ¡ˆå»ºç½®"><a href="#å°ˆæ¡ˆå»ºç½®" class="headerlink" title="å°ˆæ¡ˆå»ºç½®"></a>å°ˆæ¡ˆå»ºç½®</h2><ol><li><strong>create-react-app</strong> : ä¸€éµå»ºç«‹å¥½ç’°å¢ƒ</li><li><strong>eslint</strong> : åŠ ä¸Š <code>Protype</code> ä¾†æª¢æŸ¥é¡å‹</li></ol><h2 id="æˆ‘çš„æµç¨‹"><a href="#æˆ‘çš„æµç¨‹" class="headerlink" title="æˆ‘çš„æµç¨‹"></a>æˆ‘çš„æµç¨‹</h2><ol><li>Design - ç…§è‘—åƒè€ƒåœ–åˆ»å‡º figma ç‰ˆå‹åŠå…ƒä»¶</li><li>JS - å®Œæˆ filter çš„åŠŸèƒ½ï¼Œæ‹¿å‡ºæƒ³è¦çš„è³‡æ–™</li><li>JS - ç…§ figma åˆ‡å‡º component æ¶æ§‹</li><li>CSS - mobile åˆ»æ¿</li><li>CSS - RWD</li><li>ä¸Šå‚³è‡³ frontend mentor + æ’°å¯« Readme </li></ol><h2 id="é¡å¤–ç·´ç¿’-figma-åˆ‡ç‰ˆ"><a href="#é¡å¤–ç·´ç¿’-figma-åˆ‡ç‰ˆ" class="headerlink" title="é¡å¤–ç·´ç¿’ figma : åˆ‡ç‰ˆ"></a>é¡å¤–ç·´ç¿’ figma : åˆ‡ç‰ˆ</h2><p>ä¸€é‚Šç·´ç¿’åˆ‡ç‰ˆä»¥åŠ figma çš„ä½¿ç”¨<br>æœ¬æ¬¡å­¸ç¿’ &amp; ç·´ç¿’    </p><ul><li>å…ƒä»¶ <code>component</code> : </li><li>è®Šé«” <strong>variants</strong> : ç”¨ç¨‹å¼æ¦‚å¿µæƒ³æœ‰é»åƒ obj  <code>key-value</code> pairï¼Œå¯é€éå…ˆå»ºç«‹å¥½çš„é¡ä¼¼é¡å‹ï¼Œå†æ›¿æ›é¸é …ã€‚<br>  å¸¸ç”¨çš„ä¾‹å­ : æœ‰ç„¡åœ–æ¡ˆï¼Œå¯¦å¿ƒç©ºå¿ƒï¼Œæ–¹å‘ã€‚<br>  figma æ˜¯ <code>[property,value]</code> ä¾†æ›¿æ›ã€‚  <blockquote><p>obj çš„ key ä¸èƒ½é‡è¤‡ï¼Œ <strong>figma çš„ property ä¹Ÿæ˜¯ä¸èƒ½é‡è¤‡</strong>ã€‚<br>å¦‚æœä¸åœ¨åŒä¸€å€‹ frame è£¡çš„å…ƒä»¶ä¸èƒ½çµç‚ºè®Šé«”</p></blockquote></li><li><strong>auto layout</strong> : æœ‰é»åƒ css çš„ flex</li><li><strong>asset</strong> : å°‡é‡è¤‡çš„ç‰©ä»¶ä½œåšæˆå…ƒä»¶ï¼Œæ”¾åˆ°å…ƒä»¶åº«</li><li>å·¢ç‹€çµæ§‹ : ç”¨ <code>/</code> æ–œç·šä¾†ä»£è¡¨é¡ä¼¼çš„å…ƒä»¶ç¾¤çµ„</li></ul><p>æœ€å¾Œåˆ‡å‡ºä¾†çš„å…ƒä»¶<br><img data-src="https://dsm01pap006files.storage.live.com/y4mZHL-B7h3iluUZzub-BxoLDbrZc2Wp43yRJd2NVsXDW2zIV5XhtSM4KNshxjCkPBfsHoSgqnK2Kdxg1pBBWw0T5RjD-TTXkiNZn69EENIX9dqbxu3K51pbNjKeNhyHJ1bpXSDwFX9c_cUoC8vv_UUaPUbmLmE9C2qcbYmNRl93CPWgVuKOBRb8U8crh2FSTTU?width=656&height=1024&cropmode=none" alt="Asset"></p><p>èœé³¥è¨­è¨ˆç¨¿ ğŸ¥´ï¼Œç…§è‘—åœ–ç‰‡æª”æ…¢æ…¢åˆ‡å‡ºä¾†<br><img data-src="https://dsm01pap006files.storage.live.com/y4mwTdZBRAfGvMzTnynXGFrQ4yShvVgoGM-PJdXLOnF-3zi3OCyKeWiW1TYFmpurDs8l3lReNkOzMNTIDjoFCNdWNQbukzoR0iXkfmz9edOCJrqOrnH-aS2aT-17DZPd3W4cOL2lLovbNjta_rMsjlzeAgNDWQf458D4AxkOyiGYVlSHwfLTq1slPvuG8YDTHV4?width=1024&height=800&cropmode=none" alt="è¨­è¨ˆç¨¿"><br>ä¸ŠåŠéƒ¨éƒ½æ˜¯è®Šé«”çš„è¨­å®š</p><h3 id="è®Šé«”è¨­å®š"><a href="#è®Šé«”è¨­å®š" class="headerlink" title="è®Šé«”è¨­å®š"></a>è®Šé«”è¨­å®š</h3><p>è®Šé«”éƒ¨åˆ†æ˜¯é€é nested çš„æ–¹å¼ï¼Œå¾å…ƒä»¶æœ€å°çš„éƒ¨åˆ†åˆ°æ•´å¡Šå¡ç‰‡éƒ½æ˜¯å¯ä»¥åˆ‡æ›  </p><ol><li>å¡ç‰‡ç¨®é¡ï¼Œæˆ‘æŠŠæ¯ä¸€ç¨®éƒ½å…ˆåšæ¨£æ¿ï¼Œå¯ä»¥ç›´æ¥æ›¿æ›å¡ç‰‡ã€‚<br> ç™¼ç¾ç”¨è™•ä¸å¤§ XDï¼Œå› ç‚ºå¡ç‰‡éƒ½åªæœ‰ä¸€å¼µâ€¦ï¼Œæ›¿æ›é †åºå€’æ˜¯è »æœ‰å¹«åŠ©çš„ã€‚</li><li>æ»‘é¼ ç§»å…¥ <code>:hover</code> active &amp; inactiveã€‚<br> æˆ‘ç›´æ¥åšåœ¨ setting component ä¸Š</li><li>Profile åº•ä¸‹çš„æ™‚é–“ç¯€é»åˆ‡æ›ï¼ŒæŠŠ daily ã€ weekly ç­‰ç­‰çš„è·Ÿ setting ä¸€æ¨£åˆ†æˆ active è·Ÿ inactiveã€‚</li><li>é›»è…¦ç‰ˆå‹  &amp; æ‰‹æ©Ÿç‰ˆå‹ å¡ç‰‡ï¼Œç”¨è™•ä¹Ÿä¸å¤§ã€‚ç•¶æ™‚æ˜¯æƒ³èªªå¦‚æœå¤šä¸€ç¨®ç‰ˆå‹å¯ä»¥æ€è€ƒâ€¦</li><li>èƒŒæ™¯çš„ icon åˆ‡æ›ï¼Œé€™æ˜¯åœ¨åšå€‹åˆ¥å¡ç‰‡åŸä»¶å¿«é€Ÿåˆ‡æ›ç”¨çš„è€Œå·²</li></ol><p>åœ¨æŠŠä¸Šè¿°çš„åˆä½µèµ·ä¾†ï¼Œåœ¨é¢æ¿å¯ä»¥è‡ªç”±åˆ‡æ› ğŸ˜ƒ<br>æ¥ä¸‹ä¾†å°±æ˜¯é€²åˆ°å¯«ç¨‹å¼çš„ç’°ç¯€ğŸ¥°  </p><h2 id="React-éƒ¨åˆ†"><a href="#React-éƒ¨åˆ†" class="headerlink" title="React éƒ¨åˆ†"></a>React éƒ¨åˆ†</h2><p>ç·´ç¿’é¡Œè¼ƒå°‘ç”¨åˆ°ä½¿ç”¨åˆ° React Hooks<br>å¤§éƒ¨åˆ†é‚„æ˜¯ CSS å±…å¤š<br>åªæœ‰ä½¿ç”¨ <code>useState</code>ã€<code>useMemo</code> è€Œå·²</p><h3 id="svg-ç•¶ä½œ-component-åŒ¯å…¥"><a href="#svg-ç•¶ä½œ-component-åŒ¯å…¥" class="headerlink" title="svg ç•¶ä½œ component åŒ¯å…¥"></a>svg ç•¶ä½œ component åŒ¯å…¥</h3><p><a href="https://create-react-app.dev/docs/adding-images-fonts-and-files/">å®˜æ–¹</a> è¦å¼•å…¥åœ–ç‰‡æœ‰å…©ç¨®æ–¹å¼  </p><ol><li>ç•¶ä½œ component åŒ¯å…¥ (svg)</li><li>ç›´æ¥åŒ¯å…¥åœ–æª”ä¾†æº  </li></ol><p>åœ–æª”æ˜¯ svg ï¼Œé€™é‚Šæˆ‘æ¡ç”¨ component çš„æ–¹å¼ï¼Œä¸»è¦æ˜¯æƒ³æ”¹è®Š hover æ™‚çš„å¡«è‰²  </p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token comment">// ç•¶ä½œå…ƒä»¶åŒ¯å…¥</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>ReactComponent <span class="token keyword">as</span> Play<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./images/icon-play.svg'</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text"></span><span class="token punctuation">&#123;</span><span class="token comment">/*ä½œç‚ºå…ƒä»¶ä½¿ç”¨*/</span><span class="token punctuation">&#125;</span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Play</span></span><span class="token punctuation">/></span></span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é—œæ–¼ç¬¬äºŒé»ï¼Œä½¿ç”¨ <code>src</code> å¼•å…¥åœ–æª”<br>å› ç‚º deploy ä¹‹å¾Œ <code>index.html</code> çš„è·¯å¾‘ç„¡æ³•å°ä¸Šï¼Œæœ‰çš„äººæœƒå»ºè­°æŠŠåœ–æª”æ”¾åœ¨ <code>public</code> ä¸Šï¼Œåœ¨é€éç›¸å°è·¯å¾‘å¼•å…¥ã€‚<br>æˆ–è€…è®“ webpack å¹«æˆ‘å€‘é€é JavaScript module (file loader)ä¾†è™•ç†ï¼Œä¸éè¦æ³¨æ„çš„æ˜¯ï¼Œè·¯å¾‘çš„èµ·å§‹é»æ˜¯ <code>./</code>ï¼Œæ‰€ä»¥å¾ŒçºŒåœ¨ deploy æ™‚è¦è¨­å®š <code>homepage</code> ä¾†çŸ¯æ­£è·¯å¾‘</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token comment">// é€™é‚Šæ˜¯ç›¸å°è·¯å¾‘å­—ä¸²</span><span class="token keyword">import</span> play <span class="token keyword">from</span> <span class="token string">'./images/icon-play.svg'</span><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text"></span><span class="token punctuation">&#123;</span><span class="token comment">/*ä½œç‚ºè·¯å¾‘ä½¿ç”¨*/</span><span class="token punctuation">&#125;</span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>play<span class="token punctuation">&#125;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Play icon<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¾å¤–éƒ¨åŒ¯å…¥çš„-Element-è½‰æˆæ­£ç¢ºçš„-React-component"><a href="#å¾å¤–éƒ¨åŒ¯å…¥çš„-Element-è½‰æˆæ­£ç¢ºçš„-React-component" class="headerlink" title="å¾å¤–éƒ¨åŒ¯å…¥çš„ Element è½‰æˆæ­£ç¢ºçš„ React component"></a>å¾å¤–éƒ¨åŒ¯å…¥çš„ Element è½‰æˆæ­£ç¢ºçš„ React component</h3><p>é€™é‚Šæˆ‘éœ€è¦æ‰¾åˆ°å°æ‡‰çš„æ¨£å¼è·Ÿ icon åœ–ï¼Œèµ·åˆæˆ‘æ˜¯å›å‚³ <code>[Icon[type], theme.primary[type]]</code><br>é æƒ³ä¸­æ˜¯åœ¨ component ä¸­è¦æ‹¿åˆ° <code>&lt;Play/&gt;</code> é€™æ¨£çš„ svg as component<br>è½‰å‡ºä¾†çš„æ˜¯ component <code>&#123;Play&#125;</code> é€™æ¨£å¯ä»¥ï¼Œçœ‹èµ·ä¾†å¥½åƒä¸€èˆ¬çš„å€¼ï¼Œæˆ‘æƒ³æ”¹æˆ tag çš„å½¢å¼ï¼ŒåŠ ä¸Š <code>&lt;&gt;</code> åè€Œè®Šæˆ  <code>React Element</code> ã€‚<br>å¾<a href="https://github.com/facebook/react/issues/13445#issuecomment-414389398">å®˜æ–¹çš„ issues é€™ç¯‡</a> æœ‰æåˆ°ï¼Œæ˜¯å› ç‚º <strong>æ ¼å¼éŒ¯èª¤</strong><br>åŠ ä¸Š tag çš„æ–¹æ³•å¯¦éš›ä¸Šè®Šæˆé€™æ¨£ <code>&lt;&lt;Play/&gt;/&gt;</code>ï¼Œå¯ä»¥ç”¨ function å…ˆæŠŠå…ƒä»¶è¼¸å‡ºå†ä½¿ç”¨ã€‚    </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// svg as component</span><span class="token keyword">export</span> <span class="token keyword">const</span> Icon <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    Exercise<span class="token operator">:</span> <span class="token operator">&lt;</span>Exercise <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>    Play<span class="token operator">:</span> <span class="token operator">&lt;</span>Play <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// æ‹¿åˆ°è©²åœ–æª”è·Ÿé¡è‰²</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">type2Style</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        type <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// React Element -> Componentï¼ŒæŠŠ React Component </span>    <span class="token keyword">const</span> <span class="token function-variable function">BgIcon</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Icon<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span>BgIcon<span class="token punctuation">,</span> theme<span class="token punctuation">.</span>primary<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è³‡æ–™è½‰åŒ–"><a href="#è³‡æ–™è½‰åŒ–" class="headerlink" title="è³‡æ–™è½‰åŒ–"></a>è³‡æ–™è½‰åŒ–</h3><p>é€™éƒ¨åˆ†æ˜¯æƒ³è¦ç†Ÿæ‚‰å¦‚ä½•å»ä½¿ç”¨ Object &amp; Array çš„ function<br>æŠŠè‡ªå·±æƒ³è¦çš„è³‡æ–™å¬å–šå‡ºä¾†ï¼Œç›®å‰å·²çŸ¥çš„æ˜¯æŒ‰éˆ•åˆ‡æ›å–å¾—è³‡æ–™ï¼Œ<code>useState</code> åœ¨ set çš„æ™‚å€™åš re-render è®“æˆ‘å€‘å¯ä»¥çœ‹åˆ°è³‡æ–™æ”¹è®Šå¾Œç•«é¢ä¹Ÿæ”¹è®Šã€‚</p><ul><li>Click Event<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// 1. è§€å¯Ÿ timeframe æ”¹è®Šæ™‚è¨­å®šçš„å€¼</span>    <span class="token keyword">const</span> <span class="token punctuation">[</span>timeframe<span class="token punctuation">,</span> setTimeframe<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>        <span class="token function">Type2Data</span><span class="token punctuation">(</span>timetype<span class="token punctuation">.</span>daily<span class="token punctuation">,</span> data<span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 2. é»æ“Šå¾Œæ”¹è®Š type</span>    <span class="token keyword">const</span> <span class="token punctuation">[</span>type<span class="token punctuation">,</span> setType<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>timetype<span class="token punctuation">.</span>daily<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 3. å‚³å…¥ type å€¼</span>    <span class="token keyword">const</span> <span class="token function-variable function">clickhandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token function">setTimeframe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">Type2Data</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setType</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeProvider</span></span> <span class="token attr-name">theme</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>theme<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TimerLayout</span></span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token punctuation">&#123;</span><span class="token comment">/* 4. æŠŠ handler ç•¶ä½œ props å‚³çµ¦å…ƒä»¶çš„ button */</span><span class="token punctuation">&#125;</span><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProfileCard</span></span> <span class="token attr-name">clickhandler</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>clickhandler<span class="token punctuation">&#125;</span></span> <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>type<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">                </span><span class="token punctuation">&#123;</span>timeframe<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> last<span class="token punctuation">,</span> title<span class="token punctuation">,</span> prev<span class="token punctuation">,</span> current <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TimeframeCard</span></span>                        <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>i<span class="token punctuation">&#125;</span></span>                        <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> last<span class="token punctuation">,</span> title<span class="token punctuation">,</span> prev<span class="token punctuation">,</span> current <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span>                    <span class="token punctuation">/></span></span>                <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TimerLayout</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeProvider</span></span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>è½‰æ›è³‡æ–™çš„ function<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Type2Data</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// åˆå§‹å€¼æ˜¯é™£åˆ—</span>    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 1. æŠŠå®˜æ–¹çµ¦çš„ data.json è§£æ§‹</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> title<span class="token punctuation">,</span> timeframes <span class="token punctuation">&#125;</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>        <span class="token comment">// 2. ç•«é¢ä¸Šéœ€è¦è½‰æ› timeframe çš„æ–‡å­—</span>        <span class="token keyword">let</span> type2text <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> timetype<span class="token punctuation">.</span>daily<span class="token operator">:</span>                type2text <span class="token operator">=</span> <span class="token string">"day"</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> timetype<span class="token punctuation">.</span>weekly<span class="token operator">:</span>                type2text <span class="token operator">=</span> <span class="token string">"week"</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> timetype<span class="token punctuation">.</span>monthly<span class="token operator">:</span>                type2text <span class="token operator">=</span> <span class="token string">"month"</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span><span class="token operator">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// 3. æŠŠç¬¦åˆçš„ timeframe è³‡æ–™æŠ“å‡ºä¾†ï¼Œå¾ŒçºŒè¦é€é map æŠŠè³‡æ–™å°å‡ºä¾†</span>        p<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            last<span class="token operator">:</span> type2text<span class="token punctuation">,</span>            title<span class="token punctuation">,</span>            prev<span class="token operator">:</span> timeframes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span>previous<span class="token punctuation">,</span>            current<span class="token operator">:</span> timeframes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> p<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>æ­æ‹‰ ! ç•¶æˆ‘æŒ‰ä¸‹æŒ‰éˆ•ï¼Œstate æ”¹è®Šé€²è¡Œ re-render<br><img data-src="https://i.imgur.com/P9Aj0ae.gif" alt="åˆ‡æ› timeframe">  </li></ul><h3 id="useMemo-æŠŠè³‡æ–™è¨˜èµ·ä¾†"><a href="#useMemo-æŠŠè³‡æ–™è¨˜èµ·ä¾†" class="headerlink" title="useMemo : æŠŠè³‡æ–™è¨˜èµ·ä¾†"></a>useMemo : æŠŠè³‡æ–™è¨˜èµ·ä¾†</h3><p>ç”±æ–¼æˆ‘çš„åœ–ç‰‡ä»¥åŠé¡è‰²æ˜¯é€éè¨ˆç®—è€Œä¾†ï¼Œè€Œä¸æ˜¯å¯«æ­»çš„ï¼Œ æ¯æ¬¡ state æ”¹è®Šæ™‚ä¹Ÿæœƒ re-render ï¼Œå°è‡´æ¯æ¬¡éƒ½é‡æ–°è¨ˆç®—ä¸€æ¬¡ğŸ˜“ã€‚<br>ä½†æ˜¯ <strong>æ¨£å¼å…§å®¹æ˜¯ä¸è®Š</strong> çš„ï¼Œæ‰€ä»¥ç”¨ <code>useMemo</code> åŒ…èµ·ä¾†ï¼Œç´€éŒ„æ¨£å¼è³‡æ–™  </p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">TimeframeCard</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> data <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> last<span class="token punctuation">,</span> title<span class="token punctuation">,</span> current<span class="token punctuation">,</span> prev <span class="token punctuation">&#125;</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>    <span class="token comment">// é¿å… re-render åˆè·‘ä¸€æ¬¡</span>    <span class="token keyword">const</span> <span class="token punctuation">[</span>BgIcon<span class="token punctuation">,</span> BgColor<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">type2Style</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>title<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TimeframeCardContainer</span></span> <span class="token attr-name">bgcolor</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>BgColor<span class="token punctuation">&#125;</span></span> <span class="token attr-name">br</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>br<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BgIcon</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FrameBody</span></span><span class="token punctuation">></span></span><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FrameHeader</span></span><span class="token punctuation">></span></span><span class="token plain-text">                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FrameHeaderTitle</span></span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>title<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FrameHeaderTitle</span></span><span class="token punctuation">></span></span><span class="token plain-text">                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Setting</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FrameHeader</span></span><span class="token punctuation">></span></span><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FrameContent</span></span><span class="token punctuation">></span></span><span class="token plain-text">                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CurrentText</span></span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>current<span class="token punctuation">&#125;</span><span class="token plain-text">hrs</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">CurrentText</span></span><span class="token punctuation">></span></span><span class="token plain-text">                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PrevText</span></span><span class="token punctuation">></span></span><span class="token plain-text">                        Last </span><span class="token punctuation">&#123;</span>last<span class="token punctuation">&#125;</span><span class="token plain-text"> - </span><span class="token punctuation">&#123;</span>prev<span class="token punctuation">&#125;</span><span class="token plain-text">hrs                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">PrevText</span></span><span class="token punctuation">></span></span><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FrameContent</span></span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FrameBody</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TimeframeCardContainer</span></span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¾Œä¾†å¯«æ–‡æ™‚ï¼Œæˆ‘è¦ºå¾—é€™é‚Šå¯«çš„ä¸æ˜¯å¾ˆå¥½ï¼Œæ—¢ç„¶æ˜¯å›ºå®šçš„ï¼Œæˆ‘ç‚ºä»€éº¼è¦é€éè¨ˆç®—ä¾†å–å¾—æ¨£å¼å‘¢ğŸ¥´<br>å›æƒ³ç•¶åˆåœ¨å¯«ï¼Œå¤šæƒ³åˆ°å¦‚æœæ”¹æˆå®¢è£½åŒ–å¡ç‰‡ï¼Œæ¨£å¼å…§å®¹å°±æœƒæ”¹è®Šï¼Œä»¥ç›®å‰çš„ç·´ç¿’é¡Œä¸¦æ²’æœ‰é€™å€‹éœ€æ±‚ğŸ˜…<br>ä¹Ÿè¨±å¯ä»¥ä½œç‚ºä¹‹å¾Œçš„ :Todo </p><h3 id="Deploy-éƒ¨å±¬ç¶²ç«™"><a href="#Deploy-éƒ¨å±¬ç¶²ç«™" class="headerlink" title="Deploy : éƒ¨å±¬ç¶²ç«™"></a>Deploy : éƒ¨å±¬ç¶²ç«™</h3><p><code>package.json</code> éœ€è¦è¨­å®š homepage å°‡è·¯å¾‘é‡æ–°è¨­å®šï¼Œå¦å‰‡è¼¸å‡ºçš„ build è£¡é¢çš„ index.html å¼•å…¥çš„æ±è¥¿æœƒæ‰¾ä¸åˆ°ã€‚<br><a href="https://create-react-app.dev/docs/deployment/#building-for-relative-paths">Deployment å®˜æ–¹æ•™å­¸</a>  </p><ul><li>package.json <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my-app"</span><span class="token punctuation">,</span>  <span class="token comment">// æˆ‘ç™¼å¸ƒåœ¨ç¶²é ä¸Šçš„è·¯å¾‘</span><span class="token operator">+</span> <span class="token string">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://meitung473.github.io/time-tracking-dashboard-main/"</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="CSSéƒ¨åˆ†"><a href="#CSSéƒ¨åˆ†" class="headerlink" title="CSSéƒ¨åˆ†"></a>CSSéƒ¨åˆ†</h2><p>åŒ…å« styled-component ä»¥åŠä¸€äº› CSS é‡åˆ°çš„å•é¡Œ  </p><h3 id="normalize-css"><a href="#normalize-css" class="headerlink" title="normalize.css"></a>normalize.css</h3><p>æˆ‘è¨˜å¾—åœ¨ create-react-app ä½¿ç”¨ normalize åœ¨ <code>index.css</code> åŠ ä¸Š :  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css">@import-normalize<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>çµæœ IDE æç¤ºæ ¼å¼éŒ¯èª¤ä»¥å¤–ï¼Œæ„Ÿè¦ºå¥½åƒéƒ½æ²’ä½œç”¨<br><img data-src="https://dsm01pap006files.storage.live.com/y4muj1fnDJhMGuehE88QmzA1uezUw5o7ocb8_KQf52VuXLdBQFYupbRyS3943vlDwAYqGq1KtqHfS80RjlFnRRYsuOvLIUb1Nd-Rog1ThCib7FhPDbyqo_bYip_65arJPHfXKV5Q4g4iJGC1JO8kls0kAU8JQXlHFxFogThYvQFB2GRkhdoUH31i7XUKHkXADaH?width=1024&height=115&cropmode=none" alt="IDE æç¤ºæ ¼å¼éŒ¯èª¤"><br>æˆ‘æ˜¯æŒ‰ç…§å®˜æ–¹çš„ <a href="https://create-react-app.dev/docs/adding-css-reset/#browser-support">æ•™å­¸</a><br>æ‰“é–‹ devtool åè€Œæ˜¯å¤šäº† <code>where:</code> çš„æ¨£å¼ï¼Œæ‰€ä»¥ä¸¦ä¸æ˜¯æ²’æœ‰<br><img data-src="https://dsm01pap006files.storage.live.com/y4mzXONRr23Eb4GiE7hLxjSlL9TuG5SxD6Xhhcl5xYKY__SAR-WM9kUhCeYYOZQpf1O6AFdFl27BwQM1_6LlbadtlQvNV1T-VtH7aIhhR0MP35pOqAxyfMIjPgTVbN0UhbGShKwyy-LxhksBAcP-GSYnocw-tj-k3YF6zbeelM3Tn2MOfTm-p5cIGAwkqtW9xUl?width=1024&height=147&cropmode=none" alt="where:">    </p><p>æˆ‘æŸ¥åˆ° <a href="https://stackoverflow.com/questions/56532121/normalize-css-does-not-fully-add-reset-to-react-app">é€™ç¯‡</a> è§£é‡‹ç‚ºä»€éº¼ normalize.css å…¶å¯¦æœ‰ä¸åŒä»½ï¼Œå¦‚æœåœ¨å¦å¤–å®‰è£ <a href="https://github.com/necolas/normalize.css">normalize.css</a> ï¼Œå¼•å…¥ç‚ºä»€éº¼ä½œç”¨æ˜¯å› ç‚º <strong>æ ¹æœ¬æ²’æœ‰æŒ‡å‘åˆ°é€™ç‰ˆ</strong>ã€‚    </p><p>ç›®å‰çš„ React æ˜¯ä½¿ç”¨ <code>@csstool/normalize</code> è€Œä¸æ˜¯ <code>necolas/normalize</code> ç‰ˆçš„<br>é—œæ–¼é€™å…©ä»½çš„å·®åˆ¥ï¼Œ<a href="https://github.com/csstools/normalize.css/issues/3">å…±åŒä½œè€…è§£é‡‹</a> æ˜¯ç§»é™¤ä¸€äº›å›ºå®šæ ¼å¼çš„è¨­å®šåƒæ˜¯ (<code>body&#123;margin:0&#125;</code>) ï¼Œä»¥åŠå…¼é¡§ç€è¦½å™¨çš„å…¼å®¹æ€§å•é¡Œã€‚ ğŸ¤”  </p><p>å¦å¤–æˆ‘ä¹ŸæŸ¥äº†ä¸€ä¸‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:where">:where</a> å½å…ƒç´ ï¼Œç‚ºä»€éº¼ normalize æœƒä½¿ç”¨é€™å€‹ã€‚<br>ä»¥å¾€åœ¨å¯« CSS å¿…é ˆæ³¨æ„æ¬Šé‡çš„å•é¡Œï¼Œè€Œ <code>:where</code> çš„æ¬Šé‡æ˜¯ 0 ï¼Œä¸ç®¡è¨­å®šçš„ CSS æ¬Šé‡å¾Œä¾†çš„å€¼éƒ½å¯ä»¥è¦†è“‹éå»ï¼Œ ç›¸è¼ƒ <code>:is()</code> ä¾†çš„æ›´é©åˆè¨­å®šé è¨­å€¼ã€‚<br>ç›®å‰å¹¾ä¹æ‰€æœ‰çš„ç€è¦½å™¨éƒ½æœ‰æ”¯æ´ï¼ŒIE å› ç‚ºä»Šå¹´å…­æœˆè¦è¢«æ·˜æ±°äº†ï¼Œå°±æ²’å·®äº†å§ ğŸ¥´  </p><h3 id="styled-components-media-query"><a href="#styled-components-media-query" class="headerlink" title="styled-components @media query"></a>styled-components @media query</h3><p>åœ¨ä¹‹å‰å­¸ç¿’æ˜¯å¯«æˆå€‹åˆ¥ä¸€è¡Œï¼Œå†ä¸€å€‹å€‹ import åˆ°éœ€è¦æ”¹å‹•çš„å…ƒä»¶è£¡é¢åšä¿®æ”¹     </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> breakpoint_md <span class="token operator">=</span> <span class="token string">"@media screen and (min-width: 768px)"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ééƒ½ CSS-in-JS äº†ï¼Œä¸å¦‚æŠŠå®ƒè®Šå¾—æ›´åŠ ç¨‹å¼åŒ–ä¸€é»ã€‚<br>æˆ‘åœ¨å¯« styled-component æ™‚åªæŠŠä»–æƒ³æˆ <strong>æœƒç”¢å‡ºä¸€å¤§ä¸²çš„æ–‡å­—</strong>ï¼Œæƒ³è¦åšåˆ° sass çš„ @mixin åŠŸèƒ½ï¼Œæ”¹æˆå¯« function å›å‚³æƒ³è¦çš„å­—ä¸²ã€‚<br>æ‰€ä»¥é€™æ¬¡çš„ç›®æ¨™æ˜¯ : </p><blockquote><p>object é€é key æ‹¿åˆ° <code>@media</code> çš„å­—ä¸²ï¼Œä¾‹ breakpoint.md å°æ‡‰ min-width : 768px</p></blockquote><p>åƒè€ƒ : <a href="https://dev.to/cagatayunal/how-to-use-css-media-query-breakpoint-in-styled-components-9of">How to use CSS Media Query Breakpoint in Styled-Components</a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å…ˆå¯«å¥½å°æ‡‰çš„å°ºå¯¸</span><span class="token keyword">export</span> <span class="token keyword">const</span> sizes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    xxl<span class="token operator">:</span> <span class="token number">1440</span><span class="token punctuation">,</span>    xl<span class="token operator">:</span> <span class="token number">996</span><span class="token punctuation">,</span>    md<span class="token operator">:</span> <span class="token number">768</span><span class="token punctuation">,</span>    sm<span class="token operator">:</span> <span class="token number">576</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// @media å›ºå®šçš„æ ¼å¼ï¼Œå¾æ‰‹æ©Ÿå¾€ä¸Šå¯« &#123;size&#125; æ‹¿ä¾†åšæ›¿æ›</span><span class="token keyword">const</span> prefix <span class="token operator">=</span> <span class="token string">"@media screen and (min-width: &#123;size&#125;px)"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> br <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>sizes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token comment">/* è½‰æ›éå¾Œçš„ sizes : ['xxl','xl',...]æˆ‘å€‘åªè¦&#123;n1 : sizes[n1]n2 : sizes[n2]...&#125;*/</span><span class="token comment">// ç”¨å–ä»£çš„æ–¹å¼</span>    p<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&#123;size&#125;"</span><span class="token punctuation">,</span> sizes<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸æƒ³é€™éº¼éº»ç…©ä¹Ÿå¯ä»¥ç›´æ¥é€é template å¸¶å€¼<br><code>@media screen and (min-width: $&#123;sizes[n]&#125;px)</code><br>åœ¨ styled-component å…§æˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä½¿ç”¨  </p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> br <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../../Device"</span><span class="token punctuation">;</span><span class="token keyword">const</span> FrameBody <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>InfoCard<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#123;/* ç›´æ¥å¯« */&#125;    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>br<span class="token punctuation">.</span>md<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> &#123;        padding: 1em 1.2em;        cursor: pointer;        transition: filter 0.3s ease-out;    &#125;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€™æ¨£åš RWD å°±å¯ä»¥æ¯”è¼ƒç°¡å–®äº†ğŸ¥°  </p><h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>æ¯æ¬¡ç·´ç¿’éƒ½æœƒè¦ºå¾—è‡ªå·±åˆæ›´é€²æ­¥ä¸€äº›<br>é‡æ–°æ€è€ƒè‡ªå·±çš„è£½ä½œæµç¨‹<br>æœ€å¾Œè¦ºå¾— CSS çš„éƒ¨ä»½æœ‰é»é›œï¼Œå¯ä»¥æŠ½å‡ºç›¸åŒçš„æ¨£å¼å†é‡æ§‹<br>å¾ŒçºŒæœ‰æ™‚é–“å†ä¿®æ”¹  </p><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ol><li><a href="https://dev.to/cagatayunal/how-to-use-css-media-query-breakpoint-in-styled-components-9of">How to use CSS Media Query Breakpoint in Styled-Components</a></li><li><a href="https://airbnb.io/javascript/react/#class-vs-reactcreateclass-vs-stateless">Airbnb JavaScript Style Guide</a></li><li><a href="https://github.com/facebook/react/issues/13445">expected a string (for built-in components) or a class/function</a></li><li><a href="https://create-react-app.dev/">Create React App</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;é€™æ˜¯åœ¨ &lt;a href=&quot;https://www.frontendmentor.io/solutions/responsive-reactjs-styledcomponent-BkFnvCvr9&quot;&gt;frontend mentor çš„æŒ‘æˆ°é¡Œ&lt;/a&gt;&lt;br&gt;ä½¿ç”¨ React + styled-components  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://meitung473.github.io/time-tracking-dashboard-main/&quot;&gt;ç¶²é &lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/meitung473/time-tracking-dashboard-main&quot;&gt;github repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4m9LQmpdiru45ZO2sTWfVBoSuRS1cfQoRCmHTFQxc-7aQWX0hkbq0r2q3tefJlGHA3SeXfA_G4CV5PHZIagjALPplvZ3s9MO6tpWyEEYyL2J7ep3EbhiNczfUybFUlxBTjvVQybnsXtFwrgoLmqEFJBftLbJvhzcipVkL-hdLjY23wEqHVpwrW0vNREUMTmt-y?width=1024&amp;height=585&amp;cropmode=none&quot; alt=&quot;å®Œæˆåœ–&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="React" scheme="https://blog.rosa.tw/tags/React/"/>
    
    <category term="styled-components" scheme="https://blog.rosa.tw/tags/styled-components/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - Prototype ç‰©ä»¶å°å‘ (IV) åŸå‹çš„ç¹¼æ‰¿</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-04/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-04/</id>
    <published>2022-04-19T04:33:33.000Z</published>
    <updated>2022-06-18T13:50:34.253Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡çŸ¥é“åŸå‹èˆ‡åŸå‹éˆçš„å…§å®¹<br>å¦‚æœæˆ‘å€‘è¦è®“æ±è¥¿ç¹¼æ‰¿ï¼Œé™¤äº†é€é new å»ºç«‹ç‰©ä»¶ç›´æ¥å¹«æˆ‘å€‘ç¹¼æ‰¿ä¹‹å¤–<br>é‚„æœ‰ <code>Object.setPrototypeOf</code> ä»¥åŠ <code>Object.create()</code>  </p><span id="more"></span>  <h2 id="åŸå‹å¦‚ä½•ç¹¼æ‰¿"><a href="#åŸå‹å¦‚ä½•ç¹¼æ‰¿" class="headerlink" title="åŸå‹å¦‚ä½•ç¹¼æ‰¿ ?"></a>åŸå‹å¦‚ä½•ç¹¼æ‰¿ ?</h2><ol><li><code>Object.setPrototypeOf(&lt;ç¹¼æ‰¿è€…&gt;,&lt;è¢«ç¹¼æ‰¿è€…&gt;)</code> <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><code>Object.create(proto,å±¬æ€§ç‰©ä»¶)</code> <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Person ç‰©ä»¶</span><span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token string">'Default_Name'</span><span class="token punctuation">,</span>  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Hi, I'm "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// é€é Object.create() å°‡ Person ä½œç‚ºåŸå‹ç‰©ä»¶ä¾†å»ºç«‹ä¸€å€‹æ–°çš„ç‰©ä»¶</span><span class="token keyword">var</span> p <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ²’æœ‰ this.name</span>p<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// "Hi, I'm Default_Name"</span>p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Rosa'</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// "Hi, I'm Rosa"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h2 id="Object-setPrototypeOf"><a href="#Object-setPrototypeOf" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h2><p>ä¸Šä¸€ç¯‡æˆ‘å€‘æåˆ° <code>[[Prototype]]</code> æ˜¯éš±è—å±¬æ€§<br>ES5 ä¹‹å‰æ˜¯ä½¿ç”¨ <code>__proto__</code>ï¼ŒES6 æ–°å¢ <code>getPrototypeOf()</code> èˆ‡ <code>setPrototypeOf()</code> è®“æˆ‘å€‘å¯ä»¥ç›´æ¥æ”¹è®Šç‰©ä»¶çš„ prototype    </p><h3 id="in-æŸå±¬æ€§æ˜¯å¦å¯ä»¥é€éé€™å€‹ç‰©ä»¶å­˜å–"><a href="#in-æŸå±¬æ€§æ˜¯å¦å¯ä»¥é€éé€™å€‹ç‰©ä»¶å­˜å–" class="headerlink" title="in  : æŸå±¬æ€§æ˜¯å¦å¯ä»¥é€éé€™å€‹ç‰©ä»¶å­˜å–"></a>in  : æŸå±¬æ€§æ˜¯å¦å¯ä»¥é€éé€™å€‹ç‰©ä»¶å­˜å–</h3><p>æˆ‘å€‘çŸ¥é“ç‰©ä»¶çš„å±¬æ€§æˆ–æ–¹æ³•ä¸ä¸€å®šæ˜¯æœ¬èº«ç‰©ä»¶çš„<br>è€Œæ˜¯ä¾†è‡ªåŸå‹éˆå¾€ä¸Šæ‰¾åˆ°çš„<br>å¦‚æ­¤ä¸€ä¾†ï¼Œå»ºæ§‹ç‰©ä»¶å°±èƒ½ä½¿ç”¨åŸå‹éˆä¸Šçš„å±¬æ€§<br>é‚£æ€éº¼ç¢ºå®šèƒ½å­˜å–åˆ°å‘¢ ?<br>æ²’éŒ¯ï¼Œå°±æ˜¯é€é <code>in</code> !  </p><blockquote><p>å±¬æ€§åç¨±å¿…é ˆæ˜¯ã€Œå­—ä¸²ã€   </p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> person2 <span class="token operator">=</span><span class="token punctuation">&#123;</span>b <span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">,</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">"a"</span> <span class="token keyword">in</span> person1<span class="token punctuation">)</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">"b"</span> <span class="token keyword">in</span> person1<span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœè¦è®“ person1 ä¹Ÿèƒ½è®€å–åˆ° b å°±å¿…é ˆæ”¹è®Šå…¶åŸå‹<br>å¯ä»¥é€é <code>Object.setPrototypeOf()</code> ç›´æ¥æ”¹è®Š<br>ä¸éå»ºè­°éå¿…è¦ä¸è¦ç›´æ¥æ”¹è®Šç‰©ä»¶çš„ prototype  </p><h3 id="Object-setPrototypeOf-1"><a href="#Object-setPrototypeOf-1" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h3><p><code>Object.setPrototypeOf(&lt;ç¹¼æ‰¿è€…&gt;,&lt;è¢«ç¹¼æ‰¿è€…åŸå‹&gt;)</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person1<span class="token punctuation">,</span>person2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>JavaScript çš„åŸå‹ç‰©ä»¶æ˜¯ç‰©ä»¶å…§éƒ¨å±¬æ€§ï¼Œ<strong>ç„¡æ³•ç›´æ¥å­˜å–</strong> (é€šå¸¸æ¨™ç¤ºç‚º <code>[[Prototype]]</code>)ï¼Œä½†æ˜¯å¯ä»¥é€é setPrototypeOf æŒ‡å®šç‰©ä»¶ä¹‹é–“çš„åŸå‹é—œä¿‚</p><blockquote><p>åŸå‹ç¹¼æ‰¿çš„è¦å‰‡è£¡ï¼Œ<strong>åŒä¸€å€‹ç‰©ä»¶ç„¡æ³•æŒ‡å®šå…©ç¨®åŸå‹ç‰©ä»¶</strong>ã€‚</p></blockquote><p>è©¦è‘—å»å­˜å–ã€Œä¸å­˜åœ¨ã€çš„å±¬æ€§æ™‚ï¼Œé‚£éº¼ JavaScript å°±æœƒå¾€å®ƒçš„Â <code>[[Prototype]]</code>Â åŸå‹ç‰©ä»¶å»å°‹æ‰¾ (prototype chain)</p><p>è®“ <code>person1</code> åŒæ™‚æœ‰ b ä¹Ÿæœ‰ c å±¬æ€§</p><blockquote><p>è®“ b å»ç¹¼æ‰¿ cï¼Œa å†ç¹¼æ‰¿ bï¼Œå°±èƒ½åŒæ™‚æ“æœ‰ b èˆ‡ c</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> person2 <span class="token operator">=</span><span class="token punctuation">&#123;</span>b <span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> person3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>c <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person2<span class="token punctuation">,</span>person3<span class="token punctuation">)</span>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person1<span class="token punctuation">,</span>person2<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c"</span> <span class="token keyword">in</span> person1<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="hasOwnProperty-æ˜¯å¦ç‚ºç‰©ä»¶æœ¬èº«çš„æ–¹æ³•æˆ–å±¬æ€§"><a href="#hasOwnProperty-æ˜¯å¦ç‚ºç‰©ä»¶æœ¬èº«çš„æ–¹æ³•æˆ–å±¬æ€§" class="headerlink" title="hasOwnProperty() æ˜¯å¦ç‚ºç‰©ä»¶æœ¬èº«çš„æ–¹æ³•æˆ–å±¬æ€§"></a>hasOwnProperty() æ˜¯å¦ç‚ºç‰©ä»¶æœ¬èº«çš„æ–¹æ³•æˆ–å±¬æ€§</h3><p>æœ‰äº›å±¬æ€§èˆ‡æ–¹æ³•æ˜¯ä¾†è‡ª prototype ç¹¼æ‰¿çš„<br>è¦ç¢ºå®šæ˜¯ä¸æ˜¯å±¬æ–¼è‡ªå·±æœ¬èº«ç”¨ <code>hasOwnProperty</code><br><code>objself.hasOwnProperty(&lt;property&gt;)</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> person2 <span class="token operator">=</span><span class="token punctuation">&#123;</span>b <span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">,</span><span class="token punctuation">&#125;</span>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person1<span class="token punctuation">,</span>person2<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span><span class="token comment">// å±¬æ€§ b ä¸¦éå»ºç«‹æ–¼ person1 ç‰©ä»¶ä¸­ï¼Œè€Œæ˜¯é€éç¹¼æ‰¿çš„æ–¹å¼å–å¾—çš„ </span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h2><p>æ–°å»ºç‰©ä»¶å¾Œçš„Â <code>[[Prototype]]</code>Â å°±æœƒæ˜¯æˆ‘å€‘æ‰€æŒ‡å®šçš„é‚£å€‹åŸå‹ç‰©ä»¶ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> rosa <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">creat</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// constructor çš„ prototype</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥æ˜¯ <code>null</code>ï¼Œé€™æ¨£å°±æœƒè®Šæˆéå¸¸ä¸€èˆ¬çš„ç‰©ä»¶ (â€œVery plainâ€ objects)<br>ä¸å¸¶æœ‰ä»»ä½• prototype ç”šè‡³æ˜¯ <code>Object.prototype</code> </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//Error</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// false</span>conosle<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">//éå¸¸ç©ºçš„ç‰©ä»¶</span>obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// é‚„æ˜¯å¯ä»¥çµ¦äºˆå±¬æ€§</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// &#123;a:2&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['a']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†ä¸¦ä¸ä»£è¡¨ Object æœ‰é—œçš„æ–¹æ³•éƒ½ä¸èƒ½å‘¼å«<br>è€Œæ˜¯è¦çœ‹æ–¹æ³•æ˜¯å¦åœ¨ prototype è£¡<br>åƒæ˜¯ Object.keys ä¾ç„¶å¯ä»¥ä½¿ç”¨</p><h3 id="é€ ä¸€å€‹-Object-create"><a href="#é€ ä¸€å€‹-Object-create" class="headerlink" title="é€ ä¸€å€‹ Object.create()"></a>é€ ä¸€å€‹ Object.create()</h3><p><code>Object.create()</code> ç°¡å–®å¯¦ä½œ</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">proto</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> proto<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€éä¸€å€‹å°è£éçš„å»ºæ§‹å¼å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶ï¼Œä¸¦æŠŠÂ <code>prototype</code>Â æŒ‡å‘ä½œç‚ºåƒæ•¸çš„Â <code>proto</code>ã€‚</p><h2 id="Object-create-v-s-new"><a href="#Object-create-v-s-new" class="headerlink" title="Object.create() v.s new ?"></a>Object.create() v.s new ?</h2><p>å…©å€‹éƒ½æ˜¯å»ºç«‹ç‰©ä»¶ï¼Œå“ªè£¡ä¸ä¸€æ¨£ ?   </p><blockquote><p><code>new</code> operator è·Ÿ <code>Object.create</code> çš„å·®åˆ¥åœ¨æ–¼æœƒä¸æœƒåŸ·è¡Œ constructor</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å»ºç«‹çš„æ™‚å€™ï¼Œä¹Ÿå°å‡º hi</span><span class="token keyword">let</span> b <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span> <span class="token comment">// æŒ‡æ˜¯å»ºç«‹äº†è€Œå·²</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://zh.javascript.info/prototype-methods#very-plain">åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰ <strong>proto</strong> çš„å¯¹è±¡</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10194356">é‡æ–°èªè­˜ JavaScript: Day 25 åŸå‹èˆ‡ç¹¼æ‰¿</a></li><li><a href="https://medium.com/%E6%89%8B%E5%AF%AB%E7%AD%86%E8%A8%98/javascript-new-operator-implementation-8c0d15f2b899">new operator â€” JavaScript | ç‚ºäº†ç­è§£åŸç†ï¼Œé‚£å°±ä¾†å¯¦ä½œä¸€å€‹ new å§ï¼</a></li><li><a href="https://blog.csdn.net/blueblueskyhua/article/details/73135938">ä½ ä¸çŸ¥é“çš„javascriptä¹‹Object.create å’ŒnewåŒºåˆ«</a> </li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸Šä¸€ç¯‡çŸ¥é“åŸå‹èˆ‡åŸå‹éˆçš„å…§å®¹&lt;br&gt;å¦‚æœæˆ‘å€‘è¦è®“æ±è¥¿ç¹¼æ‰¿ï¼Œé™¤äº†é€é new å»ºç«‹ç‰©ä»¶ç›´æ¥å¹«æˆ‘å€‘ç¹¼æ‰¿ä¹‹å¤–&lt;br&gt;é‚„æœ‰ &lt;code&gt;Object.setPrototypeOf&lt;/code&gt; ä»¥åŠ &lt;code&gt;Object.create()&lt;/code&gt;  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - Prototype ç‰©ä»¶å°å‘ (III) åŸå‹ &amp; åŸå‹éˆ</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-03/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-03/</id>
    <published>2022-04-19T04:33:30.000Z</published>
    <updated>2022-06-18T13:50:37.233Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JavaScript çš„æ ¸å¿ƒå°±åœ¨åŸå‹ !<br>åŸå‹ä½¿å¾—ç‰©ä»¶éƒ½èƒ½ä½¿ç”¨åœ¨åŸå‹éˆä¸Šçš„å±¬æ€§åŠæ–¹æ³•<br>æœ¬èº«ç‰©ä»¶ä¹Ÿå¯ä»¥å†æ“´å……<br>é€éæœ¬ç¯‡äº†è§£åŸå‹çš„ä½¿ç”¨æ–¹æ³•  </p><span id="more"></span><h2 id="ä»€éº¼æ˜¯-prototype"><a href="#ä»€éº¼æ˜¯-prototype" class="headerlink" title="ä»€éº¼æ˜¯ prototype ?"></a>ä»€éº¼æ˜¯ prototype ?</h2><p><img data-src="https://dsm01pap006files.storage.live.com/y4mZUP0lakeV0ZyTOBA3FOhGoj0nLq4_-h6RClQix2hTtsj-YL9kg-RwmOfya_emwZ1jekhk9jIrt-JrTQQfyiPEwOfYlVWWxlFZHdaAgkONuvg-kxkJgmo67BaKWfhEePd-7sT21E5ITCGSdla3HTIiK8NillkQBfzy2mTCrs5ZtISAl-h5eV-JiE6ySo075Ow?width=946&height=563&cropmode=none" alt="prototype"><br>åƒè€ƒåœ– : <a href="https://ithelp.ithome.com.tw/articles/10194356">é‡æ–°èªè­˜ JavaScript: Day 25 åŸå‹èˆ‡ç¹¼æ‰¿</a></p><p>å¾ 01 ç¯‡çŸ¥é“ prototype å¯ä»¥è®“ä¸åŒçš„ç‰©ä»¶å…±äº«åŸå‹çš„åŒä¸€å€‹æ–¹æ³•æˆ–å±¬æ€§<br>prototype å°±åƒæ˜¯å¾ function ç”¢ç”Ÿçš„é›†è£ç®±<br>è®“ function å»ºç«‹å‡ºä¾†çš„ç‰©ä»¶éƒ½å¯ä»¥æ‹¿åˆ°åŒæ¨£çš„æ±è¥¿  </p><blockquote><p><strong>å‡½å¼ä¹Ÿæ˜¯ç‰©ä»¶</strong>ï¼Œæ‰€ä»¥å¯ä»¥é€é prototype ä¾†æ“´å……æ¯ä¸€å€‹é€éé€™å€‹å‡½å¼æ‰€å»ºæ§‹çš„ç‰©ä»¶</p></blockquote><p>å¥½åƒé›£ä»¥é€£çµï¼Œä¸éæˆ‘å€‘æ™‚æ™‚åˆ»åˆ»éƒ½åœ¨ä½¿ç”¨ prototype çš„æ¦‚å¿µ<br>æœ‰æƒ³éç‚ºä»€éº¼åŸºæœ¬å‹åˆ¥çš„å€¼ (numberã€stringã€bool) å¯ä»¥ <strong>åƒ object ä¸€æ¨£å‘¼è¼ƒæ–¹æ³•ç²å–åˆ°å±¬æ€§</strong>å‘¢ ?</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> str<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ²’éŒ¯ï¼Œå°±æ˜¯é€é prototype åŸå‹æä¾›çš„æ–¹æ³•ä¾†ç¹¼æ‰¿<br>åœ¨ JavaScript å‘¼å«æ–¹æ³•æˆ–å±¬æ€§ä¹‹å‰ï¼Œæœƒé€éåŸºæœ¬å‹åˆ¥åŒ…è£¹å™¨ (Primitive Wrapper)<br>è¢«è½‰å‹ç‚ºè©²é¡åˆ¥çš„ã€Œç‰©ä»¶ã€ï¼Œç”±å°æ‡‰çš„ç‰©ä»¶æä¾›çš„æ–¹æ³•æ˜¯é€éåŸå‹éˆ (prototype chain)<br>è®“æˆ‘å€‘å¯ä»¥å°åŸºæœ¬å‹åˆ¥çš„å€¼å‘¼å«æ–¹æ³•  </p><ul><li>é¡ä¼¼é€™æ¨£  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// str.length æ¨¡æ“¬éç¨‹</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span> <span class="token comment">// è®Šæˆç‰©ä»¶</span>str<span class="token punctuation">.</span>length <span class="token comment">// æ‹¿åˆ°å±¬æ€§</span>str <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// éŠ·æ¯€</span>str <span class="token operator">=</span> <span class="token string">'Hello'</span> <span class="token comment">// æ¢å¾©æˆåŸºæœ¬å‹åˆ¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="prototype-æ€éº¼ä¾†"><a href="#prototype-æ€éº¼ä¾†" class="headerlink" title="prototype æ€éº¼ä¾† ?"></a>prototype æ€éº¼ä¾† ?</h2><p><strong>å‡½å¼å»ºç«‹æ™‚æœƒè‡ªå‹•ç”¢ç”Ÿ prototype å±¬æ€§</strong>ã€‚<br>ç”¢ç”Ÿçš„ç‰©ä»¶ä¸¦â€ä¸â€ä»£è¡¨ç‰©ä»¶çš„ prototype å±¬æ€§å°±æ˜¯é€™å€‹å‡½å¼çš„åŸå‹ç‰©ä»¶<br>è€Œæ˜¯é€é <code>new</code> å‡ºä¾†çš„ç‰©ä»¶æœƒæœ‰ <code>[[Prototype]]</code> çš„éš±è—å±¬æ€§<br>æ˜¯æŒ‡ <strong>å»ºæ§‹å¼</strong> çš„ prototype    </p><blockquote><p><code>constructor.prototype</code>  </p></blockquote><p>ä¸Šé¢çš„æ•˜è¿°å¾ˆä»¤äººæ··äº‚å°å§ ?<br>å…ˆèˆ‰å€‹ä¾‹å­  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> rosa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Rosa'</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Rosa</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>rosa</code> æ˜¯å¾ Person å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶  </p><blockquote><p>æ‰€ä»¥ rosa çš„åŸå‹æ˜¯ Person</p></blockquote><p>å›åˆ°ç¬¬ä¸€å¥è©±<br><strong>å‡½å¼å»ºç«‹æ™‚æœƒè‡ªå‹•ç”¢ç”Ÿ prototype å±¬æ€§</strong></p><p>å°è‘— <code>Person</code> å‡½å¼å– prototype ï¼Œç¢ºå¯¦æ˜¯æœ‰çš„   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// Person æœ¬èº«</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>prototype è®“ rosa å¯ä»¥ç›´æ¥æ‹¿åˆ° <code>Person</code> è£¡é¢çš„æ–¹æ³• (getName)   </p><p>é‚£ç¬¬äºŒå¥æ˜¯ä»€éº¼æ„æ€ ?<br>è©¦è‘—è®“ <code>rosa</code> å‘¼å« <code>toString()</code>ï¼Œä½†æ˜¯ Person ä¸¦æ²’æœ‰é€™å€‹æ–¹æ³•å‘€ ?!<br>æˆ‘å€‘èªªé rosa çš„åŸå‹æ˜¯ Person  </p><blockquote><p>ä½† <strong>ä¸</strong> ä»£è¡¨å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶ (rosa) çš„ prototype å±¬æ€§å°±æ˜¯é€™å€‹å‡½å¼ (Person) çš„åŸå‹ç‰©ä»¶       </p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">lgo</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [object Object]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>rosa é€™è£¡å–ä¾†çš„å±¬æ€§æˆ–æ–¹æ³•æ˜¯ä¾†è‡ª <code>Object.prototype</code> å‚³ä¸‹ä¾†çš„  </p><p>æ¥è‘—ç¬¬ä¸‰å¥ <strong>å»ºæ§‹å¼</strong> çš„ prototype æ˜¯ä»€éº¼æ„æ€ ?<br>è©¦è‘—å° <code>rosa</code> å– prototype<br>æ–°æ‰‹ä¸€é–‹å§‹æœƒä»¥ç‚º <code>rosa</code> çš„ prototype æ˜¯ç­‰æ–¼ <code>Person</code> çš„ prototype<br>ç‰¹åˆ¥è¦ææ¸…æ¥šé€™è£¡çš„ prototype æ˜¯æŒ‡ä»€éº¼(æˆ‘ä¸€é–‹å§‹ä¹Ÿææ··äº†)   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span>prototype <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å›åˆ°ç¬¬ä¸€å¥ï¼Œå›æƒ³ <code>.prototype</code> æ˜¯èª°ç”¢ç”Ÿçš„ ?<br>å°ï¼Œæ˜¯ <strong>å‡½å¼</strong><br>é‚£ rosa ç‰©ä»¶æ˜¯é€éå»ºæ§‹å¼çš„æ–¹å¼è€Œä¾†<br>prototype æ˜¯éš±è—å±¬æ€§ï¼Œæ²’è¾¦æ³•é€éå»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶ç›´æ¥å–å¾—   </p><p><img data-src="https://dsm01pap006files.storage.live.com/y4mL7f71rE-gVfp4ze955AsP5mGlQNR1PYAJH4jUShpBHgc6U4Wq0pK2oYpDCsmDsGL0r2AxpMx3WXujkLUwZtgTEX_C1HPGIei28YZq0VvVXXwaTb7DT7K2RM-5ywv0SCz41iHsWPYdEp4lRb2YP19GWxtllx_EEBLXmJXO65f5jsuWSyQcLed8gq4Xo3YG0e3?width=692&height=620&cropmode=none" alt="è—åœ¨ contructor">  </p><h2 id="å–å¾—ç‰©ä»¶çš„-prototype"><a href="#å–å¾—ç‰©ä»¶çš„-prototype" class="headerlink" title="å–å¾—ç‰©ä»¶çš„ prototype"></a>å–å¾—ç‰©ä»¶çš„ prototype</h2><p>æ—¢ç„¶ä¸èƒ½ç›´æ¥é€é <code>rosa.prototype</code> å–å¾—åŸå‹<br>å¦‚æœæˆ‘å€‘è¦çŸ¥é“ rosa æ˜¯ç¹¼æ‰¿èª°çš„ prototype å¯ä»¥é€éä¸‰ç¨®çš„æ–¹å¼</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>rosa<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ç¾åœ¨æ¯”è¼ƒå¥½çš„æ‹¿åˆ°çš„æ–¹æ³•</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// å¾å»ºæ§‹å¼æ‹¿åˆ° [[Prototype]] çš„å€¼</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// åŸæœ¬å„å®¶ç€è¦½å™¨å¯¦ä½œï¼Œå¾Œä¾† ES6 ä¿ç•™çš„æ–¹æ³•</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>rosa<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> rosa<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> rosa<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŸå‹éˆ-Prototype-Chain"><a href="#åŸå‹éˆ-Prototype-Chain" class="headerlink" title="åŸå‹éˆ Prototype Chain"></a>åŸå‹éˆ Prototype Chain</h2><p>åŸå‹å¯ä»¥è®“æœ¬ä¾† <strong>æ²’æœ‰æŸå±¬æ€§çš„ç‰©ä»¶å»å­˜å–å…¶ä»–ç‰©ä»¶çš„å±¬æ€§</strong>    </p><h3 id="proto-æºé€šçš„åŸå‰‡"><a href="#proto-æºé€šçš„åŸå‰‡" class="headerlink" title="__proto__ : æºé€šçš„åŸå‰‡"></a>__proto__ : æºé€šçš„åŸå‰‡</h3><p>å¦‚æœæœ¬èº«ç‰©ä»¶æ²’æœ‰å±¬æ€§æˆ–æ–¹æ³•ä½¿ç”¨ï¼Œå¯ä»¥é€éåŸå‹éŠ (prototype chain) ä¾†å–å¾—<br>é‚£æ˜¯æ€éº¼å‚³çš„å‘¢ ?  </p><p>åŸæœ¬ JavaScript æ²’æœ‰æä¾›æ¨™æº–æ–¹æ³•ç›´æ¥å­˜å–ç‰©ä»¶çš„ <code>[[Prototype]]</code>ã€‚<br><code>__proto__</code> æ˜¯ç€è¦½å™¨å¯¦ä½œçš„çš„ï¼Œä¸¦é EMCAScript çš„æ¨™æº–ï¼Œä¸æ˜¯æ‰€æœ‰çš„ç’°å¢ƒéƒ½æœ‰é€™å€‹å€¼ã€‚  </p><blockquote><p>ES5 ä»¥å¾Œçš„æ˜¯ä½¿ç”¨ <code>Object.getPrototypeOf()</code><br>ES6 ç‚ºäº†å‘ä¸‹å…¼å®¹ï¼Œ<code>__proto__</code> ä¹Ÿæ˜¯æ‰¿èªçš„ï¼Œä½†ç’°å¢ƒçš„ä¸åŒæ”¯æ´åº¦ä¸åŒï¼Œé‚„æ˜¯ç”¨ <code>getPrototypeOf</code><br><code>__proto__</code> æ˜¯ <code>[[Prototype]]</code> åº•ä¸‹çš„å±¬æ€§ï¼Œå±¬æ–¼ setter/getter</p></blockquote><p><code>__proto__</code>Â é€™å€‹ç‰¹æ®Šå±¬æ€§æˆ–è€…æ˜¯Â <code>Object.getPrototypeOf()</code>Â éƒ½æ˜¯å–å¾—æŸå€‹ç‰©ä»¶çš„åŸå‹ç‰©ä»¶Â <code>[[Prototype]]</code>Â çš„æ–¹å¼ã€‚   </p><p>å®˜æ–¹æ¯”è¼ƒå»ºè­°ä½¿ç”¨ <code>Object.getPrototypeOf()</code>ï¼Œå› ç‚º <code>__proto__</code> æ¯”è¼ƒè€—æ•ˆèƒ½</p><p>é™¤äº†æ‹¿åˆ°ç‰©ä»¶åŸå‹çš„ prototypeï¼Œ<br>é‚„å¯ä»¥é€é <code>.__proto__</code> çœ‹åŸå‹å€‘å¦‚ä½•æºé€š      </p><p><strong>ç¯„ä¾‹</strong>  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> says meow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> lily <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'lily'</span><span class="token punctuation">)</span>lily<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> Bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">)</span>Bob<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¨¡æ“¬æºé€š"><a href="#æ¨¡æ“¬æºé€š" class="headerlink" title="æ¨¡æ“¬æºé€š"></a>æ¨¡æ“¬æºé€š</h3><p>æƒ³åŸ·è¡Œ <code>lily.hello()</code><br>æœƒä¾ç…§é€™æ¨£çš„é †åºå°‹æ‰¾     </p><ol><li>æ‰¾ lily æœ¬èº«æ˜¯ä¸æ˜¯æœ‰ hello function ?<br> ğŸ‘‰ æ²’æœ‰ï¼Œå¾€ä¸Šä¸€å±¤æ‰¾</li><li>æ‰¾ <code>lily.__proto__</code> æ˜¯ä¸æ˜¯æœ‰ hello ?<br> ğŸ‘‰ æ²’æœ‰çš„è©±ï¼Œå†å¾€ä¸Šä¸€å±¤æ‰¾<br> çŸ¥é“ <strong>lily._<em>proto_</em> = Cat.prototype</strong></li><li>æ‰¾ <code>lily.__proto__.__proto__</code> æ˜¯ä¸æ˜¯æœ‰ hello ?<br> =&gt; <code>lily.__proto__.__proto__ = Cat.prototype.__proto__</code>ã€‚<br> =&gt; <code>lily.__proto__.__proto__  = Object.prototype</code></li></ol><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾€ä¸Šæ‰¾åƒæ˜¯ç”¨éˆçµçš„æ–¹å¼ï¼Œæ‰€ä»¥æ‰ç¨± prototype chain<br>æˆ‘å€‘æ‰¾åˆ° Object.prototype å°±åœæ­¢äº†</p><blockquote><p>é‚£ <code>Object.prototype.__proto__</code> å‘¢?</p></blockquote><h3 id="æœ€é ‚å±¤çš„åŸå‹ç‰©ä»¶-Object-prototype"><a href="#æœ€é ‚å±¤çš„åŸå‹ç‰©ä»¶-Object-prototype" class="headerlink" title="æœ€é ‚å±¤çš„åŸå‹ç‰©ä»¶: Object.prototype"></a>æœ€é ‚å±¤çš„åŸå‹ç‰©ä»¶: Object.prototype</h3><p>å¾€ä¸Šæ‰¾ <code>__proto__</code>ï¼Œä»€éº¼æ™‚å€™æ‰æœƒåœæ­¢ ?<br>æœƒç™¼ç¾ <code>Object.prototype.__proto__</code> ç­‰æ–¼ <code>null</code>ï¼Œä»£è¡¨ Object æ˜¯æœ€é ‚å±¤äº†ã€‚    </p><p>åœ¨ JavaScript å¹¾ä¹æ‰€æœ‰çš„ç‰©ä»¶ (ç’°å¢ƒå®¿ä¸»ç‰©ä»¶é™¤å¤–)æœƒé †è‘—åŸå‹éŠæ‰¾åˆ°æœ€é ‚å±¤<br><code>Object.prototype</code>Â æ‰åœæ­¢ï¼Œå› ç‚ºÂ <code>Object.prototype</code>Â æ˜¯ JavaScript æ‰€æœ‰ç‰©ä»¶çš„èµ·æºã€‚</p><p>åœ¨Â <code>Object.prototype</code>Â æä¾›çš„æ‰€æœ‰æ–¹æ³•ï¼Œåœ¨ JavaScript çš„æ‰€æœ‰ç‰©ä»¶çš„å¯ä»¥å‘¼å«å®ƒã€‚    </p><ul><li><code>Object.prototype.hasOwnProperty()</code> : æ˜¯å¦ç‚ºè‡ªå·±çš„å±¬æ€§æˆ–æ–¹æ³•</li><li><code>Object.prototype.toString()</code> : è½‰å‹æˆå­—ä¸²</li><li><code>Object.prototype.valueOf()</code> : å–å¾— <strong>åŸºæœ¬å‹åˆ¥</strong> çš„å€¼</li></ul><p>å¹¾ä¹æ‰€æœ‰çš„å€¼å¯ä»¥ä½¿ç”¨çš„ã€‚<br>å³ä¾¿å»ºç«‹ç‰©ä»¶æ™‚ï¼Œæ²’æœ‰å®šç¾©é€™äº›æ–¹æ³•ï¼Œä½†åŸºæ–¼åŸå‹éˆçš„ç¹¼æ‰¿ï¼Œæˆ‘å€‘é‚„æ˜¯å¯ä»¥å‘¼å«é€™äº›æ–¹æ³•ã€‚</p><h2 id="instanceof-æ˜¯å¦åœ¨ç‰©ä»¶çš„åŸå‹éˆä¸Š"><a href="#instanceof-æ˜¯å¦åœ¨ç‰©ä»¶çš„åŸå‹éˆä¸Š" class="headerlink" title="instanceof : æ˜¯å¦åœ¨ç‰©ä»¶çš„åŸå‹éˆä¸Š"></a>instanceof : æ˜¯å¦åœ¨ç‰©ä»¶çš„åŸå‹éˆä¸Š</h2><p>instanceof é™¤äº†æª¢æŸ¥ <code>constructor.prototype</code> æ˜¯ä¸æ˜¯åœ¨ç‰©ä»¶çš„åŸå‹éˆä¸Š<br>ä¹Ÿèƒ½æª¢æŸ¥ <strong>è¤‡åˆå¼ç‰©ä»¶çš„åŸºæœ¬å‹åˆ¥</strong>  </p><ul><li><p>æª¢æŸ¥åŸºæœ¬å‹åˆ¥</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment">// 100</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span> <span class="token comment">// 'object'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 100ï¼ŒåŸºæœ¬å‹åˆ¥çš„å€¼</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//'number'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>valueOf()</code> å¯ä»¥æ‹¿åˆ°åŸºæœ¬å‹åˆ¥çš„å€¼   </p></li><li><p>æª¢æŸ¥æ˜¯ä¸æ˜¯åœ¨åŸå‹éˆä¸Šï¼ŒåŒç†ä½¿ç”¨ <code>class</code> çš„çµæ§‹ä¹Ÿå¯ä»¥æª¢æŸ¥    </p></li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> rosa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rosa <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="ç‰©ä»¶æœ¬èº«-v-s-åŸå‹éˆ-å‡ºç¾åŒåå±¬æ€§ç‰©ä»¶"><a href="#ç‰©ä»¶æœ¬èº«-v-s-åŸå‹éˆ-å‡ºç¾åŒåå±¬æ€§ç‰©ä»¶" class="headerlink" title="ç‰©ä»¶æœ¬èº« v.s åŸå‹éˆ : å‡ºç¾åŒåå±¬æ€§ç‰©ä»¶ ?"></a>ç‰©ä»¶æœ¬èº« v.s åŸå‹éˆ : å‡ºç¾åŒåå±¬æ€§ç‰©ä»¶ ?</h2><p>ç‰©ä»¶å¯¦é«”èˆ‡åŸå‹å…·æœ‰ç›¸åŒçš„å±¬æ€§æˆ–æ–¹æ³•  </p><blockquote><p><strong>å„ªå…ˆå­˜å–è‡ªå·±çš„å±¬æ€§æˆ–æ–¹æ³•</strong>ï¼Œå¦‚æœæ²’æœ‰æ‰æœƒå†é †è‘—åŸå‹éˆå‘ä¸Šå°‹æ‰¾ã€‚</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Yo!"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token string">"Hi!"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Yo!</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  ## åŸå‹çš„æ–¹æ³•æ“´å……class ç´šåˆ¥çš„æ“æœ‰ extend å¾€ä¸‹æ“´å……  å¯¦ä¾‹å‡ºå¯¦é«”å¾Œï¼Œæœƒå°‹æ‰¾å­˜åœ¨çš„åŸå‹ï¼Œä¸¦ä¸”ä¸€å±¤å±¤å¾€ä¸Šæ‰¾ã€‚å¦‚æœè¦æ›¿åŸå‹å®šç¾©å…¶ä»–çš„æ–¹æ³•å¯ä»¥é€™æ¨£å¯«    </span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>javascript<span class="token comment">// åŸå§‹</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> says meow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// å®šåœ¨æœ€ä¸Šå±¤ï¼Œè®“å¾€ä¸‹çš„éƒ½å¯ä»¥ä½¿ç”¨</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> says meow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Object æ˜¯æœ€é ‚å±¤ï¼Œå…¶å¯¦åœ¨é€™é‚Šå®šç¾©ä¹Ÿå¯ä»¥ã€‚<br>å¦‚æœä¸æ˜¯åŒä¸€é¡å‹éƒ½éœ€è¦ä½¿ç”¨ï¼Œé€™ç¨®æ–¹æ³•ä¹Ÿå¯ä»¥å°è‡´å¥‡æ€ªçš„å•é¡Œç™¼ç”Ÿ    </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'lol'</span><span class="token punctuation">)</span><span class="token keyword">let</span> arr<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 'lol'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¯ä¸€å€‹ array ç”¢ç”Ÿæ™‚å·²ç¶“è¢«åŠ ä¸Š <code>&#39;lol&#39;</code><br>ä½¿ç”¨ä¸Šåˆæ³•ï¼Œä½†ä¸æ˜¯ä¸€å€‹å¥½æ“ä½œ  </p><p>ä»¥ä¸Šå¦‚æœæœ‰èª¤ï¼Œæ­¡è¿æŒ‡æ•™ QQ</p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://ithelp.ithome.com.tw/articles/10194356">é‡æ–°èªè­˜ JavaScript: Day 25 åŸå‹èˆ‡ç¹¼æ‰¿</a></li><li><a href="https://lidemy.com/courses/enrolled/390599">JS201 é€²éš JavaScriptï¼šé‚£äº›ä½ ä¸€ç›´æä¸æ‡‚çš„åœ°æ–¹</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;JavaScript çš„æ ¸å¿ƒå°±åœ¨åŸå‹ !&lt;br&gt;åŸå‹ä½¿å¾—ç‰©ä»¶éƒ½èƒ½ä½¿ç”¨åœ¨åŸå‹éˆä¸Šçš„å±¬æ€§åŠæ–¹æ³•&lt;br&gt;æœ¬èº«ç‰©ä»¶ä¹Ÿå¯ä»¥å†æ“´å……&lt;br&gt;é€éæœ¬ç¯‡äº†è§£åŸå‹çš„ä½¿ç”¨æ–¹æ³•  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - class ç‰©ä»¶å°å‘ (II) ç¹¼æ‰¿</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-02/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-02/</id>
    <published>2022-04-19T04:33:24.000Z</published>
    <updated>2022-06-18T13:50:43.735Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡æˆ‘å€‘æåˆ° class åƒæ˜¯å¹«æˆ‘å€‘è£½ä½œè—åœ–<br>æœ‰è»Šå­åŸºæœ¬æ§‹é€ çš„è—åœ–<br>æ˜¯ä¸æ˜¯èƒ½é€éè—åœ–èƒ½åšå‡ºå…¶ä»–è»Šç¨®çš„è—åœ–å‘¢ ?  </p><p>å¯ä»¥ï¼Œå°±æ˜¯ç¹¼æ‰¿ !</p><span id="more"></span><h2 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h2><p>è¦è®“å­ç‰©ä»¶æ“æœ‰çˆ¶ç‰©ä»¶çš„å…§å®¹å¯ä»¥é€é <code>extends</code>  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">newClass</span> <span class="token keyword">extends</span> <span class="token class-name">OldClass</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>ç¯„ä¾‹ :</strong><br>Dog ç¹¼æ‰¿ Animal    </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> makes a noise.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span><span class="token function">sit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> sits.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'Mitzie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>d<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 'Mitzie barks.'</span>d<span class="token punctuation">.</span><span class="token function">sit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Mitzie sits.'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Dog ç¹¼æ‰¿ Animal çš„æ–¹æ³•äº†ï¼Œå› æ­¤åœ¨ Dog å‘¼å« speak æ˜¯å¯ä»¥çš„ã€‚</p><p>extends èƒŒå¾Œæœƒå¹«æˆ‘å€‘é€£æ¥ç‰©ä»¶çš„ prototype<br>ä½¿æˆ‘å€‘å¯ä»¥å–å¾—çˆ¶ç‰©ä»¶çš„æ–¹æ³•æˆ–å±¬æ€§ã€‚  </p><blockquote><p>JavaScript ä½¿ç”¨ prototyped-based ä¸èƒ½è®“ç‰©ä»¶ä¸€æ¬¡ç¹¼æ‰¿å…©ç¨®<br>ä½†æœ‰ä¸€å€‹æ–¹æ³•å« <code>mixin</code> åˆ©ç”¨æ‹·è²çš„æ¦‚å¿µé”åˆ°ç›®çš„</p></blockquote><p>å› ç‚ºæˆ‘é‚„ä¸æœƒï¼Œå…ˆæ“±è‘— QQï¼Œå¾…è£œ<br>åƒè€ƒ : </p><ul><li><a href="https://zh.javascript.info/mixins">Mixin æ¨¡å¼</a></li></ul><h2 id="super"><a href="#super" class="headerlink" title="super()"></a>super()</h2><p>å¦‚æœè¦åœ¨ä¸€é–‹å§‹å°± <strong>å‘¼å«çˆ¶å±¤çš„æ–¹æ³•</strong>ï¼Œå¿…é ˆåŠ å…¥<code>super()</code>ï¼Œä»£è¡¨åœ¨ç¹¼æ‰¿çš„å­å±¤åˆå§‹åŒ–æ™‚ï¼Œå°‡èˆŠæ•¸å€¼è“‹éå»ï¼Œè¦å‚³é€²çš„åƒæ•¸ä¹Ÿè¦å¸¶å…¥ã€‚  </p><blockquote><p>ç°¡å–®ä¾†èªªï¼Œ<code>super</code> å°±æ˜¯ä¸Šä¸€å±¤çš„ <code>constructor</code>  </p></blockquote><ul><li>æ²’æœ‰ <code>super()</code> çš„æƒ…æ³ä¸‹ï¼Œæƒ³åœ¨æ–°ç‰©ä»¶ç”Ÿæˆæ™‚å‘¼å«åŸå‹æ–¹æ³•çš„ <code>speak()</code>  </li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> makes a noise.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å»ºæ§‹æ™‚åœ¨é€™è£¡å‘¼å«åŸå‹çš„æ–¹æ³•  </span><span class="token punctuation">&#125;</span><span class="token function">sit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> sits.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'Mitzie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>d<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±æœƒè·‘å‡º </p><pre class="line-numbers language-none"><code class="language-none">Must call super constructor in derived class before accessing &#39;this&#39; or returning from derived constructor<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœƒæç¤ºä½ è¦è¨˜å¾—åŠ å…¥ superï¼Œä¸ç„¶ <code>this</code> ä½¿ç”¨æ™‚æœƒå‡ºç¾å•é¡Œ  </p><ul><li>åŠ ä¸Š super ä»¥åŠè¦åˆå§‹åŒ–çš„å€¼<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> makes a noise.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å»ºæ§‹æ™‚åœ¨é€™è£¡å‘¼å«åŸå‹çš„æ–¹æ³•  </span><span class="token punctuation">&#125;</span><span class="token function">sit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> sits.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'Mitzie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>d<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Mitzie makes a noise.'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>å¦‚æœ super è£¡é¢æ²’æœ‰å‚³å…¥ <code>name</code><br><code>this</code> æ˜¯ Dog æœ¬èº«ï¼Œä½†æ˜¯ä¸å…·æœ‰ <code>name</code> é€™å€‹å€¼ï¼Œå°±æœƒæ˜¯ <code>undefined</code>   </li></ul><h2 id="æ‡‰ç”¨"><a href="#æ‡‰ç”¨" class="headerlink" title="æ‡‰ç”¨"></a>æ‡‰ç”¨</h2><p>ç¹¼æ‰¿å¯ä»¥ç”¨åœ¨æœ‰ <strong>å…±åŒå±¬æ€§</strong> çš„æ™‚å€™ï¼Œæƒ³å†åŠ ä¸€äº›é™„åŠ åŠŸèƒ½ï¼Œé€éç¹¼æ‰¿ä¸ç”¨å®Œå…¨é‡å¯«ã€‚ </p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul><li><a href="https://lidemy.com/courses/enrolled/390599">JS201 é€²éš JavaScriptï¼šé‚£äº›ä½ ä¸€ç›´æä¸æ‡‚çš„åœ°æ–¹</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘å€‘æåˆ° class åƒæ˜¯å¹«æˆ‘å€‘è£½ä½œè—åœ–&lt;br&gt;æœ‰è»Šå­åŸºæœ¬æ§‹é€ çš„è—åœ–&lt;br&gt;æ˜¯ä¸æ˜¯èƒ½é€éè—åœ–èƒ½åšå‡ºå…¶ä»–è»Šç¨®çš„è—åœ–å‘¢ ?  &lt;/p&gt;
&lt;p&gt;å¯ä»¥ï¼Œå°±æ˜¯ç¹¼æ‰¿ !&lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="OOP" scheme="https://blog.rosa.tw/tags/OOP/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - class ç‰©ä»¶å°å‘ (I) åˆæ¢ OOP</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-01/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Object-oriented-programming-01/</id>
    <published>2022-04-19T04:33:15.000Z</published>
    <updated>2022-06-18T13:50:52.041Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JavaScript æ˜¯ç‰©ä»¶å°å‘çš„èªè¨€<br>ä½†è·Ÿå…¶ä»–çš„ç‰©ä»¶å°å‘èªè¨€ä½¿ç”¨ class æœ‰é»ä¸åŒ   </p><p>æ© ? Javascript ä¸æ˜¯ä¹Ÿç”¨ class å— ?<br>ä¸ï¼Œ<code>class</code> æ˜¯èªæ³•ç³–ï¼Œåˆ° ES6 æ‰å•ä¸–<br>çœŸæ­£çš„ JavaScript æ˜¯ä½¿ç”¨ prototype ä¾†é”æˆç‰©ä»¶å°å‘  </p><p>æœ¬ç³»åˆ—å°‡å¾ç¾ä»£é–‹ç™¼ç”¨çš„ <code>class</code> ä¾†äº†è§£<br>å†åˆ°èªè­˜çœŸçš„åŸæ±åŸå‘³ <code>prototype</code> çš„ä½œæ³•  </p><span id="more"></span><h2 id="class-çš„ç‰©ä»¶å°å‘"><a href="#class-çš„ç‰©ä»¶å°å‘" class="headerlink" title="class çš„ç‰©ä»¶å°å‘"></a>class çš„ç‰©ä»¶å°å‘</h2><p><code>Object-oriented programming</code> ç°¡ç¨± OOP<br>ç‰©ä»¶å°å‘çš„å„ªé»åœ¨æ–¼æ›´ <strong>ç›´è¦º</strong>ï¼Œæ›´æ¨¡çµ„åŒ–  </p><p>ES6 æ˜¯ä½¿ç”¨ class<br>ES5 ä»¥å‰ä¸¦æ²’æœ‰ classï¼Œè€Œæ˜¯ä½¿ç”¨ <code>prototype</code> (åŸå‹) çš„æ–¹å¼ã€‚<br><code>class</code> åƒæ˜¯è—åœ–ï¼Œè€Œ <code>new</code> å‰‡æ˜¯æŠŠè—åœ–è£¡çš„æ±è¥¿å¯¦ä¾‹å‡ºä¾†  </p><blockquote><p>é¡åˆ¥å‹çš„ç‰©ä»¶éƒ½æ˜¯<strong>å¤§å¯«é–‹é ­</strong>ï¼Œé€™æ˜¯å¸¸ç”¨çš„å¯«æ³•  </p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å®šç¾©è²“</span><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">&#123;</span><span class="token comment">// æ¯éš»è²“æœ‰åå­—</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">&#125;</span><span class="token comment">// æ¯éš»è²“æ‰“æ‹›å‘¼æœƒå–µå–µå«</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> says meow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// å»ºç«‹ä¸€éš»å« lily çš„è²“ï¼ŒæŠŠå®ƒå­˜åœ¨ lily é€™å€‹è®Šæ•¸</span><span class="token keyword">let</span> lily <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'lily'</span><span class="token punctuation">)</span>lily<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// lily says meow</span><span class="token keyword">let</span> bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'bob'</span><span class="token punctuation">)</span>bob<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// bob says meow</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><code>class</code> : ç‰©ä»¶çš„è—åœ–<br> è£¡é¢çš„æ¶µå¼ä¸éœ€è¦å¯« <code>function</code> çš„å­—ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions#description">function shorthand</a>  </li><li><code>new</code> : æŠŠè—åœ–å¯¦åšå‡ºä¾†ï¼Œæ”¾åˆ°è‡ªè¨‚ç¾©è®Šæ•¸ä¸­ï¼Œä¹‹å¾Œé€™å€‹è®Šæ•¸ä¹Ÿæ“æœ‰è—åœ–åŒ…å«çš„åŠŸèƒ½ã€‚<br> ç”¨ <code>.</code> (dot) é€£æ¥ï¼Œåƒ <code>object</code> ä¾†å‘¼å«ã€‚  </li><li><code>new XXX(å»ºæ§‹å­åƒæ•¸)</code> : å»ºæ§‹å­æ˜¯ class å…§éƒ¨çš„æ¶µå¼ï¼Œå¯ä»¥åŠ å…¥åƒæ•¸ï¼Œé¡ä¼¼åˆå§‹åŒ–ã€‚<br> å°æ‡‰  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//é€™æ˜¯å»ºæ§‹å­</span><span class="token function">construtor</span><span class="token punctuation">(</span><span class="token parameter">arguments</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>arguments <span class="token operator">=</span> arguments<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>constructor</code> : å¯ä»¥çœ‹åšåŸºæœ¬è³‡æ–™(è¨­å®šæª”)ï¼Œ<code>this.name = name</code><br>æŠŠ new å¸¶å…¥çš„å¼•æ•¸ä½œç‚ºå…§éƒ¨å»ºæ§‹å­åƒæ•¸ä½¿ç”¨ã€‚</p></blockquote></li><li><code>this</code> : åˆ†æˆ class å…§éƒ¨çš„ <code>this</code> èˆ‡å¤–éƒ¨çš„ <code>this</code>ã€‚é€™é‚Šè‘—é‡å…§éƒ¨çš„ thisã€‚<br> <code>this</code> æ˜¯å°æ‡‰è¢«å¯¦é«”å‡ºä¾†çš„ä¸»é«”ã€‚<br> lily è¢«æŒ‡å‘å«åš lily çš„è²“<br> åä¹‹ bob ä¹Ÿæ˜¯ï¼Œä¸¦ä¸æ˜¯æŒ‡åŒä¸€å€‹ç‰©ä»¶<br> ä½†æ˜¯å…§éƒ¨æ–¹æ³•æ˜¯å…±ç”¨åŒä¸€å€‹    <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lily<span class="token punctuation">.</span>hello <span class="token operator">===</span> Bob<span class="token punctuation">.</span>hello<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><p>å°æ–¼å·²ç¶“å»ºç«‹çš„ç‰©ä»¶å†ä¿®æ”¹å…§éƒ¨å»ºæ§‹çš„å€¼éå¸¸ä¸å»ºè­°  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">lily<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"rosa"</span> <span class="token punctuation">(</span>ğŸ‘<span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é›–ç„¶å¯ä»¥ä¿®æ”¹æ‰å…§éƒ¨çš„ <code>this.name</code> çš„å€¼<br>ä¸€èˆ¬ä¾†èªªåœ¨å»ºç«‹å¯¦é«”æ™‚éƒ½æœƒè¨­å®šå¥½ï¼Œè¼ƒå°‘å†ç›´æ¥é€éå€‹åˆ¥æ›´æ”¹     </p><h2 id="æ²’æœ‰-class-çš„ç‰©ä»¶å°å‘"><a href="#æ²’æœ‰-class-çš„ç‰©ä»¶å°å‘" class="headerlink" title="æ²’æœ‰ class çš„ç‰©ä»¶å°å‘"></a>æ²’æœ‰ class çš„ç‰©ä»¶å°å‘</h2><p>åœ¨ ES5 ä¸¦æ²’æœ‰ class çš„åšæ³•<br>å¦‚æœæ²’æœ‰ä½¿ç”¨ prototype çš„å¯«æ³•<br>æˆ‘å€‘å¯ä»¥é€é function ä¾†å»ºæ§‹   </p><blockquote><p>function ä¹Ÿæ˜¯ç‰©ä»¶ï¼Œæ‰€ä»¥å¯ä»¥é€é <code>.</code> æ‹¿åˆ°å±¬æ€§æˆ–æ–¹æ³•  </p></blockquote><ul><li>æ”¹å¯«ä¸Šé¢çš„ Cat class  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// ç”¨ _ (dash) é€šå¸¸æŒ‡è¢«å°è£åœ¨å‡½å¼å…§çš„è®Šæ•¸ï¼Œé¡ä¼¼ç§æœ‰è®Šæ•¸ï¼Œä¸€èˆ¬ä¸æœƒç›´æ¥ä¿®æ”¹</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">,</span>    <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> says meow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> Lily <span class="token operator">=</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token string">"Lily"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Lily<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> Bob <span class="token operator">=</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Bob<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lily<span class="token punctuation">.</span>hello <span class="token operator">===</span> Bob<span class="token punctuation">.</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>è®“ç‰©ä»¶èƒ½å‘¼å«æ–¹æ³•ç”¨ <code>function</code> å›å‚³ function çš„æ–¹å¼<br>ä½†æ˜¯é€™å€‹æ–¹æ³• <strong>éå¸¸æ¶ˆè€—è¨˜æ†¶é«”</strong><br>æ¯ä¸€å€‹ç”¢ç”Ÿçš„ function éƒ½æ˜¯ä¸åŒçš„ function  </li></ul><h2 id="å°æ¯”åœ–"><a href="#å°æ¯”åœ–" class="headerlink" title="å°æ¯”åœ–"></a>å°æ¯”åœ–</h2><p><img data-src="https://dsm01pap006files.storage.live.com/y4mPsTnRBXXRDKUTn4h4YIRTBAE1Q3K4imjKAv-NaRLxF9KjYvNc3TJj5u-GvDWoZUpm_TBcByzdTcbSFqiAJtRNy43xJRnNoug9RKxYtHqxvCm-JrazXLtBM82gThGBaH8-SjTQbaFr0zZr4tGF2CuwLIl0u7I3soTI3iJ8usyN9oWE1SV6GyXIBp3snhf2Ply?width=1024&height=325&cropmode=none" alt="å³ : ES5 ï¼Œå·¦ : ES6"></p><p>å³é‚Šå› ç‚ºæ¯ä¸€å€‹å¯¦é«”éƒ½æ˜¯é‡æ–°å‰µå»ºä¸€å€‹æ–°ç‰©ä»¶æ–¹æ³•ï¼Œæ˜æ˜è¦å‘¼å«çš„æŒ‡å‘å¯¦é«”æ˜¯åŒä¸€å€‹è€Œå·²ã€‚<br>æ”¹å–„é€™éƒ¨åˆ†æœƒä½¿ç”¨åˆ° <code>prototype</code>ï¼Œè®“å»ºæ§‹çš„ç‰©ä»¶éƒ½æœ‰å…±åŒçš„æ–¹æ³•èˆ‡å±¬æ€§  </p><ul><li>æœ‰ç„¡ä½¿ç”¨ prototype çš„å¯«æ³•  </li></ul><p><img data-src="https://dsm01pap006files.storage.live.com/y4meCfDywgqAcUJCJFA07OVsJ4OvfDl-Qu_nPbSoDEocZ_v0aTe19CwejVfn_H2ZHF8PR5mb1xI4pjAwUuAQLb-NdFX5VB-_AmcjbZbIrfTn8wy1Cf5im0Lr8--yFtVkM8wsSdEd-N4TO9cPP64dTTXfH0td0OWI8XuyKow6jmPGLxam61-1dH2JWOpXzMFCDg3?width=1024&height=308&cropmode=none" alt="å·¦ : function ç›´æ¥å›å‚³ç‰©ä»¶ï¼Œå³ : é€é prototype"></p><p>æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ç”¢ç”Ÿçš„ç‰©ä»¶ <strong>æ˜¯ä¸æ˜¯å…±ç”¨åŒä¸€å€‹æ–¹æ³•</strong><br>å³é‚Šçš„é€é prototype æ–¹æ³•æ˜¯éƒ½æŒ‡å‘åŒä¸€å€‹  </p><p>å»ºç«‹ç‰©ä»¶æ™‚å³é‚Šæ˜¯ä½¿ç”¨äº† <code>new</code>ï¼Œå¹«å°‡ç‰©ä»¶çš„åŸå‹ç¶åœ¨å»ºæ§‹å‡½å¼ä¸Š  </p><h2 id="new-è—åœ–çš„å¯¦ä½œ"><a href="#new-è—åœ–çš„å¯¦ä½œ" class="headerlink" title="new : è—åœ–çš„å¯¦ä½œ"></a>new : è—åœ–çš„å¯¦ä½œ</h2><p>new åˆ°åº•åšäº†ä»€éº¼æ˜¯å‘¢ ? </p><ul><li>new ä¸ new ?  </li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ç­‰åŒæ–¼ class çš„ construtor</span><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">&#125;</span><span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">buy</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">you buy a new </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> toyota <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">'toyota'</span><span class="token punctuation">)</span>toyota<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> honda <span class="token operator">=</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token string">'honda'</span><span class="token punctuation">)</span> <span class="token comment">// éŒ¯èª¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ²’ new æœƒå‡ºç¾ <code>Class constructor Car cannot be invoked without &#39;new&#39;</code><br>ä»£è¡¨æ²’æœ‰åˆå§‹åŒ–ã€‚</p><h3 id="è¤‡ç¿’ä¸€ä¸‹-call"><a href="#è¤‡ç¿’ä¸€ä¸‹-call" class="headerlink" title="è¤‡ç¿’ä¸€ä¸‹ call"></a>è¤‡ç¿’ä¸€ä¸‹ call</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//é€™é‚Šå°å‡ºçš„ this æ˜¯å…¨åŸŸç‰©ä»¶  </span><span class="token function">hello</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span> <span class="token comment">//123ï¼Œthis è®Šæˆå‚³é€²å»çš„æ±è¥¿</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>.call</code> æ˜¯å‘¼å«å‡½å¼çš„å¦ä¸€ç¨®æ–¹æ³•<br>é€éé€™æ¨£çš„æ–¹å¼å¯ä»¥å°‡ this ç¶åœ¨å‚³å…¥çš„ç‰©ä»¶ä¸Š</p><h3 id="æ‰‹å‹•é€ ä¸€å€‹-new"><a href="#æ‰‹å‹•é€ ä¸€å€‹-new" class="headerlink" title="æ‰‹å‹•é€ ä¸€å€‹ new"></a>æ‰‹å‹•é€ ä¸€å€‹ new</h3><p>çŸ¥é“ call è·Ÿ this çš„é—œä¿‚ï¼Œå°±èƒ½äº†è§£ <code>constructor</code> çš„åˆå§‹åŒ–ã€‚</p><ul><li>ç›®æ¨™ : ä¸ç”¨ new åšä¸€æ¨£çš„åŠŸèƒ½<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> toyota <span class="token operator">=</span> <span class="token function">newCar</span><span class="token punctuation">(</span><span class="token string">'toyota'</span><span class="token punctuation">)</span>toyota<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li>ç”¨ newCar<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">&#125;</span><span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">buy</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">you buy a new </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">newCar</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> obj <span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token function">Car</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>name<span class="token punctuation">)</span>obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token keyword">return</span> obj<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>new å…¶å¯¦åšäº† :  </li></ul><ol><li>å»ºç«‹ä¸€å€‹ obj</li><li><code>.call(obj,name)</code>ï¼Œå‘¼å«å»ºæ§‹å­ã€‚æŠŠ obj ç•¶ä½œ <code>this</code>ï¼Œname ä½œç‚ºåƒæ•¸ï¼Œå®Œæˆ <code>constructor</code> çš„åˆå§‹åŒ–ã€‚<blockquote><p>æ²’æœ‰é€™ä¸€é …ç„¡æ³•æŒ‡å‘å¯¦é«”ï¼Œ<code>this</code> ç¶å®šå•é¡Œ  </p></blockquote></li><li>ç”¨ <code>__proto__</code> å°å‘è‡³ prototypeï¼Œè·ŸåŸå‹é€²è¡Œæ­æ©‹ï¼Œæ‰èƒ½ä½¿ç”¨åˆ°è©²åŸå‹æ–¹æ³•ã€‚</li><li><code>return obj</code> ï¼Œå¯¦ä¾‹ (instance) å‡ºä¾†çš„æ±è¥¿ã€‚</li></ol><h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>ç¾ä»£é–‹ç™¼å¤§å¤šé‚„æ˜¯ä½¿ç”¨ class<br>ä½†ä¸¦éä»£è¡¨ JavaScript å°±æ˜¯ç”¨ class(é¡åˆ¥) ä¾†å»ºç«‹<br>èƒŒå¾Œä¾ç„¶æ˜¯ function èˆ‡æŒ‡å®š prototype çš„å¯¦ä½œ    </p><p>æƒ³æ›´äº†è§£ JavaScript èªè­˜ prototype æ˜¯ä¸å¯å°‘çš„<br>åŒæ™‚æˆ‘ä¹ŸæŸ¥äº†ç‚ºä»€éº¼ JavaScript ä½œè€…ä½¿ç”¨ prototype çš„è¨­è¨ˆ<br>è€Œä¸æ˜¯ç”¨é¡åˆ¥ ï¼Œæ˜¯å‡ºæ–¼ä»€éº¼è€ƒé‡?     </p><p>åœ¨<a href="https://stackoverflow.com/questions/8433459/what-s-the-purpose-of-prototype">é€™ç¯‡</a> æ‰¾åˆ°çš„çš„è§£é‡‹æ˜¯ class-based æ˜¯è¦ <strong>é‡é ­è¨­è¨ˆç‰©ä»¶</strong>ï¼Œè€Œ prototype-based å¯ä»¥é€éç¾æœ‰å·²å»ºç«‹çš„ç‰©ä»¶å†å»ºç«‹ï¼Œç¸½å¾—ä¾†èªªæ•ˆèƒ½ä¸Šæ›´å¿«ã€‚  </p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul><li><a href="https://lidemy.com/courses/enrolled/390599">JS201 é€²éš JavaScriptï¼šé‚£äº›ä½ ä¸€ç›´æä¸æ‡‚çš„åœ°æ–¹</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;JavaScript æ˜¯ç‰©ä»¶å°å‘çš„èªè¨€&lt;br&gt;ä½†è·Ÿå…¶ä»–çš„ç‰©ä»¶å°å‘èªè¨€ä½¿ç”¨ class æœ‰é»ä¸åŒ   &lt;/p&gt;
&lt;p&gt;æ© ? Javascript ä¸æ˜¯ä¹Ÿç”¨ class å— ?&lt;br&gt;ä¸ï¼Œ&lt;code&gt;class&lt;/code&gt; æ˜¯èªæ³•ç³–ï¼Œåˆ° ES6 æ‰å•ä¸–&lt;br&gt;çœŸæ­£çš„ JavaScript æ˜¯ä½¿ç”¨ prototype ä¾†é”æˆç‰©ä»¶å°å‘  &lt;/p&gt;
&lt;p&gt;æœ¬ç³»åˆ—å°‡å¾ç¾ä»£é–‹ç™¼ç”¨çš„ &lt;code&gt;class&lt;/code&gt; ä¾†äº†è§£&lt;br&gt;å†åˆ°èªè­˜çœŸçš„åŸæ±åŸå‘³ &lt;code&gt;prototype&lt;/code&gt; çš„ä½œæ³•  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="OOP" scheme="https://blog.rosa.tw/tags/OOP/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - this (II) callã€appalyã€bind</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-this-II/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-this-II/</id>
    <published>2022-04-15T03:07:53.000Z</published>
    <updated>2022-06-18T13:50:26.918Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é™¤äº†é€éåŸ·è¡Œç’°å¢ƒèˆ‡ä¸Šä¸‹æ–‡ä¾†ç¶å®šä¹‹å¤–<br>this æ˜¯å¯ä»¥æ”¹è®Šçš„<br>æ”¹è®Š this æœ‰ä¸‰ç¨®æ–¹å¼  </p><span id="more"></span><h2 id="call-amp-apply"><a href="#call-amp-apply" class="headerlink" title="call &amp; apply"></a>call &amp; apply</h2><p>ä¸Šä¸€ç¯‡æœ‰ç°¡ç•¥æé <code>.call()</code><br>ç­‰åŒæ–¼ function ç›´æ¥åŸ·è¡Œ<br>è€Œä¸”æ˜¯æœ‰å¸¶ <code>this</code><br>ç¬¬ä¸€å€‹åƒæ•¸æ˜¯æŒ‡å®š <code>this</code>ï¼Œå¾Œé¢åŠæ˜¯ <code>arguments</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é€™æ¨£æ˜¯ä¸€æ¨£çš„</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">test</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é€™å…©å€‹åŸ·è¡Œæ˜¯å·®ä¸å¤šçš„<br>å·®åœ¨å¾Œé¢çš„åƒæ•¸é¡å‹</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> test <span class="token operator">=</span><span class="token punctuation">&#123;</span>a <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> obj <span class="token operator">=</span><span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>test<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 1 , 5</span><span class="token comment">// æ”¹è®Š this </span>test<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 5 , 5</span>test<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 5 , 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>call</code> : å¾Œé¢éƒ½ç”¨é€—è™Ÿéš”é–‹<br>   <code>.call(thisValue,args[0],args[1])</code> </li><li><code>apply</code> : å‰é¢ç‚º thisï¼Œå¾Œé¢åƒæ•¸ç‚ºé¡é™£åˆ—ã€‚<br>  <code>.apply(thisValue,[args[0],args[1]])</code></li></ul><h3 id="call-è·Ÿ-apply-ç‚ºä»€éº¼åŒæ™‚å­˜åœ¨"><a href="#call-è·Ÿ-apply-ç‚ºä»€éº¼åŒæ™‚å­˜åœ¨" class="headerlink" title="call è·Ÿ apply ç‚ºä»€éº¼åŒæ™‚å­˜åœ¨ ?"></a>call è·Ÿ apply ç‚ºä»€éº¼åŒæ™‚å­˜åœ¨ ?</h3><p>ä¾‹å­æ˜¯ä¾†è‡ª <a href="https://blog.huli.tw/2020/04/18/javascript-function-is-awesome/">è¦ºå¾— JavaScript function å¾ˆæœ‰è¶£çš„æˆ‘æ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ª</a><br>é€™ç¯‡ä¹Ÿæ¢è¨å¾ˆæœ‰è¶£çš„ JS å•é¡Œ  </p><ul><li>Math.max çš„åƒæ•¸å¯ä»¥åƒéš¨æ„æ•¸å€¼</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæˆ‘å€‘è¦å¾é™£åˆ—ä¸­æ‰¾å‡ºæœ€å¤§å€¼å‘¢ ?<br>ç›´æ¥å‘¼å«æœƒå°è‡´éŒ¯èª¤<br>å¯ä»¥é‹ç”¨ apply çš„åƒæ•¸æ˜¯ <strong>é™£åˆ—</strong> çš„æ–¹å¼å¸¶å…¥<br>æˆ–è€…ç”¨ ES6 å±•é–‹  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6 , å±•é–‹ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¸½æ˜¯æœƒæœ‰ä¸åŒçš„æƒ…å¢ƒå¯ä»¥ä½¿ç”¨</p><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>æŠŠ this çš„å€¼å…ˆç¶æ­»ï¼Œä¸ç®¡å¾Œé¢æ€éº¼ call<br>éƒ½ä¸æœƒè®Šå‹•ã€‚</p><blockquote><p>bind å›å‚³çš„æ˜¯ä¸€å€‹ <strong>function</strong></p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> b <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token comment">// function</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 10</span><span class="token function">b</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// ä¾èˆŠæ˜¯ 10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éåš´æ ¼æ¨¡å¼åº•ä¸‹ï¼Œç„¡è«–æ˜¯ç”¨ callã€apply é‚„æ˜¯ bind<br>å‚³é€²å»çš„å¦‚æœæ˜¯ primitive éƒ½æœƒè¢«è½‰æˆ <strong>object</strong>  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>  <span class="token function">hello</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// [Number: 123]</span><span class="token keyword">const</span> myHello <span class="token operator">=</span> <span class="token function">hello</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">'my'</span><span class="token punctuation">)</span><span class="token function">myHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [String: 'my']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç®­é ­å‡½å¼-v-s-bind"><a href="#ç®­é ­å‡½å¼-v-s-bind" class="headerlink" title="ç®­é ­å‡½å¼ v.s bind"></a>ç®­é ­å‡½å¼ v.s bind</h2><p>åˆå­¸æ™‚æœƒèªç‚º arrow funciton æœ‰æŒ‡å‘è‡ªå·±ï¼Œç¶å®šçš„æ„å‘³<br>ä½†å…©è€…æœ‰å¾ˆå¤§çš„å€åˆ¥    </p><ul><li><code>.bind(this)</code> : å‘¼å«ä¹‹å‰å°±å…ˆç¶å®šï¼Œè®“è¢«å‘¼å«çš„éƒ½æœ‰å›ºå®šçš„ <code>this</code>ã€‚  </li><li>arrow function this : ç®­é ­å‡½å¼æ²’æœ‰å»ºç«‹ä»»ä½•çš„ thisï¼Œç°¡å–®ä¾†èªªæ˜¯æ ¹æœ¬æ²’æœ‰è‡ªå·±çš„ thisã€‚<br>åœ¨ç®­é ­å‡½å¼ä½¿ç”¨ thisï¼Œæœƒåƒè®Šæ•¸ä¸€æ¨£ï¼Œå¾€å¤–éƒ¨å°‹æ‰¾ã€‚   </li></ul><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://blog.huli.tw/2019/02/23/javascript-what-is-this/">æ·ºè«‡ JavaScript é ­è™Ÿé›£é¡Œ thisï¼šçµ•å°ä¸å®Œæ•´ï¼Œä½†ä¿è­‰å¥½æ‡‚ - Huli</a></li><li><a href="https://blog.huli.tw/2020/04/18/javascript-function-is-awesome/">è¦ºå¾— JavaScript function å¾ˆæœ‰è¶£çš„æˆ‘æ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ª</a></li><li><a href="https://zh.javascript.info/arrow-functions">æ·±å…¥ç†è§£ç®­å¤´å‡½æ•°</a>  </li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;é™¤äº†é€éåŸ·è¡Œç’°å¢ƒèˆ‡ä¸Šä¸‹æ–‡ä¾†ç¶å®šä¹‹å¤–&lt;br&gt;this æ˜¯å¯ä»¥æ”¹è®Šçš„&lt;br&gt;æ”¹è®Š this æœ‰ä¸‰ç¨®æ–¹å¼  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - this (I) åŸºç¤æ¦‚å¿µ</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-this-I/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-this-I/</id>
    <published>2022-04-15T03:07:39.000Z</published>
    <updated>2022-06-18T13:50:31.429Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å­¸ç¿’ JavaScript æ™‚å¾ˆå¤šèª²ç¨‹æœƒå»ºè­°ä¸è¦æ€¥è‘—å…ˆç”¨ <code>this</code><br>å› ç‚º this æœƒè·‘å‡ºè®“æ–°æ‰‹ç„¡æ³•é æœŸçš„çµæœ<br>åœ¨æŸäº›æƒ…æ³ä¸‹ä½¿ç”¨ this åè€Œæ›´æ£˜æ‰‹<br>è—‰ç”±æœ¬æ¬¡ä¾†åˆæ­¥äº†è§£é€™å€‹å¥‡å¦™çš„ <strong>this</strong>! </p><span id="more"></span><h2 id="ä»€éº¼æ˜¯-this"><a href="#ä»€éº¼æ˜¯-this" class="headerlink" title="ä»€éº¼æ˜¯ this ?"></a>ä»€éº¼æ˜¯ this ?</h2><ul><li>é—œéµå­—</li><li>function åŸ·è¡Œæ™‚ï¼Œè‡ªå‹•ç”Ÿæˆçš„å…§éƒ¨ç‰©ä»¶</li><li>éš¨ function åŸ·è¡Œå ´åˆä¸åŒï¼Œthis æŒ‡å‘çš„å€¼ä¹Ÿæœƒä¸åŒ</li><li>å¤§å¤šæ•¸æƒ…æ³ï¼ŒthisÂ ä»£è¡¨çš„å°±æ˜¯å‘¼å« function çš„ç‰©ä»¶ (Owner Object of the function)ã€‚</li></ul><p>ç¸½å¾—ä¾†èªª :   </p><blockquote><p>this æœƒå›  <strong>åŸ·è¡Œçš„ç’°å¢ƒèˆ‡ä¸Šä¸‹æ–‡</strong> (context) çš„ä¸åŒï¼Œè€Œæœ‰ä¸åŒçš„çµæœ<br>ç¿»è­¯æ©Ÿ : <strong>è·Ÿ function åœ¨å“ªè£¡å‘¼å«æœ‰é—œ</strong></p></blockquote><p>ç©ºèªª this æœ‰é»é›£ä»¥äº†è§£ï¼Œthis å…¶å¯¦åœ¨å“ªè£¡éƒ½å¯ä»¥ä½¿ç”¨(éåš´æ ¼æ¨¡å¼ä¸‹)<br>JavaScript ä¸¦æ²’æœ‰ç‰¹åˆ¥é™åˆ¶ this ç¶å®šåœ¨å“ªï¼Œæ‰€ä»¥ this æ˜¯æœƒè®Šä¾†è®Šå»çš„<br>æ­£å› å¦‚æ­¤æ‰é¡¯å¾—æœ‰é»éº»ç…©    </p><h2 id="ä¸åŒæƒ…æ³ä¸‹çš„-this"><a href="#ä¸åŒæƒ…æ³ä¸‹çš„-this" class="headerlink" title="ä¸åŒæƒ…æ³ä¸‹çš„ this"></a>ä¸åŒæƒ…æ³ä¸‹çš„ this</h2><h3 id="ç‰©ä»¶å°å‘çš„-this"><a href="#ç‰©ä»¶å°å‘çš„-this" class="headerlink" title="ç‰©ä»¶å°å‘çš„ this"></a>ç‰©ä»¶å°å‘çš„ this</h3><p>this å°±æ˜¯ <code>instance</code> æœ¬èº«ï¼Œè¢« <strong>å¯¦ä¾‹</strong> å‡ºä¾†çš„é‚£å€‹ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">&#123;</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">&#125;</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> toyota <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">'toyota'</span><span class="token punctuation">)</span>toyota<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€™å€‹ä¾‹å­å°±æ˜¯ <code>toyota</code> ç‰©ä»¶æœ¬èº«</p><h3 id="ç‰©ä»¶å°å‘ä¹‹å¤–çš„-this"><a href="#ç‰©ä»¶å°å‘ä¹‹å¤–çš„-this" class="headerlink" title="ç‰©ä»¶å°å‘ä¹‹å¤–çš„ this"></a>ç‰©ä»¶å°å‘ä¹‹å¤–çš„ this</h3><p>è„«é›¢ <code>class</code> å¾Œï¼Œå¯ä»¥å†ç´°åˆ†æˆ  </p><ol><li>ä¸€èˆ¬ function ä¸­çš„ this</li><li>DOM äº‹ä»¶ä¸­çš„ this</li><li><code>object</code> çš„ this</li><li>arrow function çš„ this <strong>(ç‰¹åˆ¥)</strong> â­</li></ol><blockquote><p>æ®ºæ‰‹é§ : å¯ä»¥ç”¨ <code>.call()</code> ä¾†çŸ¥é“ this çš„æ„ç¾©</p></blockquote><p><code>.call()</code> æ˜¯åŸ·è¡Œ function å¦ä¸€ç¨®æ–¹å¼<br><code>.call(context,args[0],args[1])</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span>p2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// undefined 1 2</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// undefined 1 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€™å…©å€‹æ˜¯ä¸€æ¨£çš„ï¼Œæœƒç™¼ç¾åŸä¾†ä¸€èˆ¬å‘¼å« function æœƒå°‘äº† this<br>è€Œé€™å€‹ this å°±æ˜¯çœ‹åŸ·è¡Œçš„ç’°å¢ƒèˆ‡ä¸Šä¸‹æ–‡ (context) è€Œä¾†çš„  </p><p><strong>ç‰©ä»¶ä¸­çš„ function å‘¢ ?</strong>     </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span>p2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>func <span class="token operator">:</span> test<span class="token punctuation">&#125;</span>obj<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ ¹æ“šä¸Šé¢èªªçš„</p><blockquote><p><code>this</code>Â ä»£è¡¨çš„å°±æ˜¯å‘¼å« function çš„ç‰©ä»¶ </p></blockquote><p>ç‰©ä»¶å‘¼å«ï¼Œå‘¼å«çš„ method å‰é¢æ˜¯ obj<br>æ‰€ä»¥ call è£¡é¢çš„ this ä½ç½®æ˜¯ <code>obj</code>     </p><h4 id="ä¸€èˆ¬-function-ä¸­çš„-this"><a href="#ä¸€èˆ¬-function-ä¸­çš„-this" class="headerlink" title="ä¸€èˆ¬ function ä¸­çš„ this"></a>ä¸€èˆ¬ function ä¸­çš„ this</h4><p>æ ¹æ“šç’°å¢ƒä¸åŒï¼Œçµæœä¸åŒ<br>ä½†æ˜¯éƒ½æ˜¯ global çš„ç‰©ä»¶<br>åœ¨ <strong>éåš´æ ¼æ¨¡å¼</strong> ä¸‹</p><ul><li>node.js : <code>this = global</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4mBY1X7hZFvUS0mwa7p25amxq2Q5tXcp0SRBAKj7cJNx_37JCdjvCWa0cMAjfVWWbH4a8_YsBV0qOgYrNgcg6zJ5FhgIGuLqLlMT8euJQKJx8Dr9WTfy2FGVzvqh4ES1YzVoXlfdOCNR8Q_ndRIiDSyucw5IxbNHFsKeU5KRB71oZ9e096hhsMhYq6JT-FlHeR?width=1022&height=617&cropmode=none" alt="global ç‰©ä»¶"></li><li>ç€è¦½å™¨ : <code>this = window</code><br><img data-src="https://dsm01pap006files.storage.live.com/y4mkwi-WphtCQHHgZoUP5u8Q0AkSyEZZcX6U6ErkFF5AKuF0z1us2zGqqo2w-Ir8auT0FL7AbZxjEfLh3Y4wyVYyLU38xVibSCWD1r70lghQMdlCieK35uGdQSgT5HKX5iStqZw2ekAtQWqgxktoKIFmMjFBf-L3h8PkZ505ii9ON4qS1jF7nRxrEJz42_hQ7AL?width=662&height=300&cropmode=none" alt="window æ˜¯ç€è¦½å™¨çš„å…¨åŸŸç‰©ä»¶"></li></ul><blockquote><p><strong>åš´æ ¼æ¨¡å¼</strong> ä¸‹çš„ this æŒ‡å‘å…¨åŸŸç‰©ä»¶æ˜¯ <code>undefined</code><br>å› ç‚º this æ²’æœ‰ç¶å®šèª°ï¼Œæ‰€ä»¥æœƒæ˜¯ <code>undefined</code>ã€‚</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">'use strict'</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span><span class="token comment">// è½‰æˆ call</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined ,æ²’æœ‰å¸¶å…¥æ±è¥¿ï¼Œåš´æ ¼æ¨¡å¼ä¸‹æ˜¯ undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DOM-äº‹ä»¶ä¸­çš„-this"><a href="#DOM-äº‹ä»¶ä¸­çš„-this" class="headerlink" title="DOM äº‹ä»¶ä¸­çš„ this"></a>DOM äº‹ä»¶ä¸­çš„ this</h4><p>å°æ‡‰åˆ°äº‹ä»¶è§¸ç™¼çš„ <strong>å…ƒç´ </strong></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ click ç‚ºä¾‹ï¼Œ <code>this</code> æœƒå°å‘è¢«æŒ‰åˆ°çš„ <strong>å…ƒç´ </strong> æœ¬èº«  </p><p>ä½†æ˜¯åœ¨äº‹ä»¶è£¡ <strong>å‘¼å«å…¶ä»– function</strong> æ™‚å°±è¦ç‰¹åˆ¥æ³¨æ„äº†<br>ç”±æ–¼å…§éƒ¨çš„ function æ²’æœ‰ç¶å®šç‰©ä»¶ï¼Œ this æœƒæ˜¯å…¨åŸŸç‰©ä»¶  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// ajax çš„ this æ˜¯ window å…¨åŸŸç‰©ä»¶</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>textContent<span class="token punctuation">,</span>res<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥é€éå…¶ä»–è®Šæ•¸å°‡ <code>this</code> å…ˆå­˜èµ·ä¾†ï¼Œç›´æ¥åœ¨å…§éƒ¨å‘¼å«çš„å‡½å¼æ›¿æ›ã€‚ </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// æŠŠé€™é‚Šçš„ this å­˜èµ·ä¾†ï¼ŒæŒ‡å‘çš„æ˜¯å…ƒç´ æœ¬èº«</span><span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment">// ajax çš„ this æ˜¯ window</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// æŠŠ å…ƒç´ æœ¬èº«çš„ this å¸¶é€²ä¾†</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>textContent<span class="token punctuation">,</span>res<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹ä¸€ç¯‡æœƒæåˆ°å¦‚ä½•ç”¨å‡½å¼çš„æ–¹å¼ç¶å®š this  </p><ul><li>è½‰æˆ <code>.call</code><br><code>el</code> æ˜¯ document å­çµé»å–å¾—çš„ï¼Œé€™é‚Šä¹Ÿå¯ä»¥çœ‹åšä¸€å€‹ç‰©ä»¶<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>handler<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">,</span><span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// æ”¾å…¥çš„æ˜¯ å…ƒç´  æœ¬èº«</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h4 id="object-çš„-this"><a href="#object-çš„-this" class="headerlink" title="object çš„ this"></a>object çš„ this</h4><p>æŒ‡ obj æœ¬èº«ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function-variable function">test</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// obj</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è½‰æˆ call</span>obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="arrow-function-çš„-this"><a href="#arrow-function-çš„-this" class="headerlink" title="arrow function çš„ this"></a>arrow function çš„ this</h4><blockquote><p>arrow function æ²’æœ‰è‡ªå·±çš„ this<br>è€Œæ˜¯ç”¨å¤–éƒ¨çš„ this  </p></blockquote><p>ç®­é ­å‡½å¼ä¹‹æ‰€ä»¥åœ¨ this è¡¨ç¾å¥‡æ€ª<br>è·Ÿå…¶ä»–ç‹€æ³çš„ this ä¸åŒçš„æ˜¯ <strong>ä¸æ˜¯å“ªè£¡è¢«å‘¼å«æœ‰é—œ</strong><br>è€Œæ˜¯ <strong>åœ¨å“ªå®šç¾©</strong> æœ‰é—œ<br>å¦‚æœå‰é¢å·²å®šç¾©äº†ï¼Œå°±æœƒç”¨é‚£å€‹å€¼<br>ä¾†çœ‹çœ‹ä¾‹å­  </p><ul><li>ä¸€èˆ¬ function<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">hello</span><span class="token punctuation">&#123;</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>å¾ˆæ˜é¡¯çš„ <code>new</code> å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶<br>å‰é¢æœ‰æåˆ°æ˜¯ <strong>å¯¦ä¾‹</strong> æœ¬èº«<br>ä½†æ˜¯è£¡é¢å‘¼å« function çš„  this å‘¢ ?<br>æ˜¯æŒ‡ <strong>å…¨åŸŸç‰©ä»¶</strong><br>setTimeout ä¸¦æ²’æœ‰é€éå…¶ä»–ç‰©ä»¶å‘¼å«<br>å°±åƒåœ¨å¤–éƒ¨å‘¼å« <code>setTimeout</code>  </li></ul><p>æ—¢ç„¶æ˜¯ hello é€™å€‹ç‰©ä»¶çš„æ±è¥¿<br>æˆ‘å€‘å¸Œæœ› <code>this</code> æŒ‡å‘çš„æ˜¯ hello æœ¬èº«å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶<br><code>arrow function</code> å°±æ´¾ä¸Šç”¨å ´äº†  </p><ul><li>ç”¨ <code>arrow function</code><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">hello</span><span class="token punctuation">&#123;</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// hello&#123;&#125;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// hello&#123;&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>arrow function æœ¬èº«æ²’æœ‰ this<br>è€Œæ˜¯æ ¹æ“šå®šç¾©åœ¨å“ªï¼Œthis å°±æ˜¯é‚£å€‹å€¼<br>é€šå¸¸ä¹Ÿæ˜¯æŒ‡ç®­é ­å‡½æ˜¯å¤–éƒ¨çš„ this  </li></ul><h2 id="this-èˆ‡å‰å¾Œæ–‡æœ¬-context-çš„ç¶å®šåŸºæœ¬åŸå‰‡"><a href="#this-èˆ‡å‰å¾Œæ–‡æœ¬-context-çš„ç¶å®šåŸºæœ¬åŸå‰‡" class="headerlink" title="this èˆ‡å‰å¾Œæ–‡æœ¬ (context) çš„ç¶å®šåŸºæœ¬åŸå‰‡"></a>this èˆ‡å‰å¾Œæ–‡æœ¬ (context) çš„ç¶å®šåŸºæœ¬åŸå‰‡</h2><p>this ç¶å®šåŸå‰‡å¤§æ¦‚å¯ä»¥åˆ†å››å¤§ç¨®  </p><ul><li><strong>é è¨­ç¶å®š</strong> (Default Binding)</li><li><strong>éš±å«å¼ç¶å®š</strong> (Implicit Binding)</li><li><strong>é¡¯å¼ç¶å®š</strong> (Explicit Binding)</li><li>ã€Œ<strong>newã€é—œéµå­—ç¶å®š</strong>  </li></ul><h3 id="é è¨­ç¶å®š"><a href="#é è¨­ç¶å®š" class="headerlink" title="é è¨­ç¶å®š"></a>é è¨­ç¶å®š</h3><p>å®£å‘Šåœ¨ global scope çš„è®Šæ•¸ï¼Œè·Ÿå…¨åŸŸç‰©ä»¶å±¬æ€§æ˜¯ç›¸åŒçš„ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// ç›´æ¥è®€</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1 </span><span class="token comment">// é€éå…¨åŸŸç‰©ä»¶åº•ä¸‹çš„å±¬æ€§è®€å–</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span>  <span class="token comment">// 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ç‚ºé è¨­ç¶å®šï¼Œç•¶ function è¢«å‘¼å«çš„ç•¶ä¸‹å¦‚æœæ²’æœ‰å€¼æˆ–æ˜¯åœ¨Â <code>func.call(null)</code>Â æˆ–Â <code>func.call(undefined)</code>Â æ­¤é¡çš„æƒ…æ³ä¸‹ï¼Œæ­¤æ™‚è£¡é¢çš„Â <code>this</code>Â æœƒ<strong>è‡ªå‹•æŒ‡å®šè‡³å…¨åŸŸç‰©ä»¶</strong>ã€‚</p><p>å¦‚æœæ˜¯åš´æ ¼æ¨¡å¼ï¼Œ this ç¶å®šå…¨åŸŸç‰©ä»¶æ˜¯ <code>undefined</code></p><h3 id="éš±å«å¼ç¶å®š"><a href="#éš±å«å¼ç¶å®š" class="headerlink" title="éš±å«å¼ç¶å®š"></a>éš±å«å¼ç¶å®š</h3><p>function è¢«å®£å‘Šçš„åœ°æ–¹æ˜¯åœ¨ global scope ä¸­ï¼Œåªè¦å®ƒ <strong>æˆç‚ºæŸå€‹ç‰©ä»¶çš„åƒè€ƒå±¬æ€§</strong> (reference property)ï¼Œåœ¨é‚£å€‹ function è¢«å‘¼å«çš„ç•¶ä¸‹ï¼Œè©² function å³è¢«é‚£å€‹ç‰©ä»¶æ‰€åŒ…å«ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a  <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>  foo<span class="token operator">:</span> func <span class="token comment">// å¼•ç”¨ global çš„ function</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2 , thisæ˜¯ obj æœ¬èº«</span><span class="token keyword">var</span> func2 <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// undefined ï¼Œ é€™é‚Šçš„ func æ˜¯ global çš„ï¼Œthis æ˜¯ windowï¼Œa æ˜¯æ‰¾ä¸åˆ°çš„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ±ºå®š this çš„é—œéµä¸åœ¨æ–¼å®ƒå±¬æ–¼å“ªå€‹ç‰©ä»¶ï¼Œè€Œæ˜¯</p><blockquote><p>åœ¨æ–¼ functionã€Œå‘¼å«çš„æ™‚æ©Ÿé»ã€  </p></blockquote><p>é€éç‰©ä»¶å‘¼å«æŸå€‹æ–¹æ³• (method) çš„æ™‚å€™ï¼Œæ­¤æ™‚ this å°±æ˜¯é‚£å€‹ç‰©ä»¶ (owner object)ã€‚</p><h3 id="é¡¯å¼ç¶å®š"><a href="#é¡¯å¼ç¶å®š" class="headerlink" title="é¡¯å¼ç¶å®š"></a>é¡¯å¼ç¶å®š</h3><ol><li><code>.bind()</code>Â Â </li><li><code>.call()</code>Â </li><li><code>.apply()</code>Â </li></ol><p>é€™é¡ç›´æ¥æŒ‡å®š this çš„ function éƒ½å¯è¢«æ­¸é¡è‡³é¡¯å¼ç¶å®šçš„é¡å‹ã€‚</p><h3 id="new-é—œéµå­—ç¶å®š"><a href="#new-é—œéµå­—ç¶å®š" class="headerlink" title="new é—œéµå­—ç¶å®š"></a>new é—œéµå­—ç¶å®š</h3><p>ç•¶ä¸€å€‹Â <code>function</code>Â å‰é¢å¸¶æœ‰Â <code>new</code>Â è¢«å‘¼å«æ™‚ï¼Œæœƒç™¼ç”Ÿï¼š </p><ul><li> æœƒç”¢ç”Ÿä¸€å€‹æ–°çš„ç‰©ä»¶ (ç‰©ä»¶è¢«å»ºæ§‹å‡ºä¾†)</li><li> é€™å€‹æ–°å»ºæ§‹çš„ç‰©ä»¶æœƒè¢«è¨­ç‚ºé‚£å€‹ function çš„Â <code>this</code>Â ç¶å®šç›®æ¨™ï¼Œä¹Ÿå°±æ˜¯Â <code>this</code>Â æœƒæŒ‡å‘æ–°å»ºæ§‹çš„ç‰©ä»¶ã€‚</li><li> é™¤éé€™å€‹ function æŒ‡å®šå›å‚³ (return) äº†ä»–è‡ªå·±çš„æ›¿ä»£ç‰©ä»¶ï¼Œå¦å‰‡é€™å€‹é€éÂ <code>new</code>Â ç”¢ç”Ÿçš„ç‰©ä»¶æœƒè¢«è‡ªå‹•å›å‚³ã€‚</li></ul><p>é—œæ–¼ <code>new</code>ï¼Œåƒè€ƒ : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new#description">MDN å° new çš„èªªæ˜</a>   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span> <span class="token number">123</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="this-çš„æ‡‰ç”¨-Cascade-çµ„åˆæŠ€"><a href="#this-çš„æ‡‰ç”¨-Cascade-çµ„åˆæŠ€" class="headerlink" title="this çš„æ‡‰ç”¨ : Cascade çµ„åˆæŠ€"></a>this çš„æ‡‰ç”¨ : Cascade çµ„åˆæŠ€</h2><p>Cascade ä¹Ÿæœ‰äººç¨±ä½œ <strong>ã€ŒFluent Interfaceã€</strong><br>å¯ä»¥è®“ method ä¸²ä¸²æ¨‚   </p><p>JavaScript å…è¨±å‡½å¼ <code>return undefined</code><br>é‚£æ”¹æˆ <code>return this</code> å‘¢ ?  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">calNum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newNum</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">+=</span> newNum<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sub</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newNum</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">-=</span> newNum<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">multi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newNum</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">*=</span> newNum<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">division</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newNum</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">/=</span> newNum<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// é€é new å»ºç«‹å¯¦é«”ï¼Œthis æ˜¯ calNumæœ¬èº«</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">calNum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ†é–‹å‘¼å«</span>a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>num <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 150</span>a<span class="token punctuation">.</span><span class="token function">sub</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>num <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç•¶å›å‚³ this æ™‚ï¼ŒæŒ‡çš„æ˜¯ç‰©ä»¶æœ¬èº«ï¼Œå¯ä»¥å¾€å¾Œä¸²åœ¨ä¸€èµ·ï¼Œ  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sub</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>num <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>JQuery ä¸­çš„ä¹Ÿæ˜¯ç”¨ method chain (æ–¹æ³•éˆ) é€™æ¨£çš„æ–¹å¼  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'is-active'</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'is-hide'</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æˆ–è€… <code>Array</code> çš„å…§å»ºå‡½å¼<br>æ˜¯å¯ä»¥ä¸²è¯ä¸åŒçš„æ–¹æ³•<br>è€Œä¸”å›å‚³çš„éƒ½æ˜¯ <strong>åŒé¡å‹</strong> çš„é™£åˆ—</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=></span> e<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>   <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=></span> el <span class="token operator">>=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// [4,6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h2><p>é™¤äº†è½‰æˆ <code>.call()</code> ä¾†åˆ¤æ–· this<br>å°æ–¼ this ä¹Ÿå¯ä»¥æœå¹¾ç¨®æ–¹å‘ä¾†åˆ¤æ–·  </p><ol><li>function çš„å‘¼å«ï¼Œæ˜¯é€é <code>new</code> é€²è¡Œçš„å—ï¼Ÿ<br> å¦‚æœæ˜¯ï¼Œé‚£ this å°±æ˜¯è¢«å»ºæ§‹å‡ºä¾†çš„ç‰©ä»¶ã€‚</li><li>function æ˜¯ä»¥ .call() æˆ– .apply() çš„æ–¹å¼å‘¼å«çš„å—ï¼Ÿ æˆ–æ˜¯ function é€é .bind() æŒ‡å®šï¼Ÿ<br> å¦‚æœæ˜¯ï¼Œé‚£ this å°±æ˜¯è¢«æŒ‡å®šçš„ç‰©ä»¶ã€‚</li><li>function è¢«å‘¼å«æ™‚ï¼Œæ˜¯å¦å­˜åœ¨æ–¼æŸå€‹ç‰©ä»¶ï¼Ÿ<br> å¦‚æœæ˜¯ï¼Œé‚£ this å°±æ˜¯é‚£å€‹ç‰©ä»¶ã€‚</li><li>å¦‚æœæ²’æœ‰æ»¿è¶³ä»¥ä¸Šæ¢ä»¶ï¼Œæ­¤ function è£¡çš„ this å°±ä¸€å®šæ˜¯å…¨åŸŸç‰©ä»¶<br>åœ¨åš´æ ¼æ¨¡å¼ä¸‹å‰‡æ˜¯ undefinedã€‚</li></ol><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://blog.huli.tw/2019/02/23/javascript-what-is-this/">æ·ºè«‡ JavaScript é ­è™Ÿé›£é¡Œ thisï¼šçµ•å°ä¸å®Œæ•´ï¼Œä½†ä¿è­‰å¥½æ‡‚ - Huli</a></li><li><a href="https://zhuanlan.zhihu.com/p/23804247">this çš„å€¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä¸€æ¬¡è¯´æ¸…æ¥š</a>  </li><li><a href="https://ithelp.ithome.com.tw/articles/10193193">é‡æ–°èªè­˜ JavaScript: Day 20 Whatâ€™s â€œTHISâ€ in JavaScript (éµäººç²¾è¯ç‰ˆ)</a></li><li><a href="https://zh.javascript.info/object-methods">å¯¹è±¡æ–¹æ³•ï¼Œâ€thisâ€</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨å­¸ç¿’ JavaScript æ™‚å¾ˆå¤šèª²ç¨‹æœƒå»ºè­°ä¸è¦æ€¥è‘—å…ˆç”¨ &lt;code&gt;this&lt;/code&gt;&lt;br&gt;å› ç‚º this æœƒè·‘å‡ºè®“æ–°æ‰‹ç„¡æ³•é æœŸçš„çµæœ&lt;br&gt;åœ¨æŸäº›æƒ…æ³ä¸‹ä½¿ç”¨ this åè€Œæ›´æ£˜æ‰‹&lt;br&gt;è—‰ç”±æœ¬æ¬¡ä¾†åˆæ­¥äº†è§£é€™å€‹å¥‡å¦™çš„ &lt;strong&gt;this&lt;/strong&gt;! &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - Closure é–‰åŒ…(II) å¸¸è¦‹é™·é˜±é¡Œ</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Closure-II/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Closure-II/</id>
    <published>2022-04-13T13:51:51.000Z</published>
    <updated>2022-06-18T13:51:01.528Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰å­¸ç¿’é–‰åŒ…æ²’è¾¦æ³•å¾ˆå®¹æ˜“é€£çµåˆ°<br>å°¤å…¶ Function æœ‰ä¸€å †åè©è®Šç•°é«”<br>ç¸½æœƒå¥½å¥‡å¯¦éš›çš„æ‡‰ç”¨æƒ…å¢ƒ   </p><p>é‚£ç™¼ç”Ÿä»€éº¼å•é¡Œæ‰æœƒä½¿ç”¨åˆ° Closure å‘¢?<br>åˆæ€éº¼åœ¨çœŸæ­£çš„å°ˆæ¡ˆè§£æ±ºå•é¡Œ ?   </p><span id="more"></span><h2 id="å•é¡Œ-åœ¨è¿´åœˆä¸­å‘¼å«å‡½å¼"><a href="#å•é¡Œ-åœ¨è¿´åœˆä¸­å‘¼å«å‡½å¼" class="headerlink" title="å•é¡Œ : åœ¨è¿´åœˆä¸­å‘¼å«å‡½å¼"></a>å•é¡Œ : åœ¨è¿´åœˆä¸­å‘¼å«å‡½å¼</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¤‡ç¿’ä¸€ä¸‹ :</p><blockquote><p><code>var</code> çš„åˆ‡åˆ†å–®ä½æ˜¯ <code>function</code>  </p></blockquote><p>ç›´è¦ºä¾†èªªæœƒè¦ºå¾— <code>i</code> æ˜¯æœƒæŒ‰é †åºåˆ—å‡º<br>çµæœæ˜¯ <code>5 5</code><br>å› ç‚º for è¨­ç«‹çš„ <code>i</code> æœƒå­˜åœ¨ global ä¸­  </p><p><strong>è©¦è‘—æŠŠé‹ä½œæ‹†é–‹ä¾†</strong> </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç•¶è¿´åœˆè·‘å®Œæ™‚ï¼Œ <code>i</code> æ˜¯ 5ï¼Œ<code>var i  = 5</code><br>å› ç‚º 5 ä¸ç¬¦åˆè¿´åœˆæ¢ä»¶è·³å‡º<br>æ‰€ä»¥ä¸ç®¡ <code>arr[?]()</code>ï¼Œç›´æ¥å°å‡º <code>i</code> æ˜¯ 5    </p><h3 id="è§£æ±ºæ–¹æ³•"><a href="#è§£æ±ºæ–¹æ³•" class="headerlink" title="è§£æ±ºæ–¹æ³•"></a>è§£æ±ºæ–¹æ³•</h3><h4 id="é–‰åŒ…"><a href="#é–‰åŒ…" class="headerlink" title="é–‰åŒ…"></a>é–‰åŒ…</h4><p>æŠŠ function ç¨ç«‹å‡ºä¾†  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">logN</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//é–‰åŒ…ï¼Œè¨˜ä½ç•¶ä¸‹çš„ i</span><span class="token keyword">function</span> <span class="token function">logN</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//0</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="IIFE"><a href="#IIFE" class="headerlink" title="IIFE"></a>IIFE</h4><p>IIFE(Immediately Invoked Function Expression) å®šç¾©å®Œå°±å›å‚³çš„ function</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ‹¿åˆ°ç•¶ä¸‹çš„ i</span>  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//0</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠŠåŸæœ¬æœ‰åçš„å‡½å¼æ”¹ç‚ºåŒ¿åå‡½å¼ï¼Œç”¨<code>()</code>åŒ…è£¹ functionï¼Œå°¾å·´æ˜¯å¸¶å…¥åƒæ•¸<code>(åƒæ•¸)</code>ï¼Œæ²’æœ‰çš„è©±ç‚ºç©º</p><h4 id="ES6-çš„-let"><a href="#ES6-çš„-let" class="headerlink" title="ES6 çš„ let"></a>ES6 çš„ let</h4><p>ä¸Šé¢å‡ºç¾çš„åŸå› éƒ½æ˜¯ <code>var</code> çš„ scope å•é¡Œ<br>ES6 çš„ let å°‡ä½œç”¨åŸŸé™åˆ¶åœ¨ block <code>&#123;&#125;</code>  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åªè¦ <code>var -&gt; let</code> ï¼Œ å°±è§£æ±ºå•é¡Œäº†ï¼Œé›¢é–‹ä¹‹å¾Œå°±ä¸æœƒä¿ç•™ã€‚</p></blockquote><h2 id="Closure-æ‡‰ç”¨"><a href="#Closure-æ‡‰ç”¨" class="headerlink" title="Closure æ‡‰ç”¨"></a>Closure æ‡‰ç”¨</h2><h3 id="Cache-æš«å­˜"><a href="#Cache-æš«å­˜" class="headerlink" title="Cache æš«å­˜"></a>Cache æš«å­˜</h3><p>è¨ˆç®—é‡å¤§çš„æ™‚å€™é¿å…é‡æ–°è¨ˆç®—ï¼Œé å…ˆæŠŠå·²ç®—å¥½çš„å€¼å­˜èµ·ä¾†  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">complex</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">// è¤‡é›œè¨ˆç®—</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'calculate'</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> num<span class="token operator">*</span>num<span class="token operator">*</span>num<span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">// æŸ¥çœ‹æ˜¯ä¸æ˜¯æœ‰ç®—é</span>  <span class="token keyword">var</span> ans <span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æœ‰çš„è©±å›å‚³ç´¢å¼•è£¡çš„å€¼</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> ans<span class="token punctuation">[</span>num<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ²’æœ‰çš„è©±æ‰åšé‡æ–°è¨ˆç®—</span>    ans<span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>    <span class="token keyword">return</span> ans<span class="token punctuation">[</span>num<span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> cacheComplex <span class="token operator">=</span> <span class="token function">cahe</span><span class="token punctuation">(</span>complex<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">cacheComplex</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ç¬¬ä¸€æ¬¡è¨ˆç®—</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">cacheComplex</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å¾ cache æ‹¿åˆ°çš„å€¼</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">cacheComplex</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å¾ cache æ‹¿åˆ°çš„å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”¨ <code>console.time</code> è¨ˆæ™‚åŸ·è¡Œçš„æ™‚é–“<br>æ¯”èµ·ç›´æ¥ç”¨ complex ç®—å†é‡æ–°ç®—<br>æœƒç™¼ç¾ç¬¬äºŒæ¬¡çš„è¨ˆç®—çš„æ™‚é–“æ˜é¡¯ç¸®çŸ­å¾ˆå¤š  </p><h3 id="éš±åŒ¿è³‡è¨Š"><a href="#éš±åŒ¿è³‡è¨Š" class="headerlink" title="éš±åŒ¿è³‡è¨Š"></a>éš±åŒ¿è³‡è¨Š</h3><p>æƒ³éš±åŒ¿ä¸€äº›è³‡è¨Šï¼Œè®“åˆ¥äººä¸å¯ä»¥ç›´æ¥æ›´æ”¹ã€‚<br>æŠŠæ–¹æ³•ä»¥åŠè®Šæ•¸å°è£åœ¨å…§éƒ¨ï¼Œåˆ¥äººè¦èª¿ç”¨åªèƒ½å‘¼å«ä½ è¦å®šå¥½çš„æ–¹æ³•ã€‚  </p><ul><li>ä»¥ç°¡æ˜“è¨ˆç®—æ©Ÿç‚ºä¾‹<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token parameter">initNum</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">var</span> sum <span class="token operator">=</span> initNum <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token function-variable function">add</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> sum <span class="token operator">+=</span>num<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function-variable function">minus</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> sum <span class="token operator">-=</span>num<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function-variable function">mutiply</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> sum <span class="token operator">*=</span>num<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function-variable function">divided</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> sum<span class="token operator">/=</span>num<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function-variable function">getresult</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> sum<span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> counter1 <span class="token operator">=</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">let</span> counter2 <span class="token operator">=</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>counter1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>counter2<span class="token punctuation">.</span><span class="token function">mutiply</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter1<span class="token punctuation">.</span><span class="token function">getresult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter2<span class="token punctuation">.</span><span class="token function">getresult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 200</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>ä¸€å€‹ç°¡å–®çš„è¨ˆç®—æ©Ÿ (?)ğŸ¤”<br>counter1 è·Ÿ counter2 ä¸¦ä¸æœƒå½±éŸ¿åˆ°å½¼æ­¤<br>æˆ‘å€‘åªèƒ½é€éç¾æœ‰çš„æ–¹æ³•ä¾†ä¿®æ”¹ sum çš„å€¼  </li></ul><h2 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h2><p>é–‰åŒ…è®“æˆ‘æ„Ÿè¦ºæ˜¯å¾ˆç¥å¥‡çš„æ±è¥¿<br>çœ‹èµ·ä¾†ä¸ç†Ÿæ‚‰ï¼Œä½†å¯¦éš›ä¸Šæˆ‘å€‘éƒ½ç”¨åˆ°äº†ğŸ¤”     </p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul><li><a href="https://lidemy.com/courses/enrolled/390599"> [JS201] é€²éš JavaScriptï¼šé‚£äº›ä½ ä¸€ç›´æä¸æ‡‚çš„åœ°æ–¹ </a></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰å­¸ç¿’é–‰åŒ…æ²’è¾¦æ³•å¾ˆå®¹æ˜“é€£çµåˆ°&lt;br&gt;å°¤å…¶ Function æœ‰ä¸€å †åè©è®Šç•°é«”&lt;br&gt;ç¸½æœƒå¥½å¥‡å¯¦éš›çš„æ‡‰ç”¨æƒ…å¢ƒ   &lt;/p&gt;
&lt;p&gt;é‚£ç™¼ç”Ÿä»€éº¼å•é¡Œæ‰æœƒä½¿ç”¨åˆ° Closure å‘¢?&lt;br&gt;åˆæ€éº¼åœ¨çœŸæ­£çš„å°ˆæ¡ˆè§£æ±ºå•é¡Œ ?   &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - Closure é–‰åŒ…(I) åŸºç¤æ¦‚å¿µ</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-Closure-I/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-Closure-I/</id>
    <published>2022-04-13T13:51:39.000Z</published>
    <updated>2022-06-18T13:48:36.605Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Closure æ˜¯ JavaScript å¾ˆé‡è¦çš„åŸºç¤<br>è—‰ç”±æœ¬ç¯‡å¹«åŠ©è‡ªå·±é‡æ¸… Closure çš„æ¦‚å¿µ  </p><span id="more"></span><h2 id="å…ˆèªè­˜-Scope-Chain"><a href="#å…ˆèªè­˜-Scope-Chain" class="headerlink" title="å…ˆèªè­˜ Scope Chain"></a>å…ˆèªè­˜ Scope Chain</h2><p><a href="https://blog.rosa.tw/Frontend/JavaScript/JavaScript-Hoisting-II/?highlight=scope#%E4%BD%9C%E7%94%A8%E5%9F%9F-Scope">Scope</a> æ˜¯è®Šæ•¸ç”Ÿå­˜çš„ç¯„åœï¼Œå¦‚æœåœ¨è‡ªå·±å±¤ç´šæ‰¾ä¸åˆ°å°±æœƒä¸€å±¤ä¸€å±¤å¾€å¤–æ‰¾ï¼Œç›´åˆ° Global ç‚ºæ­¢ã€‚  </p><p>é€™ç¨®è¡Œç‚ºå°±ç¨±ç‚ºã€Œ<strong>ç¯„åœéˆ</strong>ã€(Scope Chain)ã€‚</p><blockquote><p>ç¯„åœéˆæ˜¯åœ¨å‡½å¼<strong>è¢«å®šç¾©çš„ç•¶ä¸‹æ±ºå®š</strong> (lexical scope ä¾†æ±ºå®š)çš„ï¼Œä¸æ˜¯åœ¨è¢«å‘¼å«çš„æ™‚å€™æ±ºå®šã€‚</p></blockquote><h3 id="ç¯„ä¾‹"><a href="#ç¯„ä¾‹" class="headerlink" title="ç¯„ä¾‹"></a>ç¯„ä¾‹</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'global'</span><span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> a  <span class="token operator">=</span> <span class="token string">'change'</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// change</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//global</span><span class="token punctuation">&#125;</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€é–‹å§‹æœƒä»¥ç‚º <code>test()</code> åœ¨ change è£¡é¢å‘¼å«ï¼Œå–å¾—çš„è®Šæ•¸ a æ˜¯ change å°ä¸å° ? </p><p>NO NO NO,å†é‡è¤‡ä¸€æ¬¡ !      </p><blockquote><p>ç¯„åœéˆæ˜¯åœ¨å‡½å¼<strong>è¢«å®šç¾©çš„ç•¶ä¸‹æ±ºå®š</strong> çš„ï¼Œä¸æ˜¯åœ¨è¢«å‘¼å«çš„æ™‚å€™æ±ºå®šã€‚</p></blockquote><p><code>test</code> å‡½å¼åœ¨ Lexical Environments æ˜¯ gloabal çš„ä¸‹ä¸€å±¤ï¼ŒScope Chain æ˜¯æ ¹æ“š Lexical scope æ±ºå®šï¼Œå¾€ä¸Šæ‰¾æ˜¯ gloabl é‚£å±¤ï¼Œæ‰€ä»¥çµæœæ‰æœƒæ˜¯ <code>&#39;global&#39;</code></p><h2 id="ç‚ºä»€éº¼è¦æœ‰-Closure"><a href="#ç‚ºä»€éº¼è¦æœ‰-Closure" class="headerlink" title="ç‚ºä»€éº¼è¦æœ‰ Closure ?"></a>ç‚ºä»€éº¼è¦æœ‰ Closure ?</h2><blockquote><p>åå• ğŸ‘‰ <strong>æ²’æœ‰ Closure æœƒæ€æ¨£ ?</strong></p></blockquote><p>æˆ‘å€‘çŸ¥é“ Execution Context åŸ·è¡Œç’°å¢ƒåœ¨åŸ·è¡Œå®Œ function å¾Œï¼ŒStack æœƒæŠ½æ‰ï¼Œæœ‰é—œé€™å€‹ function çš„ä¸€åˆ‡è®Šæ•¸ä¹Ÿæœƒè¢«å›æ”¶è€Œä¸”ä¸å¯å†ä½¿ç”¨ã€‚</p><ul><li>å¦‚æœè¦ä½¿ç”¨ function è£¡çš„è®Šæ•¸å‘¢ ? (<code>private variable</code> çš„æ¦‚å¿µ)</li></ul><p>ç›´è¦ºå¯èƒ½æœƒä¸Ÿåˆ° <code>global</code> é€²è¡Œå®£å‘Šï¼Œä½†ç•¶å°ˆæ¡ˆçµæ§‹é€æ¼¸é¾å¤§ï¼Œä¹…è€Œä¹…ä¹‹æœƒé€ æˆ <strong>å…¨åŸŸè®Šæ•¸æ±™æŸ“</strong>  </p><p><strong>é‚£é–‰åŒ…çš„å‡ºç¾è§£æ±ºäº†â€¦</strong> :</p><ul><li>è‡ªç”±è®Šæ•¸ (free variable)ï¼Œåªæœ‰åœ¨ function å…§éƒ¨å¯è®€å–è®Šæ•¸ï¼Œåœ¨å¤–éƒ¨å‰‡ç„¡æ³•è®€å–ã€‚</li><li>è®Šæ•¸æš«å­˜ï¼Œæ¸›å°‘é‡è¤‡çš„è¤‡é›œè¨ˆç®—</li></ul><h2 id="Closure-çš„å„ªç¼ºé»"><a href="#Closure-çš„å„ªç¼ºé»" class="headerlink" title="Closure çš„å„ªç¼ºé»"></a>Closure çš„å„ªç¼ºé»</h2><ul><li><p>å„ªé» : </p><ol><li>é¿å… <strong>å…¨åŸŸè®Šæ•¸æ±™æŸ“</strong></li><li>æä¾› <strong>è‡ªç”±è®Šæ•¸</strong>ï¼Œè®“è©² function åŸ·è¡Œå®Œå¾Œï¼Œè®Šæ•¸çš„ä½œç”¨åŸŸä¸æœƒå›  function çµæŸè¢«å›æ”¶ï¼Œè€Œæ˜¯æœƒç¹¼çºŒå­˜åœ¨ã€‚</li><li>é¿å…é‡è¤‡åŸ·è¡Œé¾å¤§çš„è¨ˆç®—<br> å¯ä»¥è¨˜éŒ„å‰ä¸€æ¬¡è¨ˆç®—çš„ç‹€æ…‹ï¼Œä¸‹ä¸€æ¬¡å†å‘¼å«ä¸ç”¨é‡ç®—ä¸€æ¬¡ (cache çš„æ¦‚å¿µ)ã€‚  </li><li>åœ¨å¤šäººå”ä½œçš„æ™‚å€™ï¼Œæœ‰äº›éš±å¯†çš„è³‡è¨Šä¸æƒ³è®“äººå»ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨å°è£é–‰åŒ…çš„æ–¹å¼ã€‚<br> åˆ¥äººå¿…é ˆä¾ç…§å›ºå®šçš„å¯«æ³•ä¾†å–å¾—è³‡æ–™ï¼Œä¸”ä¸èƒ½ä¿®æ”¹åˆ°å…§éƒ¨çš„è³‡è¨Šã€‚<br> åœ¨é–‹æºè³‡æ–™æˆ– API çš„æ–¹æ³•å¸¸ä½¿ç”¨é€™æ¨£çš„æ–¹å¼ï¼Œä»¥å…æ”¹å‹•åˆ°å…§éƒ¨æ•¸å€¼ã€‚</li></ol></li><li><p>ç¼ºé» :</p><ol><li>å¯èƒ½ä¿ç•™åˆ°ä¸€äº›ä¸å¿…è¦çš„è®Šæ•¸æˆ–è³‡è¨Šï¼Œé€ æˆè³‡æºå¤šé¤˜æ¶ˆè€—ã€‚</li><li>åªèƒ½ä½¿ç”¨æ¶µå¼æä¾›çš„æ–¹æ³•ï¼Œå› ç‚ºå…§éƒ¨çš„è³‡è¨Šè¢«éš±è”½ï¼Œåœ¨æ›´å‹•ä¸Šè¼ƒä¸å½ˆæ€§ã€‚<br>  (ä½†æ˜¯ç›¸åå¦‚æœä¸æƒ³è¦è¢«æ”¹å‹•æœƒæ˜¯å„ªé»)  </li></ol></li></ul><h2 id="ä»€éº¼æ˜¯é–‰åŒ…"><a href="#ä»€éº¼æ˜¯é–‰åŒ…" class="headerlink" title="ä»€éº¼æ˜¯é–‰åŒ… ?"></a>ä»€éº¼æ˜¯é–‰åŒ… ?</h2><p>é™¤äº†è‡ªå·±æœ¬èº«çš„ç¨‹å¼ç¢¼å¤–ï¼Œä¹Ÿå¯ä»¥å–å¾—äº†<strong>å…§éƒ¨å‡½å¼ã€Œç•¶æ™‚ç’°å¢ƒã€çš„è®Šæ•¸å€¼</strong>ï¼Œè¨˜ä½äº†åŸ·è¡Œç•¶æ™‚çš„ç’°å¢ƒï¼Œé€™å°±æ˜¯ã€Œé–‰åŒ…ã€ã€‚ </p><h2 id="ç°¡å–®çš„-Closure-ç¯„ä¾‹"><a href="#ç°¡å–®çš„-Closure-ç¯„ä¾‹" class="headerlink" title="ç°¡å–®çš„ Closure ç¯„ä¾‹"></a>ç°¡å–®çš„ Closure ç¯„ä¾‹</h2><ul><li><p>æ²’æœ‰ä½¿ç”¨é–‰åŒ…  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> rate <span class="token operator">=</span> <span class="token number">.75</span><span class="token keyword">function</span> <span class="token function">itmePrice</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span> price <span class="token operator">>=</span> <span class="token number">100</span> <span class="token operator">?</span> price<span class="token operator">*</span>rate <span class="token operator">:</span> price<span class="token punctuation">&#125;</span>rate <span class="token operator">=</span> <span class="token number">.1</span> <span class="token keyword">let</span> bag <span class="token operator">=</span> <span class="token function">itmePrice</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bag<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¯ä»¥é€éç›´æ¥ä¿®æ”¹æ•¸å€¼ (ğŸ‘)<br>ä»»ä½•äººéƒ½å¯ä»¥åœ¨å¤–éƒ¨é€²è¡Œä¿®æ”¹</p></blockquote></li><li><p>ä½¿ç”¨é–‰åŒ…</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">itmePrice</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// æŠŠ rate è®Šæˆç§æœ‰è®Šæ•¸</span><span class="token keyword">var</span> rate <span class="token operator">=</span> <span class="token number">.75</span><span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> price <span class="token operator">>=</span> <span class="token number">100</span> <span class="token operator">?</span> price<span class="token operator">*</span>rate <span class="token operator">:</span> price<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> bag <span class="token operator">=</span> <span class="token function">itmePrice</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åªè¦å‘¼å«éœ€è¦çš„æ±è¥¿å³å¯ (ğŸ‘)<br>ä¸æœƒè¢«å¤–éƒ¨ä¿®æ”¹</p></blockquote></li></ul><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://blog.huli.tw/2018/12/08/javascript-closure/">æ‰€æœ‰çš„å‡½å¼éƒ½æ˜¯é–‰åŒ…ï¼šè«‡ JS ä¸­çš„ä½œç”¨åŸŸèˆ‡ Closure - Huli</a></li><li><a href="https://javascript.info/closure#lexical-environment">Variable scope, closure</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10193009">é‡æ–°èªè­˜ JavaScript: Day 19 é–‰åŒ… Closure</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Closure æ˜¯ JavaScript å¾ˆé‡è¦çš„åŸºç¤&lt;br&gt;è—‰ç”±æœ¬ç¯‡å¹«åŠ©è‡ªå·±é‡æ¸… Closure çš„æ¦‚å¿µ  &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - äº‹ä»¶æ©Ÿåˆ¶åŸç† &amp; äº‹ä»¶ä»£ç†</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-EventFlow-EventListener/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-EventFlow-EventListener/</id>
    <published>2022-04-12T02:24:14.000Z</published>
    <updated>2022-06-18T13:50:56.627Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>äº‹ä»¶æ˜¯ä»€éº¼ ? ç‚ºä»€éº¼è¦ç”¨äº‹ä»¶ä»£ç†å‘¢ ?<br>åœ¨ä¸äº†è§£äº‹ä»¶çš„æµç¨‹èˆ‡é‹ä½œæ©Ÿåˆ¶ï¼Œæ˜¯ä¸æ˜¯é‡éé»ä¸€ä¸‹å…ƒç´ <br>çµæœè·‘å‡ºå…©æ¬¡ä»¥ä¸Šçš„çµæœ<br>é€éæœ¬ç¯‡å¹«è‡ªå·±é‡æ¸…äº‹ä»¶å„ç¨®å¤§å°äº‹</p><span id="more"></span>  <h2 id="EventFlow-ç¶²é å…ƒç´ æ¥æ”¶äº‹ä»¶çš„é †åº"><a href="#EventFlow-ç¶²é å…ƒç´ æ¥æ”¶äº‹ä»¶çš„é †åº" class="headerlink" title="EventFlow : ç¶²é å…ƒç´ æ¥æ”¶äº‹ä»¶çš„é †åº"></a>EventFlow : ç¶²é å…ƒç´ æ¥æ”¶äº‹ä»¶çš„é †åº</h2><p><img data-src="https://dsm01pap006files.storage.live.com/y4m9V74R0Rbxh2VocqOo5K1vnxJNiyqAL1pr2Vw2o2yxenGxG5Uq3iMSm5n1bXDNs7hubkxY7rtnZfQtgz3tSNPDcX22k_WWBKKto5w_fnALPe1MSGDNDjlF11Yr7svwp8O0b8PmsLyMikVMa0Be3EWrsugI0ZsfWzkq9aYgX7R48Jm2YL0dJs6VWHvl3tqxowk?width=1208&height=1160&cropmode=none" alt="EventFlow"></p><ul><li><code>Capture phase</code> : æ•ç²éšæ®µæŒ‡ç”± <strong>ä¸Šåˆ°ä¸‹</strong> å‚³ä¸‹å»çš„</li><li><code>Target phase</code> : ç›®æ¨™éšæ®µï¼Œæœ¬èº«è¢«ä½œç”¨çš„ç›®æ¨™æ‰æœƒåœ¨é€™å€‹éšæ®µ</li><li><code>Bubbling phase</code> : å†’æ³¡éšæ®µ æŒ‡ç”± <strong>ä¸‹å¾€ä¸Š</strong> å‚³å»çš„</li></ul><p>é€é <code>e.eventPhase</code> å¯ä»¥çœ‹è¦‹äº‹ä»¶çš„éšæ®µ<br>ç•¶æˆ‘é»ä¸‹ link  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'link capturing'</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>eventPhase<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'link bubbling'</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>eventPhase<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'box capturing'</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>eventPhase<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'box bubbling'</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>eventPhase<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">box capturing <span class="token number">1</span>  <span class="token comment">// CAPTURING_PHASE</span>link capturing <span class="token number">2</span> <span class="token comment">// AT_TARGET </span>link bubbling <span class="token number">2</span> <span class="token comment">// AT_TARGET </span>box bubbling <span class="token number">3</span> <span class="token comment">// BUBBLING_PHASE</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç¾çš„ä»£ç¢¼å°±æ˜¯äº‹ä»¶çš„ä¸åŒéšæ®µ  </p><h3 id="äº‹ä»¶å†’æ³¡-Event-Bubbling"><a href="#äº‹ä»¶å†’æ³¡-Event-Bubbling" class="headerlink" title="äº‹ä»¶å†’æ³¡ (Event Bubbling)"></a>äº‹ä»¶å†’æ³¡ (Event Bubbling)</h3><p>å•Ÿå‹•äº‹ä»¶çš„å…ƒç´ å¾€ä¸Šå‚³éåˆ° <strong>æ ¹ç¯€é»</strong> (document)  </p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>TITLE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>CLICK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†’æ³¡å‚³éæ–¹å‘ :<br>CLICK äº‹ä»¶æœ¬èº«å…ƒç´  ğŸ‘‰ body ğŸ‘‰ html ğŸ‘‰ document   </p><h3 id="äº‹ä»¶æ•ç²-Event-Capturing"><a href="#äº‹ä»¶æ•ç²-Event-Capturing" class="headerlink" title="äº‹ä»¶æ•ç² (Event Capturing)"></a>äº‹ä»¶æ•ç² (Event Capturing)</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>TITLE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>CLICK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ç²å‚³éæ–¹å‘ :<br>document ğŸ‘‰html ğŸ‘‰ body ğŸ‘‰CLICK äº‹ä»¶æœ¬èº«å…ƒç´   </p><h3 id="äº‹ä»¶æ˜¯å“ªç¨®æ©Ÿåˆ¶"><a href="#äº‹ä»¶æ˜¯å“ªç¨®æ©Ÿåˆ¶" class="headerlink" title="äº‹ä»¶æ˜¯å“ªç¨®æ©Ÿåˆ¶ ?"></a>äº‹ä»¶æ˜¯å“ªç¨®æ©Ÿåˆ¶ ?</h3><p>å…©ç¨®éƒ½æœƒï¼Œç•¶æˆ‘æŒ‰ä¸‹æŒ‰éˆ•ï¼Œå¦‚æœå¤–å±¤å…ƒç´ ä¹Ÿæœ‰ç¶å®š <strong>äº‹ä»¶</strong>ï¼ŒåŒæ™‚ä¹Ÿæœƒè¢«è§¸ç™¼</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>outer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.outer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çµæœ</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">hellohi <span class="token comment">// å†’æ³¡è€Œè§¸ç™¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é»æ“Š <code>inner</code> æ™‚ï¼ŒåŒæ™‚å‡ºç¾ hello è·Ÿ hi<br>å› ç‚ºå†’æ³¡çš„é—œä¿‚ï¼Œouter ä¹Ÿè¢«è§¸ç™¼ã€‚  </p><h3 id="äº‹ä»¶çš„æ•ç²-amp-å†’æ³¡é †åº"><a href="#äº‹ä»¶çš„æ•ç²-amp-å†’æ³¡é †åº" class="headerlink" title="äº‹ä»¶çš„æ•ç² &amp; å†’æ³¡é †åº ?"></a>äº‹ä»¶çš„æ•ç² &amp; å†’æ³¡é †åº ?</h3><ul><li><p>å°æ–¼ <strong>éè§¸ç™¼äº‹ä»¶</strong> æœ¬èº«çš„å…ƒç´ </p><blockquote><p>å…ˆæ•ç²å¾Œå†’æ³¡</p></blockquote></li><li><p>äº‹ä»¶æœ¬èº«<br>åœ¨ä»¥å¾€çš„æ–‡ç« ä¸­éƒ½æ˜¯ <strong>æŒ‰ç…§ç¨‹å¼ç¢¼åŸ·è¡Œçš„é †åº</strong><br>ç•¶æˆ‘è©¦è‘—åŸ·è¡Œå¾Œå»ç™¼ç¾å³ä½¿æŠŠå†’æ³¡æ”¾åœ¨å‰é¢ï¼Œæ•ç²æ”¾å¾Œ<br>ä¸€æ¨£éƒ½æ˜¯ <strong>å…ˆæ•ç²å†å†’æ³¡</strong><br>ä»”ç´°ä¸€æŸ¥ï¼Œæ‰ç™¼ç¾åŸä¾†æ˜¯ Chorme 89 ä»¥å¾Œçš„ç‰ˆæœ¬éƒ½æœƒå…ˆæ•ç²å†å†’æ³¡<br>89 ä¹‹å‰çš„ç‰ˆæœ¬å°±æœƒæ˜¯çœ‹ç¨‹å¼ç¢¼åŸ·è¡Œçš„é †åº    </p><blockquote><p>å‡ºç¾é€™æ¨£çš„ç‹€æ³æ˜¯å› ç‚º shadow DOM å¼•èµ·çš„ï¼Œè©³ç´°åŸå› è«‹åƒè€ƒ <a href="https://juejin.cn/post/6965682915141386254#heading-2">é€™ç¯‡</a>  </p></blockquote></li></ul><p>æ‰€ä»¥ï¼Œæ–°ç‰ˆçš„ç€è¦½å™¨ä¸ç®¡æ˜¯å“ªå€‹éƒ½æ˜¯ <strong>å…ˆæ•ç²å†å†’æ³¡</strong>  </p><h2 id="äº‹ä»¶çš„è¨»å†Šç¶å®š"><a href="#äº‹ä»¶çš„è¨»å†Šç¶å®š" class="headerlink" title="äº‹ä»¶çš„è¨»å†Šç¶å®š"></a>äº‹ä»¶çš„è¨»å†Šç¶å®š</h2><ol><li><code>on-event</code> : æœ‰ HTML ä¸­ inline on-eventï¼›JS on-event æ¥ function</li><li><code>EventListener</code> : addEventListenerã€removeEventListenerâ€¦ç­‰  </li></ol><h3 id="on-event"><a href="#on-event" class="headerlink" title="on-event"></a>on-event</h3><ol><li>Html <pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> ç›®å‰å¾ˆå°‘é€™æ¨£å¯«ï¼Œå…¶ä¸€åŸå› æ˜¯ä¸å¥½ç¶­è­·  </li><li>é Html <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>æˆ‘å€‘æœ€å¸¸çœ‹è¦‹ <code>window.onload</code> ä¹Ÿæ˜¯äº‹ä»¶çš„ on-event</p><h3 id="EventListener"><a href="#EventListener" class="headerlink" title="EventListener"></a>EventListener</h3><h4 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h4><p>æœ‰ä¸‰å€‹åƒæ•¸</p><ol><li>äº‹ä»¶åç¨±</li><li>äº‹ä»¶è™•ç†å™¨ (è§¸ç™¼æ™‚åŸ·è¡Œçš„ function)</li><li>Boolen ï¼Œä»¥ ã€Œæ•ç²ã€ æˆ–ã€Œå†’æ³¡ã€ æ©Ÿåˆ¶åŸ·è¡Œï¼Œ <code>false</code> (ä¸æŒ‡å®š) ç‚º å†’æ³¡</li></ol><blockquote><p>ç¬¬ä¸‰å€‹å¸ƒæ—å€¼ï¼Œä¸æ˜¯æ”¹è®Šäº‹ä»¶å‚³éçš„æ–¹å¼ï¼Œè€Œæ˜¯åœ¨ <strong>å“ªè£¡é€²è¡Œç›£è½</strong></p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å†’æ³¡</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ•ç² </span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HELLO'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="removeListener"><a href="#removeListener" class="headerlink" title="removeListener"></a>removeListener</h4><p>è·Ÿ addEventListener ä¸€æ¨£ï¼Œå¦‚æœè¦è§£é™¤çš„è©± handler çš„ function å¿…é ˆæ˜¯åŒä¸€å€‹å¯¦é«”æ‰è¡Œ  </p><blockquote><p><strong>ç‚ºä»€éº¼èªªæ˜¯åŒä¸€å¯¦é«” ?</strong><br>å›æƒ³é€™å€‹ä¾‹å­ <code>&#123;&#125; === &#123;&#125; // false</code><br>function ä¹Ÿæ˜¯ Object çš„ä¸€ç¨®<br>åŒ¿åå‡½å¼æ²’æœ‰æŒ‡å®šçµ¦è®Šæ•¸æ™‚ï¼Œéƒ½æ˜¯å±¬æ–¼ä¸åŒçš„è¨˜æ†¶é«”ä½å€    </p></blockquote><p>äº‹ä»¶ç›£è½ä½¿ç”¨åŒ¿åå‡½å¼çš„å¯«æ³•ï¼Œå°±åƒæ½‘å‡ºå»çš„æ°´ï¼Œå›ä¸ä¾†äº† ğŸ¤”  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç§»é™¤äº‹ä»¶ï¼Œä½†æ˜¯æ²’ç”¨</span>btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§£æ±ºæ­¤å•é¡Œï¼ŒæŠŠ handler çš„ function <strong>ç¨ç«‹å‡ºä¾†</strong>  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">clickhandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>clickhandler<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç§»é™¤äº‹ä»¶ï¼Œok!</span>btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>clickhandler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="on-event-v-s-EventListener"><a href="#on-event-v-s-EventListener" class="headerlink" title="on-event v.s EventListener"></a>on-event v.s EventListener</h3><ul><li><p><code>EventListener</code> : å¯ä»¥é‡è¤‡æŒ‡å®šå¤šå€‹ã€Œè™•ç†å™¨ã€(handler) çµ¦åŒä¸€å€‹å…ƒç´ çš„åŒä¸€å€‹äº‹ä»¶</p></li><li><p><code>on-event</code> : åªèªä¸€å€‹ï¼Œå¾Œé¢å¤šå¯«çš„æœƒè¦†è“‹å‰é¢çš„äº‹ä»¶</p></li><li><p>on-event</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi!'</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æœƒå‡ºç¾</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello!'</span><span class="token punctuation">)</span> <span class="token comment">// æœƒå‡ºç¾ hello</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>EventListener</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi!'</span><span class="token punctuation">)</span> <span class="token comment">// å‡ºç¾ hi</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello!'</span><span class="token punctuation">)</span> <span class="token comment">// å†å‡ºç¾ hello</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="EventHandler-ä¸­çš„-â€œeventâ€"><a href="#EventHandler-ä¸­çš„-â€œeventâ€" class="headerlink" title="EventHandler ä¸­çš„ â€œeventâ€"></a>EventHandler ä¸­çš„ â€œeventâ€</h2><p>äº‹ä»¶ç‰©ä»¶æœƒä¾ç…§ <strong>è§¸ç™¼çš„äº‹ä»¶</strong>(clickã€change) ï¼Œå…§å®¹æœƒæœ‰ç¨å¾®ä¸åŒ<br>é€šå¸¸çœ‹åˆ° <code>event</code> å¯«æˆ <code>e</code> ã€<code>evt</code> æ˜¯ç‚ºäº†æ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥è‡ªè¨‚è­¯åç¨±<br>åªæ˜¯å¤§å®¶æœƒé¸æ“‡æœ‰æ„ç¾©çš„åç¨±ä¸”å¥½è¨˜    </p><p>å¯ä»¥è©¦è‘—åœ¨äº‹ä»¶è§¸ç™¼å°å‡º <code>e</code>   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  å¸¸è¦‹çš„å±¬æ€§   -   </span><span class="token template-punctuation string">`</span></span>type<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> : è¡¨ç¤ºäº‹ä»¶çš„åç¨±-   </span><span class="token template-punctuation string">`</span></span>target<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> : è¡¨ç¤ºè§¸ç™¼äº‹ä»¶çš„å…ƒç´ -   </span><span class="token template-punctuation string">`</span></span>bubbles<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> : è¡¨ç¤ºé€™äº‹ä»¶æ˜¯å¦æ˜¯åœ¨ã€Œå†’æ³¡ã€éšæ®µè§¸ç™¼ (</span><span class="token template-punctuation string">`</span></span><span class="token boolean">true</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> / </span><span class="token template-punctuation string">`</span></span><span class="token boolean">false</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">)-   </span><span class="token template-punctuation string">`</span></span>pageX<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> / </span><span class="token template-punctuation string">`</span></span>pageY<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> : è¡¨ç¤ºäº‹ä»¶è§¸ç™¼æ™‚ï¼Œæ»‘é¼ åº§æ¨™åœ¨ç¶²é çš„ç›¸å°ä½ç½®  ### é˜»æ“‹é è¨­è¡Œç‚º event.preventDefault()>ä¸¦ä¸æœƒé˜»æ­¢äº‹ä»¶å‘ä¸Šå‚³é (äº‹ä»¶å†’æ³¡) </span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>javascript<span class="token keyword">let</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span> <span class="token comment">// ä¾ç„¶æœƒå‡ºç¾</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>on-event</code> åœ¨ eventhandler function çš„<strong>æœ€å¾Œ</strong>åŠ ä¸Š <code>return false;</code> ä¹Ÿæœƒæœ‰ <code>event.preventDefault()</code> çš„æ•ˆæœ  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰æ–¼ e.preventDefault()</span>link<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘'</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ‡‰ç”¨ç¯„ä¾‹ä¸€-è¡¨å–®-submit-å‰çš„æª¢æŸ¥"><a href="#æ‡‰ç”¨ç¯„ä¾‹ä¸€-è¡¨å–®-submit-å‰çš„æª¢æŸ¥" class="headerlink" title="æ‡‰ç”¨ç¯„ä¾‹ä¸€ : è¡¨å–® submit å‰çš„æª¢æŸ¥"></a>æ‡‰ç”¨ç¯„ä¾‹ä¸€ : è¡¨å–® submit å‰çš„æª¢æŸ¥</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>        å¸³è™Ÿ        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>        å¯†ç¢¼        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨è€…æŒ‰ä¸‹ submit æŒ‰éˆ•æœƒé€å‡ºè¡¨å–®<br>å‰ç«¯å¯ä»¥å…ˆåšé©—è­‰ï¼Œç¢ºèªä½¿ç”¨è€…çš„è¼¸å…¥æ˜¯ä¸æ˜¯ç¬¦åˆ   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"form"</span><span class="token punctuation">)</span>form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//å…ˆé˜»æ­¢é€å‡º</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> username <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"[name='username']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value    <span class="token keyword">let</span> password <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"[name='password']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value    <span class="token comment">// æª¢æŸ¥æ¬„ä½</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>username<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'è«‹è¼¸å…¥ä½¿ç”¨è€…å¸³è™Ÿ'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>password<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'è«‹è¼¸å…¥å¯†ç¢¼'</span><span class="token punctuation">)</span>    <span class="token comment">// éƒ½æœ‰è¼¸å…¥å°±é€å‡º</span>    form<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ‡‰ç”¨ç¯„ä¾‹äºŒ-é¿å…è¶…é€£çµé€ æˆç¶²é è·³è½‰"><a href="#æ‡‰ç”¨ç¯„ä¾‹äºŒ-é¿å…è¶…é€£çµé€ æˆç¶²é è·³è½‰" class="headerlink" title="æ‡‰ç”¨ç¯„ä¾‹äºŒ : é¿å…è¶…é€£çµé€ æˆç¶²é è·³è½‰"></a>æ‡‰ç”¨ç¯„ä¾‹äºŒ : é¿å…è¶…é€£çµé€ æˆç¶²é è·³è½‰</h4><p>æŒ‰ä¸‹ <code>a</code> çš„æ™‚å€™æœƒæ‰¾ç¶²é çš„éŒ¨é»ï¼Œå¦‚æœæ²’æœ‰çš„è©±æœƒè·³ <code>#</code> äº•å­—è™Ÿ<br>å¦‚æœä¸æƒ³è¦å‡ºç¾äº•å­—è™Ÿå‘¢ ?<br>æœ‰äº›æ˜¯å°å¤–é€£çµï¼Œæœ‰äº›æ˜¯å…§é€£çµä½¿ç”¨ï¼Œç¸½ä¸èƒ½é˜»æ“‹æ¯å€‹å§ !</p><p>é€™é‚Šç”¨æˆ‘ä½¿ç”¨ <code>class</code> åˆ†é–‹å¤–éƒ¨é€£çµ</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>www.example.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æˆ‘æ˜¯æ™®é€šè¶…é€£çµ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>gotoTop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é¸æ²’æœ‰ link class çš„ a æ¨™ç±¤</span><span class="token keyword">let</span> actionLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'a:not(.link)'</span><span class="token punctuation">)</span>actionLink<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token parameter">a</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ¤æ–·å„å€‹ actionLink è¦åšçš„äº‹</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€™æ¨£å°±å¯ä»¥åˆ†å‡ºå“ªäº›æ˜¯å¤–éƒ¨é€£çµï¼Œå“ªäº›æ˜¯å…§ç¶²é é€£çµï¼Œè€Œä¸”ä¸æœƒå‡ºç¾ <code>#</code> äº•å­—è™Ÿ ğŸ˜ƒ</p><h3 id="é˜»æ“‹äº‹ä»¶å†’æ³¡å‚³é-event-stopPropagation"><a href="#é˜»æ“‹äº‹ä»¶å†’æ³¡å‚³é-event-stopPropagation" class="headerlink" title="é˜»æ“‹äº‹ä»¶å†’æ³¡å‚³é event.stopPropagation()"></a>é˜»æ“‹äº‹ä»¶å†’æ³¡å‚³é event.stopPropagation()</h3><blockquote><p>é˜»æ­¢çš„å‹•ä½œï¼ŒåŠ åœ¨å†’æ³¡ç™¼ç”Ÿçš„å…ƒç´ ä¸Š</p></blockquote><p>å¦‚æœä¸è¦è®“ box å‡ºç¾ï¼ŒåŠ åœ¨æƒ³åœæ­¢å†’æ³¡çš„åœ°æ–¹ <code>event.stopPropagation()</code></p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é€™è£¡æœƒç™¼ç”Ÿå†’æ³¡ï¼Œè¦é˜»æ­¢ä¸Šå‚³</span>link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æœƒå‡ºç¾</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥è©¦è‘—è¨»è§£ <code>e.stopPropagation();</code> æœƒç™¼ç¾ç•¶ä½ æŒ‰ä¸‹ link<br>å› ç‚º link å†’æ³¡æ©Ÿåˆ¶å°è‡´ box çš„äº‹ä»¶ä¹Ÿè§¸ç™¼è€Œå°å‡º <code>&#39;box&#39;</code></p><h4 id="é˜»æ­¢ä»»ä½•çš„å‚³é-event-stopImmediatePropagation"><a href="#é˜»æ­¢ä»»ä½•çš„å‚³é-event-stopImmediatePropagation" class="headerlink" title="é˜»æ­¢ä»»ä½•çš„å‚³é event.stopImmediatePropagation()"></a>é˜»æ­¢ä»»ä½•çš„å‚³é event.stopImmediatePropagation()</h4><p>å¦‚æœåŒä¸€å€‹å…ƒç´ æœ‰æ›å…©å€‹ <code>addEventListener</code><br>é»æ“Šæ™‚å…©å€‹éƒ½æœƒåœ¨ <code>Target phase</code><br>A è·Ÿ B äº‹ä»¶ä¸€æ¨£æœƒè§¸ç™¼<br>åœ¨ A åŠ å…¥ <code>stopImmediatePropagation()</code> æœƒæŠŠ B åœæ‰  </p><p>ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œlink æ›å…©å€‹äº‹ä»¶</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// A äº‹ä»¶</span>link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  e<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am A'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// B äº‹ä»¶</span>link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am B'</span><span class="token punctuation">)</span> <span class="token comment">//ä¸æœƒå‡ºç¾ï¼Œåœ¨ A target pharse é˜»æ­¢ B å†’æ³¡éšæ®µç™¼ç”Ÿ</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æœƒå‡ºç¾ï¼Œå› ç‚ºé˜»æ­¢äº†å†’æ³¡</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ‡‰ç”¨ç¯„ä¾‹-label-amp-input"><a href="#æ‡‰ç”¨ç¯„ä¾‹-label-amp-input" class="headerlink" title="æ‡‰ç”¨ç¯„ä¾‹ : label &amp; input"></a>æ‡‰ç”¨ç¯„ä¾‹ : label &amp; input</h4><p>label è·Ÿ input çš„çµ„åˆéœ€è¦å¤šä¸€å€‹ id<br>ç‚ºäº†ä¸æµªè²» idï¼Œæˆ‘å€‘å¸¸å¸¸æœƒç”¨ label æŠŠ input åŒ…èµ·ä¾†ã€‚  </p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>é–‹é—œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <code>label</code> ç¶ä¸Šç›£è½äº‹ä»¶</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> labelone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>labelone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¥å¥‡çš„æ˜¯ï¼Œhi æœƒå‡ºç¾å…©æ¬¡<br>checkbox ä¹Ÿæœƒæ¥æ”¶åˆ° click äº‹ä»¶ï¼Œæ”¹è®Šäº†ç‹€æ…‹<br>ç™¼ç”Ÿå†’æ³¡åˆ° label å…ƒç´ ï¼Œå†æ¬¡è§¸ç™¼ label çš„äº‹ä»¶    </p><p><strong>é‡é»è¤‡ç¿’</strong>  </p><blockquote><p><strong>é˜»æ­¢çš„å‹•ä½œï¼ŒåŠ åœ¨å†’æ³¡ç™¼ç”Ÿçš„å…ƒç´ ä¸Š</strong></p></blockquote><p>å†’æ³¡ç™¼ç”Ÿçš„æ˜¯ <strong>input</strong> ï¼Œæ‰€ä»¥ <code>stopPropagation</code> æ˜¯è¦åŠ åœ¨ input è€Œé label</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> labelone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> inputone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>labelone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>inputone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äº‹ä»¶-â€œæœ¬èº«â€-æŒ‡çš„æ˜¯-target-v-s-currentTarget-this"><a href="#äº‹ä»¶-â€œæœ¬èº«â€-æŒ‡çš„æ˜¯-target-v-s-currentTarget-this" class="headerlink" title="äº‹ä»¶ â€œæœ¬èº«â€ æŒ‡çš„æ˜¯ ? target v.s currentTarget (this)"></a>äº‹ä»¶ â€œæœ¬èº«â€ æŒ‡çš„æ˜¯ ? target v.s currentTarget (this)</h3><p>æˆ‘å€‘çŸ¥é“åœ¨ function ç•¶ä¸­æ˜¯å¯ä»¥ä½¿ç”¨ <code>this</code><br>é‚£é€™é‚Šçš„ <code>this</code> æ˜¯æŒ‡ä»€éº¼å‘¢ ?   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> labelone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>labelone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tagName<span class="token punctuation">)</span> <span class="token comment">// LABEL</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>this</code> ä»£è¡¨çš„æœƒæ˜¯ã€Œè§¸ç™¼äº‹ä»¶çš„<strong>ç›®æ¨™</strong>ã€å…ƒç´ <br>ä¹Ÿå°±æ˜¯ <code>event.currentTarget</code> è€Œä¸æ˜¯ <code>e.target</code>ã€‚</p></blockquote><p>é‚£ <code>e.target</code> æŒ‡çš„æ˜¯ ?</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> labelone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>labelone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tagName<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">let</span> inputone<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>inputone<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tagName<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é»æ“Š label</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">"LABEL"</span> <span class="token number">1</span> <span class="token comment">// e.target</span><span class="token string">"LABEL"</span> <span class="token number">1</span> <span class="token comment">// this</span><span class="token string">"INPUT"</span> <span class="token number">2</span> <span class="token comment">// e.target</span><span class="token string">"INPUT"</span> <span class="token number">2</span> <span class="token comment">// this</span><span class="token string">"INPUT"</span> <span class="token number">1</span> <span class="token comment">// checkbox å†’æ³¡ä¸Šä¾†çš„è€Œè§¸ç™¼ labeloneï¼Œe.target</span><span class="token string">"LABEL"</span> <span class="token number">1</span> <span class="token comment">// checkbox å†’æ³¡ä¸Šä¾†çš„è€Œè§¸ç™¼ labeloneï¼Œ this</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>e.target</code> å…¶å¯¦æ˜¯ã€Œè§¸ç™¼äº‹ä»¶çš„å…ƒç´ ã€</p></blockquote><p>å¦‚æœä¸è€ƒæ…®äº‹ä»¶å‚³éçš„æƒ…æ³ä¸‹ï¼Œ<code>this</code> å¯¦è³ªä¸Šå°±ç­‰åŒæ–¼ <code>e.target</code> äº†ã€‚</p><h2 id="äº‹ä»¶æŒ‡æ´¾-Event-Delegation"><a href="#äº‹ä»¶æŒ‡æ´¾-Event-Delegation" class="headerlink" title="äº‹ä»¶æŒ‡æ´¾ (Event Delegation)"></a>äº‹ä»¶æŒ‡æ´¾ (Event Delegation)</h2><p>ç”¨ JavaScript æ–°å¢çš„å…ƒç´ ä¸¦ä¸æœƒç¶åˆ°äº‹ä»¶  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> items <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.list-item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¸€å€‹å€‹æ‰‹å‹•åŠ å…¥</span>items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>item<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">let</span> newItem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'LI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">creatTextNode</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newIten<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newItem<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>newItem</code> ä¸æœƒæœ‰ click äº‹ä»¶<br>ç‚ºé¿å…æ¯æ¬¡æ–°å¢è¦é‡æ–°ç¶å®šäº‹ä»¶ï¼Œåˆè¦ç§»é™¤ç›£è½ï¼Œé€ æˆ memory leak çš„åš´é‡å•é¡Œ<br><strong>äº‹ä»¶æŒ‡æ´¾</strong> æ˜¯æ¯”è¼ƒå¥½çš„åšæ³•ã€‚</p><p><strong>äº‹ä»¶ä»£ç†äºº</strong> é€éåˆ¤æ–· <strong>ç›®æ¨™ç¯€é»</strong>ï¼Œå†åŸ·è¡Œå‹•ä½œ</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// list ç›´æ¥çœ‹åº•ä¸‹çš„å­å…ƒç´ </span>list<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">let</span> newItem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'LI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">creatTextNode</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newIten<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newItem<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­æ‹‰ ! <code>newItem</code> å°±æœ‰é»æ“Šçš„æ•ˆæœ</p><h2 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h2><p>äº‹ä»¶æ˜¯ JavaScript çš„åŸºæœ¬ï¼Œç•¶æˆ‘å€‘äº†è§£æ©Ÿåˆ¶çš„é‹ä½œ<br>é‡åˆ°å¥‡æ€ªçš„è§¸ç™¼å¤šæ¬¡æ™‚ï¼Œè¨˜å¾—æƒ³èµ·äº‹ä»¶çš„æµç¨‹  </p><blockquote><p>å…ˆæ•ç²å†å†’æ³¡  </p></blockquote><p>é‚„æœ‰ç›¸é—œçš„  </p><ul><li>é˜»æ­¢é è¨­è¡Œç‚º <code>preventDefault</code> </li><li>é˜»æ“‹å†’æ³¡è¡Œç‚º <code>stopPropagtion</code></li></ul><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://ithelp.ithome.com.tw/articles/10191970">é‡æ–°èªè­˜ JavaScript: Day 14 äº‹ä»¶æ©Ÿåˆ¶çš„åŸç†</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10192015">é‡æ–°èªè­˜ JavaScript: Day 15 éš±è—åœ¨ â€œäº‹ä»¶â€ ä¹‹ä¸­çš„ç§˜å¯†</a></li><li><a href="https://blog.techbridge.cc/2017/07/15/javascript-event-propagation/">DOM çš„äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼šæ•ç²èˆ‡å†’æ³¡</a></li><li><a href="https://juejin.cn/post/6965682915141386254#heading-2">Chrome 89 æ›´æ–°äº‹ä»¶è§¦å‘é¡ºåºï¼Œå¯¼è‡´99%çš„æ–‡ç« éƒ½é”™äº†ï¼ˆåŒ…æ‹¬MDNï¼‰</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;äº‹ä»¶æ˜¯ä»€éº¼ ? ç‚ºä»€éº¼è¦ç”¨äº‹ä»¶ä»£ç†å‘¢ ?&lt;br&gt;åœ¨ä¸äº†è§£äº‹ä»¶çš„æµç¨‹èˆ‡é‹ä½œæ©Ÿåˆ¶ï¼Œæ˜¯ä¸æ˜¯é‡éé»ä¸€ä¸‹å…ƒç´ &lt;br&gt;çµæœè·‘å‡ºå…©æ¬¡ä»¥ä¸Šçš„çµæœ&lt;br&gt;é€éæœ¬ç¯‡å¹«è‡ªå·±é‡æ¸…äº‹ä»¶å„ç¨®å¤§å°äº‹&lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CSSZeroToOneSeries  | 10 | ç ´æ ¼å¼è¨­è¨ˆ</title>
    <link href="https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-10/"/>
    <id>https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-10/</id>
    <published>2022-04-10T04:36:53.000Z</published>
    <updated>2022-06-18T13:48:00.574Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœ¬ç¯‡æˆæœ"><a href="#æœ¬ç¯‡æˆæœ" class="headerlink" title="æœ¬ç¯‡æˆæœ"></a>æœ¬ç¯‡æˆæœ</h2><p><a href="https://codepen.io/shan473/pen/QWOZgzP">Codepen</a><br><img data-src="https://dsm01pap006files.storage.live.com/y4mc1SNrsZu-Jd9u35WNRJfQgL79lh5rKUE-T708KZoUgmfj1e0iFbqwtXItGPmNayXFew5OcaISpno8uR1h5a0KOuWpfs9NvwytLMedU4ijzl-h2mJT3AKapQU7kA5rNBSPp_QOV-6viFwczOvlSgU65TDbCQlby6ccQSZ4Rvcith2HND8fQOqhBUHkD3FrJAo?width=1024&height=586&cropmode=none" alt="ç ´æ ¼å¼è¨­è¨ˆ"></p><span id="more"></span><h3 id="margin-å€¼çš„æ•¸é‡"><a href="#margin-å€¼çš„æ•¸é‡" class="headerlink" title="margin å€¼çš„æ•¸é‡"></a>margin å€¼çš„æ•¸é‡</h3><ul><li>å…©å€‹æ•¸å€¼<br>  margin : &lt;ä¸Šä¸‹&gt;  &lt;å·¦å³&gt;</li><li>å››å€‹æ•¸å€¼<br>  margin : &lt;ä¸Š&gt; &lt;å³&gt; &lt;ä¸‹&gt; &lt;å·¦&gt;</li><li>ä¸‰å€‹æ•¸å€¼<br>  margin : &lt;ä¸Š&gt; &lt;å·¦å³&gt; &lt;ä¸‹&gt;</li></ul><p>æ¯”è¼ƒå¸¸ç”¨åˆ°ç½®ä¸­ <code>margin : 0 auto</code>ï¼Œauto æ˜¯æŠŠå‰©é¤˜çš„ç©ºé–“åˆ†é…çµ¦å·¦å³ï¼Œå› æ­¤æ‰æœƒç½®ä¸­ã€‚<br>å¯¦éš›ä¸Š margin : auto ï¼Œé›–ç„¶æ˜¯å¯«å…¨éƒ¨è‡ªå‹•åˆ†é…ï¼Œä½†æ˜¯ <a href="https://www.zhihu.com/question/21644198">ä¸Šä¸‹ä¸¦æ²’æœ‰ä½œç”¨</a>ã€‚  </p><p>css çš„é è¨­ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/writing-mode">write-mode (æ›¸å¯«æ¨¡å¼)</a> çš„æ–¹å‘æ˜¯ <strong>æ°´å¹³</strong> çš„ï¼Œç•¶æˆ‘å€‘ç”¨ margin-top : auto æˆ– margin-bottom : auto ï¼Œå› ç‚ºé«˜åº¦ä¸¦ç„¡å›ºå®šå€¼ï¼Œç„¡æ³•åƒç…§ï¼Œå‰©é¤˜ç©ºé–“ä¹Ÿæ˜¯ 0 ã€‚</p><h3 id="line-height-å–®è¡Œå‚ç›´å±…ä¸­"><a href="#line-height-å–®è¡Œå‚ç›´å±…ä¸­" class="headerlink" title="line-height å–®è¡Œå‚ç›´å±…ä¸­"></a>line-height å–®è¡Œå‚ç›´å±…ä¸­</h3><p>å¦‚æœæ˜¯æ–‡å­—å–®è¡Œå±…ä¸­å®¹å™¨ï¼Œå¯ä»¥æŠŠ <code>line-height</code> è¨­å®šè·Ÿå®¹å™¨é«˜ä¸€æ¨£  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.box</span><span class="token punctuation">&#123;</span><span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="border-å€å¡Šä½ç½®è¨ˆç®—-è¦è¨˜å¾—æ‰£æ‰"><a href="#border-å€å¡Šä½ç½®è¨ˆç®—-è¦è¨˜å¾—æ‰£æ‰" class="headerlink" title="border å€å¡Šä½ç½®è¨ˆç®— : è¦è¨˜å¾—æ‰£æ‰"></a>border å€å¡Šä½ç½®è¨ˆç®— : è¦è¨˜å¾—æ‰£æ‰</h3><p>å¯¦ä½œæ˜¯ icon çš„åˆ©ç”¨ <code>:before</code> çš„ border åšåœ“æ¡†ï¼Œç²—åº¦æ˜¯ 10 pxã€‚<br><code>top : 0ã€left : 0</code>ï¼ŒæŠŠç‰ˆé¢å®šä½åˆ°çˆ¶å±¤èµ·å§‹å·¦ä¸Šè§’ä¸€æ¨£ï¼Œæ­¤æ™‚ border ç²—åº¦ä¸Šä¸‹å·¦å³éƒ½æœƒå¢é•· 10pxï¼Œå¦‚æœè¦ç½®ä¸­ï¼Œå¿…é ˆæŠŠ border å¤šå‡ºä¾†çš„åœ¨ topã€left æ‰£æ‰ï¼Œå…ƒç´ æ‰èƒ½æ“ºåˆ°ä¸­é–“å¡«æ»¿ã€‚  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.icon:before</span><span class="token punctuation">&#123;</span><span class="token property">position</span> <span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 10px solid red<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">width</span> <span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="border-ä¸Šä¸‹å·¦å³çš„å‘ˆç¾æ–¹å¼"><a href="#border-ä¸Šä¸‹å·¦å³çš„å‘ˆç¾æ–¹å¼" class="headerlink" title="border ä¸Šä¸‹å·¦å³çš„å‘ˆç¾æ–¹å¼"></a>border ä¸Šä¸‹å·¦å³çš„å‘ˆç¾æ–¹å¼</h3><p>ä»¥åŠåœ“æ¡†ç‚ºä¾‹ï¼Œæˆ‘å€‘çŸ¥é“ border çš„åˆ‡é½Šé»æ˜¯å°è§’ç·š (ä¸‹åœ–)ï¼Œè®Šæˆåœ“å½¢çš„è©±ï¼Œä¸Šä¸‹å·¦å³ä¸¦ä¸æ˜¯å‰›å¥½å¾ 0 åˆ‡é½Šåˆ° 90 åº¦<br>å¦‚æœæƒ³è¦å¾—åˆ°åŠåœ“ï¼Œå¿…é ˆæ˜¯é„°è¿‘å…©å€‹ border å†åšæ—‹è½‰ 45 åº¦ã€‚   </p><ul><li>widthã€height ç‚º 0 ï¼Œå–®ç´”çš„ border  </li></ul><p><img data-src="https://dsm01pap006files.storage.live.com/y4mVu7eeg2awMupFoD5T_nq55dVmzodISxqWR8paqvV46NhzCf4-VPLWZ0Xlm_JLUFsOCEGTcqVb6SoH4icdXFX9V3ZLR39nFB5YYYyNr-ENP529_4MNud_lE-ksXUdUOblMf7y8cah3KcaOjNIgJr_9l8o-fXeE4FZotOCa1CSDMl5pHcz4tP-0UtZeuurM5DG?width=496&height=488&cropmode=none" alt="ç´” border åœ“å½¢">  </p><blockquote><p>æ­£ç¢ºçš„åŠåœ“æ˜¯ç›¸é„°å…©é‚Šçš„ border çµ„åˆå‡ºä¾†çš„<br>åƒæ˜¯ <a href="../CSSSeriesZeroToOne-03/#%E8%A3%9C%E5%85%85-%E4%B8%89%E8%A7%92%E5%BD%A2%E7%9A%84%E9%99%B0%E5%BD%B1">03 ç¯‡</a>èƒ½å‡ºç¾é™°å½±çš„ä¸‰è§’å½¢ä¸€æ¨£çš„æ¦‚å¿µ</p></blockquote><h3 id="å­å±¤ç‰©ä»¶æ•´é«”é«˜åº¦è¶…å‡ºçˆ¶å±¤-padding-æ“ å›å»"><a href="#å­å±¤ç‰©ä»¶æ•´é«”é«˜åº¦è¶…å‡ºçˆ¶å±¤-padding-æ“ å›å»" class="headerlink" title="å­å±¤ç‰©ä»¶æ•´é«”é«˜åº¦è¶…å‡ºçˆ¶å±¤ : padding æ“ å›å»"></a>å­å±¤ç‰©ä»¶æ•´é«”é«˜åº¦è¶…å‡ºçˆ¶å±¤ : padding æ“ å›å»</h3><p>å› ç‚º icon margin-top æ˜¯ -75 pxï¼Œæ¯”åŸæœ¬çˆ¶å±¤å‡¸å‡º 75 px ï¼Œå¿…é ˆåœ¨æ•´é«”çš„ padding æŠŠå¤šçš„è£œå›å»ï¼ŒæŠŠå­å®¹å™¨çš„å…ƒç´ éƒ½åŒ…å«åœ¨å…§ã€‚</p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://www.zhihu.com/question/21644198">ä¸ºä»€ä¹ˆã€Œmargin:autoã€å¯ä»¥è®©å—çº§å…ƒç´ æ°´å¹³å±…ä¸­ï¼Ÿ</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;a href=&quot;#æœ¬ç¯‡æˆæœ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;/a&gt;æœ¬ç¯‡æˆæœ&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://codepen.io/shan473/pen/QWOZgzP&quot;&gt;Codepen&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4mc1SNrsZu-Jd9u35WNRJfQgL79lh5rKUE-T708KZoUgmfj1e0iFbqwtXItGPmNayXFew5OcaISpno8uR1h5a0KOuWpfs9NvwytLMedU4ijzl-h2mJT3AKapQU7kA5rNBSPp_QOV-6viFwczOvlSgU65TDbCQlby6ccQSZ4Rvcith2HND8fQOqhBUHkD3FrJAo?width=1024&amp;height=586&amp;cropmode=none&quot; alt=&quot;ç ´æ ¼å¼è¨­è¨ˆ&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="CSS" scheme="https://blog.rosa.tw/tags/CSS/"/>
    
    <category term="CSSZeroToOneSeries" scheme="https://blog.rosa.tw/tags/CSSZeroToOneSeries/"/>
    
  </entry>
  
  <entry>
    <title>CSSZeroToOneSeries | 09 | æ–¹å¡Šé…¥ç‰ˆ</title>
    <link href="https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-09/"/>
    <id>https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-09/</id>
    <published>2022-04-10T04:36:49.000Z</published>
    <updated>2022-06-18T13:47:58.458Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœ¬ç¯‡æˆæœ"><a href="#æœ¬ç¯‡æˆæœ" class="headerlink" title="æœ¬ç¯‡æˆæœ"></a>æœ¬ç¯‡æˆæœ</h2><p><a href="https://codepen.io/shan473/pen/wvPYowG?editors=0100">Codepen</a><br><img data-src="https://dsm01pap006files.storage.live.com/y4mRHJR5nKjd7Mry0fH-Eevw_EuUBALAe_xSDwFAsLc-jhOf9MVukfDscCyR0aOVgn_lXXMo0TTA9P005lZ17bfeeA1u1cH1pUKDVEDHN8e9zgJptSKT1iav8eWY0i6YhYCS8uM0UuTvFQpSWlDK4sLzuIjHGVDA8aLixITKrKveAHX73wjxjTY1VgK64Xx19fM?width=1024&height=585&cropmode=none" alt="æ–¹å¡Šé…¥ç‰ˆ"></p><span id="more"></span><h3 id="float"><a href="#float" class="headerlink" title="float"></a>float</h3><p>å­å±¤è¨­å®š float çš„æ™‚å€™ï¼Œæœƒè„«é›¢åŸæœ¬çš„æ’ç‰ˆåºï¼Œæœƒå°è‡´çˆ¶å±¤çš„é«˜åº¦éŒ¯èª¤æˆ–æŠ“ä¸åˆ°ï¼Œå°±è¦æ¸…é™¤æµ®å‹• (clearfix)ï¼Œä»¥å…å¾Œé¢çš„å…ƒç´ ä¸ç…§é †åºæ“ ä¸Šä¾†ã€‚</p><h4 id="æ¸…é™¤æµ®å‹•-overflow"><a href="#æ¸…é™¤æµ®å‹•-overflow" class="headerlink" title="æ¸…é™¤æµ®å‹• : overflow"></a>æ¸…é™¤æµ®å‹• : overflow</h4><blockquote><p>çˆ¶å±¤æ¶ˆé™¤ float </p></blockquote><p>çˆ¶å±¤ <code>overflow:hidden</code> ï¼Œè®“çˆ¶å±¤å¯ä»¥æŠ“åˆ°å­å±¤çš„é«˜åº¦ã€‚<br>overflow æ˜¯è™•ç†å¤šé¤˜çš„å…§å®¹ï¼Œhidden éš±è—èµ·ä¾†</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>å·¦é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>å³é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>æˆ‘è¦åœ¨ä¸‹é¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.box</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fa0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.left</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span>80%<span class="token punctuation">;</span>  <span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.right</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span>20%<span class="token punctuation">;</span>  <span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¸…é™¤æµ®å‹•-å¤šä¸€å€‹-clearfix-å…ƒç´ "><a href="#æ¸…é™¤æµ®å‹•-å¤šä¸€å€‹-clearfix-å…ƒç´ " class="headerlink" title="æ¸…é™¤æµ®å‹• : å¤šä¸€å€‹ clearfix å…ƒç´ "></a>æ¸…é™¤æµ®å‹• : å¤šä¸€å€‹ clearfix å…ƒç´ </h4><blockquote><p>é‡é»åœ¨æ–¼å­å…ƒç´ ï¼Œå¦‚æœä¸‹ä¸€å€‹æƒ³è¦æŒ‰ç…§è‡ªå·±çš„æµå‘æ’ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Š <code>clearfix</code> æ–¬æ–· float çš„æ’ç‰ˆ</p></blockquote><p>åœ¨æƒ³è¦æ­£å¸¸æ’ç‰ˆåœ¨å­å…ƒç´ å±è‚¡å¾Œé¢ï¼Œè¨­å®š <code>clear : both</code></p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>float å·¦é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>float å³é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æŒ‰ç…§è€æ–¹æ³•å¾€ä¸‹æ’<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.left</span><span class="token punctuation">&#123;</span> <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.right</span><span class="token punctuation">&#123;</span> <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.clearfix</span><span class="token punctuation">&#123;</span><span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŒ‰ä¸‹é–‹é—œå¯ä»¥çœ‹æœ‰ç„¡ float çš„æ•ˆæœ   </p><iframe height="300" style="width: 100%;" scrolling="no" title="float clearfix" src="https://codepen.io/shan473/embed/NWwObjj?default-tab=result&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href="https://codepen.io/shan473/pen/NWwObjj">  float clearfix</a> by YanShanHong (<a href="https://codepen.io/shan473">@shan473</a>)  on <a href="https://codepen.io">CodePen</a>.</iframe><h4 id="æ¸…é™¤æµ®å‹•-çˆ¶å±¤-after"><a href="#æ¸…é™¤æµ®å‹•-çˆ¶å±¤-after" class="headerlink" title="æ¸…é™¤æµ®å‹• : çˆ¶å±¤ :after"></a>æ¸…é™¤æµ®å‹• : çˆ¶å±¤ :after</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>å·¦é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>å³é‚Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>æˆ‘è¦åœ¨ä¸‹é¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.box</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fa0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.box >div</span><span class="token punctuation">&#123;</span><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.box:after</span><span class="token punctuation">&#123;</span><span class="token property">content</span> <span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span><span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å½å…ƒç´ ä¸€å®šè¦è¨­å®š <code>block</code>ï¼Œè®“å¯¬åº¦æ’é–‹  </p></blockquote><h3 id="æ³¢æµªè™Ÿé¸æ“‡å™¨"><a href="#æ³¢æµªè™Ÿé¸æ“‡å™¨" class="headerlink" title="~ æ³¢æµªè™Ÿé¸æ“‡å™¨"></a>~ æ³¢æµªè™Ÿé¸æ“‡å™¨</h3><p>æ³¢æµªè™Ÿæ˜¯å…„å¼Ÿé¸æ“‡å™¨ï¼Œåœ¨åŒä¸€å±¤çš„å¾Œé¢å…„å¼Ÿéƒ½é¸èµ·ä¾†</p><p>å¸¸ç”¨ <strong>ç¬¬ä¸€å€‹  ~  åˆ°åº•çš„å…ƒç´ </strong> éƒ½é¸èµ·ä¾†ï¼Œ<a href="../CSSSeriesZeroToOne-08.md">08 ç¯‡</a> çš„éºµåŒ…å±‘é™¤äº† <code>(p + p)</code>ï¼Œæ³¢æµªè™Ÿä¹Ÿå¯ä»¥ä½¿ç”¨</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>no.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>no.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>no.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>no.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p:first-child ~p</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦ä¸€ç¨®æ˜¯æƒ³é¸åˆ°åŒä¸€å±¤çš„æŸå€‹æ±è¥¿(å€‘)ï¼Œé™¤äº†ç›´æ¥é¸å–å¤–ï¼Œä¹Ÿå¯ä»¥é€é æ³¢æµªè™Ÿ</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æˆ‘æ˜¯ä¸€æ®µæ–‡å­—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æˆ‘æ˜¯ span<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æˆ‘æ˜¯ span<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span>æˆ‘æ˜¯é€£çµ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span>æˆ‘æ˜¯é€£çµ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æˆ‘æ˜¯ span<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p~a</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="not-æ’æ“ ä½ "><a href="#not-æ’æ“ ä½ " class="headerlink" title=":not : æ’æ“ ä½ "></a>:not : æ’æ“ ä½ </h3><p>å±¬æ–¼é€†å‘æ€è€ƒï¼Œå¦‚æœè¦é¸å–é™¤äº†ç¬¬ä¸€å€‹ä»¥å¤–çš„å…¶ä»–æ–¹æ¡†ï¼Œé™¤äº†ç”¨æ³¢æµªè™Ÿ</p><ul><li>ä¸€èˆ¬æ³¢æµªè™Ÿæ’æ“   </li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æ³¢æµªè™Ÿå¼æ’æ“ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ä¸€è™Ÿèµ°é–‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ä¸€è™Ÿèµ°é–‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ä¸€è™Ÿèµ°é–‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p~p</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><code>:not</code> : æ’æ“ ï¼Œéº»ç“œç¿»è­¯æ©Ÿï¼Œè¦é¸åˆ° <strong>éç¬¬ä¸€å€‹çš„ p</strong></li></ul><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p:not(:first-child)</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="è©¦è‘—ç”¨-Grid"><a href="#è©¦è‘—ç”¨-Grid" class="headerlink" title="è©¦è‘—ç”¨ Grid"></a>è©¦è‘—ç”¨ Grid</h2><p>åŒæ¨£çš„æ¶æ§‹ï¼ŒæŠŠ float å»é™¤ï¼Œåˆ©ç”¨è»Œé“ç·šé€²è¡Œæ’ç‰ˆã€‚<br><a href="https://codepen.io/shan473/pen/ZEvRByL?editors=0100">Codepen</a></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.wrapper</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span>grid<span class="token punctuation">;</span>  <span class="token property">grid-template</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span> / <span class="token function">repeat</span><span class="token punctuation">(</span>4<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.item:first-child</span><span class="token punctuation">&#123;</span>  <span class="token property">grid-area</span><span class="token punctuation">:</span> 1 / 1 / 3 / 3<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://medium.com/ui-ux%E7%B7%B4%E5%8A%9F%E5%9D%8A/%E8%A7%A3%E9%99%A4-float-%E5%B1%AC%E6%80%A7%E7%9A%84%E6%96%B9%E6%B3%95-5e29cc30777d">è§£é™¤ float å±¬æ€§çš„æ–¹æ³•. ä½¿ç”¨ float å±¬æ€§ä¸€å®šè¦æ¸…é™¤æµ®å‹•ï¼Œå¦å‰‡æœƒæœ‰ç‰ˆé¢éŒ¯ç½®æˆ–å¤±å»é«˜åº¦çš„æƒ…æ³</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;a href=&quot;#æœ¬ç¯‡æˆæœ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;/a&gt;æœ¬ç¯‡æˆæœ&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://codepen.io/shan473/pen/wvPYowG?editors=0100&quot;&gt;Codepen&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4mRHJR5nKjd7Mry0fH-Eevw_EuUBALAe_xSDwFAsLc-jhOf9MVukfDscCyR0aOVgn_lXXMo0TTA9P005lZ17bfeeA1u1cH1pUKDVEDHN8e9zgJptSKT1iav8eWY0i6YhYCS8uM0UuTvFQpSWlDK4sLzuIjHGVDA8aLixITKrKveAHX73wjxjTY1VgK64Xx19fM?width=1024&amp;height=585&amp;cropmode=none&quot; alt=&quot;æ–¹å¡Šé…¥ç‰ˆ&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="CSS" scheme="https://blog.rosa.tw/tags/CSS/"/>
    
    <category term="CSSZeroToOneSeries" scheme="https://blog.rosa.tw/tags/CSSZeroToOneSeries/"/>
    
  </entry>
  
  <entry>
    <title>CSSZeroToOneSeries | 08 | ç¶²ç«™éºµåŒ…å±‘</title>
    <link href="https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-08/"/>
    <id>https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-08/</id>
    <published>2022-04-10T04:36:38.000Z</published>
    <updated>2022-06-18T13:47:56.107Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœ¬ç¯‡æˆæœ"><a href="#æœ¬ç¯‡æˆæœ" class="headerlink" title="æœ¬ç¯‡æˆæœ"></a>æœ¬ç¯‡æˆæœ</h2><p><a href="https://codepen.io/shan473/pen/MWOqRoJ">Codepen</a><br><img data-src="https://dsm01pap006files.storage.live.com/y4m2Ut7v52DvB4HXKmhJiPfdh0fC0SYoIg5T6XnWySFOIDNRpNgeG6BkVMmRRZ1qoFlUYVdtq9et8hdrrwbuKF_IqtJFFUTFY2ZI0HDP4tw4ma1Jx9JaMbE6WmvD7YYOv32FJlbpmUwIGLUMzWi1CyKgXyGm598Nl1TZPipEnVfdXC5t8p5GdEi7KevsBdw7Zou?width=1024&height=585&cropmode=none" alt="éºµåŒ…å±‘"></p><span id="more"></span><h2 id="before-å½å…ƒç´ "><a href="#before-å½å…ƒç´ " class="headerlink" title="::before å½å…ƒç´ "></a>::before å½å…ƒç´ </h2><p><code>::before</code> æˆ–æ˜¯ <code>:before</code> å¯«æ³•éƒ½å¯ä»¥<br>åˆ©ç”¨ <code>content</code> å…§å®¹ç”¢ç”Ÿçš„ç®­é ­ï¼Œå¯ä»¥éš¨æ™‚æ›¿æ›<br>ç®­é ­ä¹Ÿå±¬è£é£¾æ€§ï¼Œä¸ç”¨å†ç‰¹åˆ¥å¯« html tag  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.breadcrumb li + li:before</span><span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'>'</span><span class="token punctuation">;</span><span class="token property">padding-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>content è¦ºå¾—åœ–æ¡ˆå¤ªå°‘ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ç¶²é ç·¨ç¢¼ UTF-8 çš„ç‰¹æ®Šå­—å…ƒä¾†é¡¯ç¤º</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.breadcrumb li + li:before</span><span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'\003E'</span><span class="token punctuation">;</span><span class="token property">padding-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é€™å…©è€…æ˜¯ä¸€æ¨£çš„ï¼Œä½†å‰ææ˜¯è¦åœ¨ html åŠ å…¥ <code>&lt;meta charset=&quot;utf-8&quot;&gt;</code> è¨­å®šç·¨ç¢¼<br>åƒè€ƒ : <a href="https://www.toptal.com/designers/htmlarrows/">å¿«é€Ÿç·¨ç¢¼ç®­é ­</a></p><h2 id="å†æ·±å…¥å½å…ƒç´ "><a href="#å†æ·±å…¥å½å…ƒç´ " class="headerlink" title="å†æ·±å…¥å½å…ƒç´ "></a>å†æ·±å…¥å½å…ƒç´ </h2><h3 id="å½å…ƒç´ å‡ºç¾çš„ä½ç½®"><a href="#å½å…ƒç´ å‡ºç¾çš„ä½ç½®" class="headerlink" title="å½å…ƒç´ å‡ºç¾çš„ä½ç½® ?"></a>å½å…ƒç´ å‡ºç¾çš„ä½ç½® ?</h3><p>å½å…ƒç´ éœ€è¦ç¶“éç€è¦½å™¨çš„é‹ç®—è·Ÿæ¸²æŸ“ä¹‹å¾Œæ‰æœƒå‡ºç¾ï¼Œæ‰€ä»¥ <strong>æª¢è¦–åŸå§‹ç¢¼</strong> æ˜¯çœ‹ä¸åˆ°çš„</p><h3 id="content"><a href="#content" class="headerlink" title="content"></a>content</h3><p>å½å…ƒç´ ä¸€å®šè¦æœ‰ <code>content</code> ï¼Œä¸ç„¶å°±ä¸æœƒå‡ºç¾äº†<br>å…¶ä¸­ content åŒ…å«å„å¼å„æ¨£çš„å±¬æ€§  </p><ol><li> none</li><li> normal</li><li> <code>string</code></li><li> url</li><li> <code>counter</code></li><li> <code>attr</code></li><li> open-quote</li><li> close-quote</li><li> no-open-quote</li><li> no-close-quote</li></ol><p>é€™é‚Šèˆ‰ä¾‹å¸¸è¦‹çš„å¹¾å€‹æ¨£å¼  </p><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>ä¸€èˆ¬çš„æ–‡å­—æˆ–æ˜¯ç©ºå…§å®¹ï¼Œæ‹¿ä¾†è£é£¾å…ƒç´ <br>åƒæœ¬ç¯‡çš„ç®­é ­å°±æ˜¯ string   </p><h3 id="counter-è®“-css-æ•¸æ•¸"><a href="#counter-è®“-css-æ•¸æ•¸" class="headerlink" title="counter : è®“ css æ•¸æ•¸"></a>counter : è®“ css æ•¸æ•¸</h3><p>åœ¨çˆ¶å±¤æ–°å»ºä¸€å€‹ reset è¨ˆæ™‚å™¨<br><code>counter-reset : &lt;è¨ˆæ™‚å™¨åç¨±&gt; &lt;èµ·å§‹å€¼&gt;</code>ï¼Œå¦‚æœæ²’æœ‰å¯«èµ·å§‹å€¼æ˜¯å¾ 0 é–‹å§‹  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span><span class="token property">counter-reset</span><span class="token punctuation">:</span> Section 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å…¶å¯¦ä¹Ÿå¯ä»¥å¤šå±¤  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span><span class="token property">counter-reset</span><span class="token punctuation">:</span> Section 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">section</span><span class="token punctuation">&#123;</span>  <span class="token property">counter-reset</span><span class="token punctuation">:</span> P 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">section:before</span><span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'Section'</span> <span class="token function">counter</span><span class="token punctuation">(</span>Section<span class="token punctuation">)</span><span class="token string">' .'</span><span class="token punctuation">;</span><span class="token property">counter-increment</span><span class="token punctuation">:</span> Section 1<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token selector">p:before</span><span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'P'</span> <span class="token function">counter</span><span class="token punctuation">(</span>Section<span class="token punctuation">)</span><span class="token string">'-'</span><span class="token function">counter</span><span class="token punctuation">(</span>P<span class="token punctuation">)</span><span class="token string">' .'</span><span class="token punctuation">;</span><span class="token property">counter-increment</span><span class="token punctuation">:</span> P 1<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å­å±¤çš„å½å…ƒç´ å¯ä»¥ä½¿ç”¨ counter é€²è¡Œè¨ˆæ•¸</p><ul><li>content : counter(<code>&lt;è¨ˆæ•¸å™¨åç¨±&gt;</code>)</li><li>counter-increment : <code>&lt;è¨ˆæ•¸å™¨åç¨±&gt; &lt;è¦å¢åŠ çš„æ•¸å­—&gt;</code> ä¹Ÿå¯ä»¥æ˜¯è² æ•¸       </li></ul><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span><span class="token property">counter-reset</span><span class="token punctuation">:</span> Title<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h1:before</span><span class="token punctuation">&#123;</span>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'Title '</span><span class="token function">counter</span><span class="token punctuation">(</span>Title<span class="token punctuation">)</span><span class="token string">' .'</span><span class="token punctuation">;</span>  <span class="token property">counter-increment</span><span class="token punctuation">:</span> Title 1<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="attr"><a href="#attr" class="headerlink" title="attr"></a>attr</h3><p>å¯ä»¥æ‹¿åˆ° <code>data-</code> å±¬æ€§çš„å€¼ï¼Œå¦‚æœè·Ÿè³‡æ–™æœ‰é—œçš„ä¸è¦æ”¾åœ¨å½å…ƒç´ ï¼Œç€è¦½å™¨åœ¨è§£ææ™‚æ˜¯è®€å–ä¸åˆ°çš„ã€‚  </p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å•†åº—<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å“é …<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è²¨ç‰©<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">span:before</span><span class="token punctuation">&#123;</span>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>data-title<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><iframe height="300" style="width: 100%;" scrolling="no" title="css counter" src="https://codepen.io/shan473/embed/podGNON?default-tab=result&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href="https://codepen.io/shan473/pen/podGNON">  css counter</a> by YanShanHong (<a href="https://codepen.io/shan473">@shan473</a>)  on <a href="https://codepen.io">CodePen</a>.</iframe><h3 id="url-æ²’ä½œç”¨çš„åœ–ç‰‡"><a href="#url-æ²’ä½œç”¨çš„åœ–ç‰‡" class="headerlink" title="url æ²’ä½œç”¨çš„åœ–ç‰‡"></a>url æ²’ä½œç”¨çš„åœ–ç‰‡</h3><p>content ä¸­çš„ <a href="http://csscoke.com/2013/09/22/%E4%BD%BF%E7%94%A8before-%E8%88%87-after%E4%BE%86%E8%A3%BD%E4%BD%9C%E5%8F%AF%E5%88%97%E5%8D%B0%E7%9A%84logo%E5%9C%96%E7%89%87/">url åœ–ç‰‡é›–ç„¶èƒ½è¢«åˆ—å°å‡ºä¾†</a>ï¼Œä½†ä¸èƒ½èª¿æ•´å¯¬é«˜å°ºå¯¸ï¼Œåªèƒ½åˆ©ç”¨ scale ä¾†ç¸®æ”¾ã€‚</p><p>æ ¹æ“š <a href="https://segmentfault.com/q/1010000004569689">é€™ç¯‡æ–‡</a>ï¼Œå½å…ƒç´ é è¨­æ˜¯ inline çš„ä¸€ç¨®ï¼Œå°±ç®—èª¿æˆ blockï¼Œå› ç‚º content ä¸¦ä¸æ˜¯å¯¦éš›è¨ˆç®—ç¯„åœï¼Œblock ç®—çš„æ˜¯åŒ¿åå…ƒç´ çš„ <code>width</code> è·Ÿ <code>height</code>  </p><p>çœŸçš„æƒ³æ”¾åœ–ç‰‡å¯ä»¥ä½¿ç”¨ background-imgeï¼Œå†é€é background-size èª¿æ•´å¤§å°ï¼Œä½†æ˜¯å°±ä¸èƒ½è¢«å½±å°</p><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>ç‚ºäº† SEO è‘—æƒ³ï¼Œå½å…ƒç´ å‡ºç¾åœ¨è£é£¾æ€§ä¸Šå°±å¥½ï¼Œè³‡è¨Šé¡å°±ä¸å»ºè­°äº†</p><h2 id="å…„å¼Ÿé¸æ“‡å™¨-ï¼Œæˆ‘çš„éš”å£"><a href="#å…„å¼Ÿé¸æ“‡å™¨-ï¼Œæˆ‘çš„éš”å£" class="headerlink" title="å…„å¼Ÿé¸æ“‡å™¨ (+) ï¼Œæˆ‘çš„éš”å£"></a>å…„å¼Ÿé¸æ“‡å™¨ (+) ï¼Œæˆ‘çš„éš”å£</h2><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ’æ“ æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æˆ‘æœ‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æˆ‘æœ‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>æˆ‘æ˜¯é˜²å®ˆå“¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ’æ“ æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æˆ‘æœ‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">a + a</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨ sass æœƒå¯« <code>&amp; + &amp;</code>ï¼Œé€šå¸¸æ˜¯æ’é™¤ç¬¬ä¸€å€‹ï¼Œå› ç‚ºç¬¬ä¸€å€‹çš„å‰é¢ä¸¦æ²’æœ‰å…ƒç´   </p><p>æˆ–è€…å¯« <code>:not</code> æŠŠç¬¬ä¸€å€‹çµ¦æ’é™¤æ‰  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">a</span><span class="token punctuation">:</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token punctuation">:</span>first-child<span class="token punctuation">)</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="ç¶²é è‰²å½©-HSL"><a href="#ç¶²é è‰²å½©-HSL" class="headerlink" title="ç¶²é è‰²å½© HSL"></a>ç¶²é è‰²å½© HSL</h2><p><code>hsl (è‰²ç›¸è§’åº¦&lt;0~360&gt; , è‰²å½©é£½å’Œåº¦ , è‰²å½©çš„æ˜åº¦ )</code><br>è‰²å½©æ˜¯ RGBï¼Œåˆ†åˆ¥å„ä½” 120 åº¦    </p><p><a href="http://csscoke.com/2015/01/01/rgb-hsl-hex/"><img data-src="https://dsm01pap006files.storage.live.com/y4mzaFTHqTQKFWQ2sQ_sISqYOCtvikOQA4Dmli4z7vpaNjUQ7Nirr4UbVRGbiS9uCI9vba3kPgs7-_xx4wqwjkXxMs-VnajXcBBhswICqcXV54qi9lLN5lSAO_A-G5MdHISuaULUSfhoHKbgA1KFfLD6bcojrfSyoJJqCwIodr7i0AGpp8ainTKi0Fl7MV7y3XO?width=500&height=424&cropmode=none" alt="HSL è‰²ç›¸ç’°åœ–ç‰‡"> ä¾†è‡ªã€ŠRGBã€HSLã€Hex ç¶²é è‰²å½©ç¢¼ï¼Œçœ‹å®Œé€™ç¯‡å…¨æ‡‚äº† | CSSå¯æ¨‚ã€‹</a>  </p><ul><li><code>Hue</code> : è‰²ç›¸</li><li><code>Saturation</code> : é£½å’Œåº¦ã€‚ é è¨­æ˜¯ 100%ï¼Œè¶Šä½è¶Šæ¥è¿‘ç°é»‘</li><li><code>Lightness</code> : äº®åº¦ã€‚ é è¨­æ˜¯ 50%ã€‚ æœ‰é»åƒç›¸æ©Ÿçš„æ›å…‰åº¦ï¼Œå¢åŠ ç™½è‰²æˆ–é»‘è‰²çš„é‡</li></ul><p>ä¾‹ :  ç¶ è‰²  <code>hsl (120,100%,50%)</code></p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://segmentfault.com/q/1010000004569689">ä¼ªç±»before/afterä¸­çš„å›¾ç‰‡å¤§å°æ˜¯ä¸æ˜¯ä¸èƒ½è®¾ç½®çš„? - SegmentFault æ€å¦</a>   </li><li><a href="http://csscoke.com/2013/09/22/%E4%BD%BF%E7%94%A8before-%E8%88%87-after%E4%BE%86%E8%A3%BD%E4%BD%9C%E5%8F%AF%E5%88%97%E5%8D%B0%E7%9A%84logo%E5%9C%96%E7%89%87/">ä½¿ç”¨::before èˆ‡ ::afterä¾†è£½ä½œå¯åˆ—å°çš„logoåœ–ç‰‡</a>  </li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;a href=&quot;#æœ¬ç¯‡æˆæœ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;/a&gt;æœ¬ç¯‡æˆæœ&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://codepen.io/shan473/pen/MWOqRoJ&quot;&gt;Codepen&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4m2Ut7v52DvB4HXKmhJiPfdh0fC0SYoIg5T6XnWySFOIDNRpNgeG6BkVMmRRZ1qoFlUYVdtq9et8hdrrwbuKF_IqtJFFUTFY2ZI0HDP4tw4ma1Jx9JaMbE6WmvD7YYOv32FJlbpmUwIGLUMzWi1CyKgXyGm598Nl1TZPipEnVfdXC5t8p5GdEi7KevsBdw7Zou?width=1024&amp;height=585&amp;cropmode=none&quot; alt=&quot;éºµåŒ…å±‘&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="CSS" scheme="https://blog.rosa.tw/tags/CSS/"/>
    
    <category term="CSSZeroToOneSeries" scheme="https://blog.rosa.tw/tags/CSSZeroToOneSeries/"/>
    
  </entry>
  
  <entry>
    <title>CSSZeroToOneSeries | 07 | å°è¦½åˆ— &amp; è®ŠåŒ–å°è¦½åˆ—</title>
    <link href="https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-07/"/>
    <id>https://blog.rosa.tw/Front-end/CSSSeriesZeroToOne-07/</id>
    <published>2022-04-09T14:46:25.000Z</published>
    <updated>2022-06-18T13:47:53.629Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœ¬ç¯‡æˆæœ"><a href="#æœ¬ç¯‡æˆæœ" class="headerlink" title="æœ¬ç¯‡æˆæœ"></a>æœ¬ç¯‡æˆæœ</h2><p><a href="https://codepen.io/shan473/pen/abVaLWx">Codepen</a><br><img data-src="https://dsm01pap006files.storage.live.com/y4m9T4H16Ta75kDzYcQq5DvDiixK4mUT7-zgyeMbwFltHZbFafI5uejyNEI2PKXuVsHwbitph6KpHB-W1twOqWHvFYJXV0ZHqpaK31pEbAbsnH7ffzVJrY4jCn-DQT8BuQlWSI7mhiwxpMOte8vgXL82SlBMc9CDVnRs4GQaX5zSfAIPFEVdD6wo429FOHMt4kh?width=1024&height=133&cropmode=none" alt="å°è¦½åˆ—"></p><p>LOGO æ”¾ä¸­å¤®çš„å››ç¨®ä¸åŒå¯«æ³•å°è¦½åˆ—<br><a href="https://codepen.io/shan473/pen/NWwLwmZ">Codepen</a><br><img data-src="https://dsm01pap006files.storage.live.com/y4mxh2kVWQGz5Y5blS98ignQpvNJzpOWFoegrfNdnwioXN37pRMs_UAXWIjV38dGFgg2z4HSQGInRsfJzwzxhUc1-TL4o4jsjhWV_PINth18C_qZ2JEo-KuJm3UAaU8ePorHvVKZABYHV6LJ9mgFTP4YdVPGUP2DmOSCmHehmX01KVzjrVlFs-xp9IVKe_3hKWO?width=660&height=444&cropmode=none" alt="è®ŠåŒ–å°è¦½åˆ—"></p><span id="more"></span><h3 id="max-width-æœ€å¤§å¯¬åº¦"><a href="#max-width-æœ€å¤§å¯¬åº¦" class="headerlink" title="max-width : æœ€å¤§å¯¬åº¦"></a>max-width : æœ€å¤§å¯¬åº¦</h3><p>é¿å…ç¾ä»£è¢å¹•éå¯¬(é«˜è§£æåº¦è¢å¹•)å°è‡´å…ƒç´ è¢«æ“ åœ¨é‚Šé‚Šï¼Œå¦‚æœåŸæœ¬æ˜¯ width æ˜¯å¡«æ»¿çš„æƒ…æ³ï¼Œä½¿ç”¨ <code>display : flexï¼Œjustify-content : space-between</code>ï¼Œå…ƒç´ æœƒè¢«åˆ†æ•£åœ¨è¢å¹•çš„é‚Šé‚Šè§’è§’ã€‚ </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span>  <span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="input-focus"><a href="#input-focus" class="headerlink" title="input : focus"></a>input : focus</h3><p>input åœ¨æ‰“å­—æ™‚æœƒæœ‰é è¨­çš„å¤–æ¡†ç·š **(outline)**ï¼Œå¯ä»¥æŠŠæ¡†ç·šæ¶ˆå¤±ï¼Œè®“è¦–è¦ºé«”é©—æ›´åŠ ã€‚</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">input:foucs</span><span class="token punctuation">&#123;</span>  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="a-tag-ä¸èƒ½-transform-çš„åŸå› "><a href="#a-tag-ä¸èƒ½-transform-çš„åŸå› " class="headerlink" title="a tag ä¸èƒ½ transform çš„åŸå› "></a>a tag ä¸èƒ½ transform çš„åŸå› </h3><p>å¹«é€£çµåŠ ä¸Šæµ®ä¸Šå»çš„æ¼¸è®Šå‹•ç•«ï¼Œ a çš„é è¨­ display æ˜¯ <code> inline</code>ï¼Œæœƒç™¼ç¾ç›´æ¥åŠ ä¸Šå» a ä¸¦ä¸æœƒæœ‰è®ŠåŒ–ã€‚  </p><p>å¯¦éš›ä¸Š inline å±¬æ€§çš„å…ƒç´ ä¸¦ä¸æ”¯æ´ï¼Œä¿®æ”¹ display å±¬æ€§å°±å¯ä»¥äº†ã€‚</p><p>åƒè€ƒ : </p><ul><li><a href="https://stackoverflow.com/questions/14883250/css-transform-doesnt-work-on-inline-elements">CSS transform doesnâ€™t work on inline elements - Stack Overflow</a></li></ul><blockquote><p>æ ¹æ“š CSS è¦æ ¼æ›¸ï¼Œæœ‰æåˆ°å€å¡Šå…ƒç´ æˆ–è€… <code>inline-auto</code> é€™é¡æ‰å¯ä»¥ transformã€‚ </p></blockquote><h3 id="border-ç•«ç·šæ•ˆæœ"><a href="#border-ç•«ç·šæ•ˆæœ" class="headerlink" title="border ç•«ç·šæ•ˆæœ"></a>border ç•«ç·šæ•ˆæœ</h3><p>position è®“æˆ‘å€‘å¯ä»¥åˆ©ç”¨ topã€bottomã€leftã€right å››é‚Šé€²è¡Œå®šä½ï¼Œä¹Ÿå¯ä»¥æ’é–‹å…¨ç‰ˆé¢ã€‚<br>ä¹Ÿå¯ä»¥åˆ©ç”¨å½å…ƒç´ çš„ <code>left</code>ã€<code>right</code> ä¾†å‰µé€ ç·šæ¢æ”¶ç¸®çš„æ•ˆæœã€‚  </p><blockquote><p>ç‚ºä»€éº¼ç”¨å½å…ƒç´  ? é€™é‚Šçš„åº•ç·šåªæ˜¯ <strong>è£é£¾ä½œç”¨</strong> ä¸å…·ä»»ä½•è³‡è¨Šï¼Œç›¡é‡ä¸è¦å‰µé€ æ–°çš„ tag ä¾†è£</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container nav a:after</span><span class="token punctuation">&#123;</span>  <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid <span class="token function">var</span><span class="token punctuation">(</span>--txtColor<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span>left .3s ease<span class="token punctuation">,</span>right .3 ease<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container nav a:hover:after</span><span class="token punctuation">&#123;</span>  <span class="token property">left</span><span class="token punctuation">:</span>1em<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span>1em<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¾Œä¾†æƒ³æƒ³é€™æ¨£çš„å¯«æ³•ä¸å¤ªå¥½ï¼ŒåŸå› åœ¨æ–¼ <a href="https://csstriggers.com/top"><code>top</code></a> é€™é¡å®šä½æ˜¯æœƒ <code>reflow</code> (é‡æ’)ï¼Œæ•ˆèƒ½ä¸Šæ¯”è¼ƒä¸å¥½ï¼Œé¸æ“‡åªæœ‰ <code>repaint</code> (é‡ç¹ª) çš„ <a href="https://csstriggers.com/transform">transform</a></p></blockquote><p>æ”¹æˆ transform  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container nav a:after</span><span class="token punctuation">&#123;</span>  <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 0.1em<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">transform-origin</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> transform .3s ease<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container nav a:hover:after</span><span class="token punctuation">&#123;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>.8<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>transition ä¸è¦ä½¿ç”¨ <code>all</code>ï¼Œé‡å°è¦ä»¶æ¼¸è®Šçš„éƒ¨åˆ†è¨­å®šå°±å¥½ï¼Œä»¥å…æ•ˆèƒ½ä¸Šçš„æµªè²»ã€‚</p></blockquote><h2 id="å°è¦½åˆ—è®ŠåŒ–æ‰‹æ³•"><a href="#å°è¦½åˆ—è®ŠåŒ–æ‰‹æ³•" class="headerlink" title="å°è¦½åˆ—è®ŠåŒ–æ‰‹æ³•"></a>å°è¦½åˆ—è®ŠåŒ–æ‰‹æ³•</h2><ol><li>æŠŠ LOGO æ“ºä¸­é–“  </li><li>flexbox æ”¹è®Š order  </li><li>ç›´æ¥æ”¹å¯« HTML çµæ§‹</li><li>åˆ©ç”¨çµ•å°å®šä½   </li></ol><p>å€‹äººæœ€å–œæ­¡ flexbox çš„éƒ¨ä»½ï¼Œæ—¢ä¸ä¿®æ”¹çµæ§‹ï¼Œåˆä¿æœ‰å½ˆæ€§ä¿®æ”¹ï¼Œå“ªå¤©æƒ³è®“ LOGO åˆ°æœ€å‰é¢åªè¦ä¿®æ”¹ <code>order</code> å³å¯ã€‚ </p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;a href=&quot;#æœ¬ç¯‡æˆæœ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬ç¯‡æˆæœ&quot;&gt;&lt;/a&gt;æœ¬ç¯‡æˆæœ&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://codepen.io/shan473/pen/abVaLWx&quot;&gt;Codepen&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4m9T4H16Ta75kDzYcQq5DvDiixK4mUT7-zgyeMbwFltHZbFafI5uejyNEI2PKXuVsHwbitph6KpHB-W1twOqWHvFYJXV0ZHqpaK31pEbAbsnH7ffzVJrY4jCn-DQT8BuQlWSI7mhiwxpMOte8vgXL82SlBMc9CDVnRs4GQaX5zSfAIPFEVdD6wo429FOHMt4kh?width=1024&amp;height=133&amp;cropmode=none&quot; alt=&quot;å°è¦½åˆ—&quot;&gt;&lt;/p&gt;
&lt;p&gt;LOGO æ”¾ä¸­å¤®çš„å››ç¨®ä¸åŒå¯«æ³•å°è¦½åˆ—&lt;br&gt;&lt;a href=&quot;https://codepen.io/shan473/pen/NWwLwmZ&quot;&gt;Codepen&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://dsm01pap006files.storage.live.com/y4mxh2kVWQGz5Y5blS98ignQpvNJzpOWFoegrfNdnwioXN37pRMs_UAXWIjV38dGFgg2z4HSQGInRsfJzwzxhUc1-TL4o4jsjhWV_PINth18C_qZ2JEo-KuJm3UAaU8ePorHvVKZABYHV6LJ9mgFTP4YdVPGUP2DmOSCmHehmX01KVzjrVlFs-xp9IVKe_3hKWO?width=660&amp;height=444&amp;cropmode=none&quot; alt=&quot;è®ŠåŒ–å°è¦½åˆ—&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="CSS" scheme="https://blog.rosa.tw/tags/CSS/"/>
    
    <category term="CSSZeroToOneSeries" scheme="https://blog.rosa.tw/tags/CSSZeroToOneSeries/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | åˆæ¢ CSS Grid</title>
    <link href="https://blog.rosa.tw/Front-end/CSS-Grid/"/>
    <id>https://blog.rosa.tw/Front-end/CSS-Grid/</id>
    <published>2022-04-09T10:55:08.000Z</published>
    <updated>2022-06-18T14:03:07.400Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>çœ¾æ‰€çš†çŸ¥ flex æ˜¯æ’ç‰ˆç¥å™¨ï¼Œå°¤å…¶åœ¨ä¸€ç¶­çš„æ’ç‰ˆéå¸¸å¥½ç”¨<br>é‚£åœ¨äºŒç¶­çš„æ’ç‰ˆå‘¢ ?<br>å°±ä¸å¾—æåˆ° gridï¼Œé›–ç„¶ grid åœ¨èˆŠçš„ç€è¦½å™¨æ”¯æ´æ€§æ²’åˆ°å¾ˆé«˜ï¼Œç¾ä»£ç€è¦½å™¨æ˜¯å¹¾ä¹éƒ½æœ‰æ”¯æ´ã€‚(<a href="https://caniuse.com/css-grid">caniuse</a>)   </p><span id="more"></span>  <h2 id="grid-container-å®¹å™¨å¸ƒå±€"><a href="#grid-container-å®¹å™¨å¸ƒå±€" class="headerlink" title="grid-container å®¹å™¨å¸ƒå±€"></a>grid-container å®¹å™¨å¸ƒå±€</h2><p>è¦å»ºç«‹ç¶²æ ¼ï¼Œèµ·æ‰‹å¼å…ˆå»ºé€ ä¸€å€‹å®¹å™¨ï¼Œæº–å‚™è®“å­é …ç¶²æ ¼æ’åˆ—    </p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item item1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item item2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item item3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item item4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item item5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="display-grid"><a href="#display-grid" class="headerlink" title="display : grid"></a>display : grid</h3><p>grid æ˜¯äºŒç¶­çš„ç‰ˆé¢æ’ç‰ˆï¼Œé€é columns è·Ÿ rows ä¾†å®‰æ’ï¼Œç›´æ¥ åŠ ä¸Š grid ä¸æœƒæœ‰è®ŠåŒ–ã€‚  </p><p>display æœ‰é—œ grid çš„æœ‰ 2 å€‹å€¼ï¼Œå°±åƒ <code>inline-flex</code> è·Ÿ <code>flex</code>    </p><ol><li><code>inline-grid</code>  </li><li><code>grid</code> : 2D å¸ƒå±€  </li></ol><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span> grid | inline-grid<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ ¼ç·šè»Œé“ï¼ˆGrid-Trackï¼‰"><a href="#æ ¼ç·šè»Œé“ï¼ˆGrid-Trackï¼‰" class="headerlink" title="æ ¼ç·šè»Œé“ï¼ˆGrid Trackï¼‰"></a>æ ¼ç·šè»Œé“ï¼ˆGrid Trackï¼‰</h3><p>åœ¨ grid ä¸­æœ‰ä¸åŒçš„å¸ƒå±€æ–¹å¼ï¼Œä¾†æ±ºå®šç¶²æ ¼çš„æ¶æ§‹     </p><ol><li>è»Œé“   </li><li>fr åˆ†å¡Šï¼Œåˆ©ç”¨ç™¾åˆ†æ¯”ç®—æ ¼æ•¸ï¼Œå…·æœ‰å½ˆæ€§</li></ol><h3 id="æ˜å¼æ ¼ç·šï¼ˆexplicit-gridï¼‰"><a href="#æ˜å¼æ ¼ç·šï¼ˆexplicit-gridï¼‰" class="headerlink" title="æ˜å¼æ ¼ç·šï¼ˆexplicit gridï¼‰"></a>æ˜å¼æ ¼ç·šï¼ˆexplicit gridï¼‰</h3><p>æ˜å¼æ˜¯è‡ªå®šç¾©è»Œé“ï¼Œæœ‰æ˜å°±æœƒæœ‰æš—ï¼Œæš—å¼æ˜¯ CSS å¹«æˆ‘å€‘å»ºç«‹çš„ç·šã€‚  </p><h4 id="grid-template-columns-æ©«å‘è»Œé“"><a href="#grid-template-columns-æ©«å‘è»Œé“" class="headerlink" title="grid-template-columns : æ©«å‘è»Œé“"></a>grid-template-columns : æ©«å‘è»Œé“</h4><p>æ©«å‘ç¶²æ ¼çš„å¯¬åº¦ã€‚<br>åˆæ³•çš„çµ•å°å–®ä½ :   </p><ul><li>% </li><li>px</li><li>em</li><li>rem  </li></ul><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">grid-template-columns</span> <span class="token punctuation">:</span> 100px 100px 200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ©«å‘æ”¾å…¥ä¸‰å€‹å…ƒç´ ï¼Œå„åˆ¥æœ‰å¯¬åº¦ã€‚  </p><ul><li><p><code>fr</code> : å¯ç”¨ç©ºé–“çš„åˆ†å¡Šï¼ˆfractionï¼‰ã€‚å…¨éƒ½ <code>fr</code> çš„å–®ä½å°±åƒåˆ‡åˆ†æˆå¹¾åˆ†ä¹‹å¹¾ï¼Œä½†æ˜¯é¡ä¼¼å¸¶æœ‰ flex-grow ã€flex-shrink çš„åŠŸèƒ½ã€‚  </p>  <pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 2fr 3fr<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>  æ©«å‘å‘ˆç¾å…©å€‹å…ƒç´ ï¼Œå‰è€…å  2/5ï¼Œå¾Œè€… 3/5</p></li><li><p><code>auto</code> : å¦‚æœæ˜¯æ­é… fr å–®ä½ï¼Œæœƒæ˜¯å­å…ƒç´ åˆ†é…å‰©é¤˜çš„ç©ºé–“</p></li></ul><p>å¦‚æœæœ‰é‡è¤‡çš„ç‰ˆé¢ï¼Œé™¤äº†ä¸€å€‹å€‹æ‰‹æ‰“ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ repeat å¿«é€Ÿé‡è¤‡</p><ul><li><code>repeat(&lt;æ¬¡æ•¸&gt;,&lt;å–®ä½&gt;)</code>  <pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span>grid<span class="token punctuation">;</span><span class="token property">grid-template-columns</span> <span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>5<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>  å®¹å™¨æœƒè¢«æ©«å‘åˆ‡æˆäº”å¡Šã€‚  <h4 id="gird-template-rows"><a href="#gird-template-rows" class="headerlink" title="gird-template-rows"></a>gird-template-rows</h4>ç›´æ’é–“çš„å¤§å°ï¼Œè·Ÿ columns å¾ˆåƒ<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span>grid<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>  <span class="token property">grid-template-columns</span> <span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>5<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>5<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.item:nth-child(2n)</span><span class="token punctuation">&#123;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.item:nth-child(2n+1)</span><span class="token punctuation">&#123;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>å»¶ä¼¸ä¸Šä¸€å€‹ columns çš„ä¾‹å­ï¼Œé€™æ¨£å°±å®Œæˆ 5X5 çš„ç¶²æ ¼ç‰ˆé¢ã€‚<br>åšå€‹ç°¡å–®çš„å°±æ˜¯é»‘ç™½æ£‹ç›¤æ ¼<br><img data-src="https://dsm01pap006files.storage.live.com/y4mWjsi1VFCz1a4Y4PYgBdGH4nr_koMsXMKau9gYdZw6NHUWT6BZTF5VZzybgEZeTgEWRW7yShbHrosym0pS8SwRMoz8afSelU59UktSX_elpmKmC2GyvE1HQY_PVkefILEXPrnQoaOVZqP-h3mlpRPRv7Ma6NWNF8bWxiFgg0LCDBQ5pAgdUJKSyhR__iTjKM-?width=1024&height=558&cropmode=none" alt="è»Œé“å¼å¸ƒå±€"></li></ul><h4 id="grid-template-æ··åˆå¼å¸ƒå±€"><a href="#grid-template-æ··åˆå¼å¸ƒå±€" class="headerlink" title="grid-template : æ··åˆå¼å¸ƒå±€"></a>grid-template : æ··åˆå¼å¸ƒå±€</h4><blockquote><p>å…ˆ row å† column</p></blockquote><ul><li><p>grid-template : <code>&lt;rows-template&gt; / &lt;columns-template&gt;</code></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* è»Œé“å¼ */</span><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token comment">/* ...ç•¥ */</span>  <span class="token property">grid-template</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>5<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span> / <span class="token function">repeat</span><span class="token punctuation">(</span>5<span class="token punctuation">,</span>1fr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é™¤äº†è»Œé“ä¹Ÿå¯ä»¥ç”¨å‘½åå¼çš„ï¼Œä¸Šé¢çš„ä¾‹å­å¯ä»¥æ”¹æˆï¼Œä¸‹é¢æœƒå†æåˆ°å‘½åå¼çš„å¯«æ³•    </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* è»Œé“å¼ */</span><span class="token selector">.container</span><span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span>grid<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>  <span class="token property">grid-template</span><span class="token punctuation">:</span>     <span class="token string">". . . . ."</span>    <span class="token string">". . . . ."</span>    <span class="token string">". . . . ."</span>    <span class="token string">". . . . ."</span>    <span class="token string">". . . . ."</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img data-src="https://dsm01pap006files.storage.live.com/y4munCQNLVYAOI_NYCgXrtU1bv1eLPQS8Nb_33cNyi0-DhiHRAeXzLCZYZi73nysSdYiALn5Ht-_Hoj0uD1VBw3tiLw5HE95LAuvmENJX9hSx2GnjRXwx_yHe8D5LthivgCGVNW_EuGXFJ8I3fJAtqTZVAbSFx8Zxvx_1Av9IqqrTFpH78MQSYy0dVnBEuy4Eeo?width=1024&height=558&cropmode=none" alt="å‘½åå¼å¸ƒå±€"></p><h3 id="æš—å¼æ ¼ç·šï¼ˆimplicit-gridï¼‰"><a href="#æš—å¼æ ¼ç·šï¼ˆimplicit-gridï¼‰" class="headerlink" title="æš—å¼æ ¼ç·šï¼ˆimplicit gridï¼‰"></a>æš—å¼æ ¼ç·šï¼ˆimplicit gridï¼‰</h3><p>ç€è¦½å™¨å°‡å‰©é¤˜çš„ç©ºé–“è‡ªè¡Œé‹ç”¨ç”¢ç”Ÿçš„<br>è¨­å®šå‰©ä¸‹æ²’æœ‰æŒ‡å®š template çš„ rows</p><blockquote><p><strong>implicit grid é è¨­çš„å¯¬åº¦æœƒæ ¹æ“šå…§å®¹çš„å¤§å°ä¾†æ”¹è®Š</strong><br>å¦‚æœ å®šæ ¼åˆ°è¶…å‡ºçš„ track ï¼ŒCSS æœƒè‡ªå‹•è£œä¸Š implicit grid</p></blockquote><h4 id="grid-auto-rows-amp-grid-auto-columns"><a href="#grid-auto-rows-amp-grid-auto-columns" class="headerlink" title="grid-auto-rows &amp;  grid-auto-columns"></a>grid-auto-rows &amp;  grid-auto-columns</h4><p>å®¹å™¨é è¨­å¯¬é«˜ã€‚  </p></li><li><p> <code>minmax</code> å¯ä»¥è¨­å®šæœ€å°å’Œæœ€å¤§å€¼  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">grid-auto-rows</span> <span class="token punctuation">:</span> <span class="token function">minmax</span><span class="token punctuation">(</span>`&lt;min><span class="token punctuation">,</span>&lt;max>`<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="ç¶²æ ¼é–“è·"><a href="#ç¶²æ ¼é–“è·" class="headerlink" title="ç¶²æ ¼é–“è·"></a>ç¶²æ ¼é–“è·</h3><h4 id="grid-gap"><a href="#grid-gap" class="headerlink" title="grid-gap"></a>grid-gap</h4><ul><li><code>grid-gap-row</code> : ç›´å‘å…ƒç´ çš„é–“è·</li><li><code>grid-gap-column</code> : æ©«å‘å…ƒç´ çš„é–“è·</li></ul><p>å…©å€‹åˆä½µè¨­å®š grid-gap :  <code>&lt;row&gt; &lt;column&gt;</code><br>ä¸€æ¨£æ˜¯ <strong>å…ˆ row å† column</strong></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">&#123;</span><span class="token property">grid-gap</span> <span class="token punctuation">:</span> &lt;row-gap> &lt;column-gap><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="å¦ä¸€ç¨®å¸ƒå±€-å‘½åå¼"><a href="#å¦ä¸€ç¨®å¸ƒå±€-å‘½åå¼" class="headerlink" title="å¦ä¸€ç¨®å¸ƒå±€ : å‘½åå¼"></a>å¦ä¸€ç¨®å¸ƒå±€ : å‘½åå¼</h2><h3 id="grid-template-areas-å‘½åå¼å¸ƒå±€"><a href="#grid-template-areas-å‘½åå¼å¸ƒå±€" class="headerlink" title="grid-template-areas : å‘½åå¼å¸ƒå±€"></a>grid-template-areas : å‘½åå¼å¸ƒå±€</h3><p>é€éå‘½åçš„æ–¹å¼çµ¦ç©ºé–“<br>åœ¨çˆ¶å±¤ <code>grid-template-areas</code> å®šç¾©ç‰ˆé¢<br>å­å±¤å…ƒç´ é€é <code>grid-area</code> è¨­å®šåˆ¥å </p><p>å¸¸è¦‹çš„ç¯„ä¾‹ï¼Œå¿«é€Ÿæ’å‡º <strong>ä¸‰æ¬„å¼å¸ƒå±€</strong></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><span class="token property">grid-template-areas</span> <span class="token punctuation">:</span> <span class="token string">"header header"</span><span class="token string">"sidebar content"</span><span class="token string">"footer footer"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="grid-area-å®šæ ¼ä¹‹å‘½åå¼å®šæ ¼"><a href="#grid-area-å®šæ ¼ä¹‹å‘½åå¼å®šæ ¼" class="headerlink" title="grid-area : å®šæ ¼ä¹‹å‘½åå¼å®šæ ¼"></a>grid-area : å®šæ ¼ä¹‹å‘½åå¼å®šæ ¼</h3><p>ä¸Šé¢æœ‰æåˆ°è»Œé“å¼çš„åˆä½µå¯«æ³•ä¹Ÿå¯ä»¥ <code>grid-area</code> èµ·é» &amp; çµ‚é»ï¼Œè€Œåœ¨å‘½åå¼å¸ƒå±€å¯ä»¥å°æƒ³è¦çš„å…ƒç´ å‘½åï¼Œå†åˆ°å¸ƒå±€é€²è¡Œæ’åˆ—ã€‚  </p><p>å»¶çºŒä¸Šé¢çš„ä¸‰æ¬„å¼å¸ƒå±€ï¼Œå°å€‹åˆ¥çš„å€å¡Š <strong>å‘½å</strong><br>å†å€‹åˆ¥è¨­å®šå€å¡Šå¤§å°ã€‚  <a href="https://codepen.io/shan473/pen/yLpjwaK">Codepen ä¸‰æ¬„å¼</a></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 100px 1fr<span class="token punctuation">;</span>  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 200px 1fr 64px<span class="token punctuation">;</span><span class="token property">grid-template-areas</span> <span class="token punctuation">:</span> <span class="token string">"header header"</span><span class="token string">"sidebar content"</span><span class="token string">"footer footer"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.header</span><span class="token punctuation">&#123;</span><span class="token property">grid-area</span> <span class="token punctuation">:</span> header<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.sidebar</span><span class="token punctuation">&#123;</span><span class="token property">grid-area</span> <span class="token punctuation">:</span> sidebar<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fa0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.content</span><span class="token punctuation">&#123;</span><span class="token property">grid-area</span> <span class="token punctuation">:</span> content <span class="token punctuation">;</span>   <span class="token property">background-color</span><span class="token punctuation">:</span> #0fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.footer</span><span class="token punctuation">&#123;</span><span class="token property">grid-area</span> <span class="token punctuation">:</span> footer<span class="token punctuation">;</span>   <span class="token property">background-color</span><span class="token punctuation">:</span> violet<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å€‹äººè¦ºå¾—é€™ç¨®æ–¹å¼å¾ˆç›´è¦ºï¼Œåšå¸¸è¦ç‰ˆé¢è¦åŠƒå°±å¯ä»¥å¾ˆå¿«é€ŸğŸ˜ƒ  </p><h2 id="grid-item-å­é …å®šæ ¼"><a href="#grid-item-å­é …å®šæ ¼" class="headerlink" title="grid-item å­é …å®šæ ¼"></a>grid-item å­é …å®šæ ¼</h2><h3 id="grid-row-column-start-amp-end-å€‹åˆ¥è¨­å®šå®šæ ¼"><a href="#grid-row-column-start-amp-end-å€‹åˆ¥è¨­å®šå®šæ ¼" class="headerlink" title="grid-row/column start &amp; end å€‹åˆ¥è¨­å®šå®šæ ¼"></a>grid-row/column start &amp; end å€‹åˆ¥è¨­å®šå®šæ ¼</h3><p>æœ‰å…©ç¨®æ–¹å¼ä¾†è®“æ ¼å­è¢«ä½”æ“š</p><ol><li>è»Œé“ç¯„åœ</li><li>ä½”æ“šæ ¼æ•¸ </li></ol><h4 id="é€éè»¸ç·šèµ·çµ‚é»ä¾†æŒ‡å®šä½”æ“šçš„ç¯„åœ"><a href="#é€éè»¸ç·šèµ·çµ‚é»ä¾†æŒ‡å®šä½”æ“šçš„ç¯„åœ" class="headerlink" title="é€éè»¸ç·šèµ·çµ‚é»ä¾†æŒ‡å®šä½”æ“šçš„ç¯„åœ"></a>é€éè»¸ç·šèµ·çµ‚é»ä¾†æŒ‡å®šä½”æ“šçš„ç¯„åœ</h4><ul><li><code>grid-column-start</code> :  column çš„ä½”æ“šè»Œé“èµ·é»</li><li><code>grid-column-end</code> : column çš„ä½”æ“šè»Œé“çµ‚é»</li></ul><p>æ‰“é–‹ Devtools æŒ‰ä¸‹ grid çš„æ ¼ç·šè¦–è¦ºå·¥å…·å°±å¯ä»¥çœ‹è¦‹<br><img data-src="https://dsm01pap006files.storage.live.com/y4mFIFKSjXekpoog3xRQ2ne9NlGlppe2cMmpEyFJah7PMyNkDaFqG3BIrKWtESIgciPHiZw_qqYVFJRFYWO0OHTqvcyjR_0APRrrlZb7mVrKDkTDLsBclQunblwKtk4aoAwiGEk-E8u68pOAqaRSyu6NQ2Cb69euzI-d_02dR7VNk2rk15g-bDZqscdaCPFbDn0?width=1024&height=588&cropmode=none" alt="Devtools grid"></p><p>åˆä½µå¯«æ³•</p><ul><li><code>grid-column</code> : &lt;èµ·é»&gt; /  &lt;çµ‚é»&gt;</li></ul><p>å¦‚æœæƒ³è¦ <strong>å æ“šæ•´è¡Œ</strong>ï¼Œé™¤äº†å¾ <strong>ç¬¬ä¸€è¡Œ / æœ«è¡Œ</strong> é€™æ¨£å¯«ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨è² æ•¸ä¾†é”æˆã€‚</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.item-1</span><span class="token punctuation">&#123;</span><span class="token property">grid-column</span> <span class="token punctuation">:</span> 1/-1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="span-æ•¸æ ¼æ•¸"><a href="#span-æ•¸æ ¼æ•¸" class="headerlink" title="span : æ•¸æ ¼æ•¸"></a>span : æ•¸æ ¼æ•¸</h4><p>é è¨­ grid-column æ˜¯ <code>span 1</code>ï¼Œå°±æ˜¯æŒ‰ç…§ flow å æ“šä¸€æ ¼  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.item-2</span><span class="token punctuation">&#123;</span><span class="token property">grid-colum</span> <span class="token punctuation">:</span> span 2<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="grid-area-è»Œé“æ··åˆå¼å®šæ ¼"><a href="#grid-area-è»Œé“æ··åˆå¼å®šæ ¼" class="headerlink" title="grid-area : è»Œé“æ··åˆå¼å®šæ ¼"></a>grid-area : è»Œé“æ··åˆå¼å®šæ ¼</h3><p>grid-area : <code>&lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;</code>ã€‚</p><p>æŒ‰ç…§è€è¦çŸ© <strong>å…ˆ row é–‹å§‹å† column</strong></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.item</span><span class="token punctuation">&#123;</span><span class="token property">grid-area</span> <span class="token punctuation">:</span> 1 / 2 / 3 / 4 <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="order-é †åº"><a href="#order-é †åº" class="headerlink" title="order é †åº"></a>order é †åº</h2><p>è·Ÿ <code>flex</code> ä¸€æ¨£ grid æ˜¯å¯ä»¥æ”¹è®Šé †åºçš„ã€‚  </p><ul><li><code>order : 0</code> ç…§åŸæœ¬çš„æ’åº</li><li><code>order : -1</code> : order ä¹Ÿå¯ä»¥æ˜¯è² å€¼ï¼Œå±¬æ–¼å¾€å‰æ’ã€‚    </li></ul><p>order çš„èµ·å§‹é»æ˜¯å¾ <strong>æ•´é«”çš„æ’åˆ—</strong> å¾Œé¢é–‹å§‹ç®—èµ·ã€‚<br>é¦–å…ˆè¦çŸ¥é“ grid çš„æ’åˆ—é †åºï¼Œé è¨­æ˜¯ row ï¼Œä¹Ÿå°±æ˜¯å¾ row çš„å°¾å·´é–‹å§‹ï¼Œå¦‚æœæœ‰å…©åˆ—ï¼Œå°±æ˜¯å¾ç¬¬äºŒåˆ—çš„å°¾å·´é–‹å§‹ã€‚  </p><iframe height="300" style="width: 100%;" scrolling="no" title="Untitled" src="https://codepen.io/shan473/embed/vYpjMZW?default-tab=result&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href="https://codepen.io/shan473/pen/vYpjMZW">  Untitled</a> by YanShanHong (<a href="https://codepen.io/shan473">@shan473</a>)  on <a href="https://codepen.io">CodePen</a>.</iframe><h2 id="å°é½Š"><a href="#å°é½Š" class="headerlink" title="å°é½Š"></a>å°é½Š</h2><h3 id="æ•´é«”å‚ç›´èˆ‡æ°´å¹³å°é½Š"><a href="#æ•´é«”å‚ç›´èˆ‡æ°´å¹³å°é½Š" class="headerlink" title="æ•´é«”å‚ç›´èˆ‡æ°´å¹³å°é½Š"></a>æ•´é«”å‚ç›´èˆ‡æ°´å¹³å°é½Š</h3><p>è¨­å®šåœ¨çˆ¶å±¤ï¼Œæ§åˆ¶ <strong>æ•´å€‹ç¶²æ ¼</strong> çš„ä½ç½®</p><ul><li><code>justify-content</code> : æ‰€æœ‰çš„å­é …æ°´å¹³ä½ç½®ã€‚</li><li><code>align-content</code> :  æ‰€æœ‰çš„å­é …å‚ç›´ä½ç½®</li></ul><blockquote><p>   flex-end(start) é€™æ˜¯çµ¦ flexbox ç”¨çš„ï¼Œgird å¯«æ³•æ˜¯ start è·Ÿ end</p></blockquote><p>è¨­å®šåœ¨çˆ¶å±¤ï¼Œæ§åˆ¶ <strong>æ‰€æœ‰ç¶²æ ¼ä¸­çš„å…§å®¹å°é½Š</strong></p><ul><li><code>justify-items</code> : é è¨­æ˜¯ stretchï¼Œå€‹åˆ¥è¨­å®šæœƒæŒ‰ç…§å­é …å…§å®¹çš„ <strong>å¯¬</strong> å†å»æ°´å¹³å°é½Šã€‚</li><li><code>align-items</code> : é è¨­æ˜¯ stretchï¼Œå€‹åˆ¥è¨­å®šæœƒæŒ‰ç…§å­é …å…§å®¹çš„ <strong>é«˜</strong> å†å»å‚ç›´å°é½Šã€‚</li></ul><h3 id="å€‹åˆ¥è¨­å®šå­é …å…§å®¹å°é½Š"><a href="#å€‹åˆ¥è¨­å®šå­é …å…§å®¹å°é½Š" class="headerlink" title="å€‹åˆ¥è¨­å®šå­é …å…§å®¹å°é½Š"></a>å€‹åˆ¥è¨­å®šå­é …å…§å®¹å°é½Š</h3><p>è¨­å®šåœ¨å­å±¤ï¼Œæ§åˆ¶ <strong>å€‹åˆ¥ç¶²æ ¼ä¸­çš„å…§å®¹å°é½Š</strong><br>å­é …çš„å…§å®¹ç‰©æƒ³è¦å®¢è£½åŒ–çš„å°é½Šï¼Œè¤‡å¯« justify-items &amp; align-items çš„æ§åˆ¶ã€‚  </p><ul><li><code>align-self</code> : é è¨­æ˜¯ stretchï¼Œä½¿ç”¨è·Ÿ align-items å·®ä¸å¤šã€‚</li><li><code>justufy-self</code> :  é è¨­æ˜¯ stretchï¼Œä½¿ç”¨è·Ÿ justify-items å·®ä¸å¤šã€‚</li></ul><iframe height="300" style="width: 100%;" scrolling="no" title="Untitled" src="https://codepen.io/shan473/embed/PoEevZg?default-tab=result&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href="https://codepen.io/shan473/pen/PoEevZg">  Untitled</a> by YanShanHong (<a href="https://codepen.io/shan473">@shan473</a>)  on <a href="https://codepen.io">CodePen</a>.</iframe><h2 id="z-index-åœ–å±¤"><a href="#z-index-åœ–å±¤" class="headerlink" title="z-index åœ–å±¤"></a>z-index åœ–å±¤</h2><p>ä»¥å¾€æˆ‘å€‘è¦ç”¨åˆ° <code>z-index</code> éƒ½æœƒæ˜¯åœ¨çµ•å°å®šä½çš„æ™‚å€™ï¼Œåœ¨ grid ä¸­æ˜¯å¯ä»¥æŠŠé …ç›®å †ç–Šçš„ï¼Œé€é <code>z-index</code> ä¾†å‰å¾Œé †åºã€‚  </p><p>é è¨­çš„åœ–å±¤é †åºæ˜¯ html çµæ§‹ <strong>å¾Œé¢çš„æœƒè¦†è“‹å‰é¢çš„</strong>ï¼Œå¯ä»¥ç›´æ¥é€é <code>z-index</code> æ”¹è®Šé †åºã€‚  </p><p>é€™å€‹ä¾‹å­å…©å€‹æœ‰é‡ç–Šçš„éƒ¨åˆ†ï¼Œitem-5 å¯«ä¸Šå¾Œè“‹ä½äº† item-1ï¼Œç‚ºäº†è®“ item-1 è¢«çœ‹è¦‹ï¼Œåœ–å±¤å¯«å¾—æ¯” item-5 é«˜å°±è¡Œäº†ã€‚  </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.item-1</span><span class="token punctuation">&#123;</span>  <span class="token property">grid-area</span><span class="token punctuation">:</span> 1 / 2 / 1 / 2<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.item-5</span><span class="token punctuation">&#123;</span>  <span class="token property">grid-area</span><span class="token punctuation">:</span> 1 / 1 / 1 / 3<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h2><p>æœ¬ç¯‡é‚„æœ‰å¾ˆå¤š grid çš„æ‡‰ç”¨é‚„æ²’ç ”ç©¶åˆ°ï¼Œæœªä¾†å†å°ˆç ” !<br>å¾ˆæ¨ <strong>CSS-tricks</strong> ä¸Šçš„æ–‡ç« ï¼Œå¾ˆå¤šå¯«æ³•éƒ½å¾ˆå¯¦ç”¨</p><h2 id="ç·´ç¿’"><a href="#ç·´ç¿’" class="headerlink" title="ç·´ç¿’"></a>ç·´ç¿’</h2><ul><li>ä»¥ <strong><a href="https://zh.wikipedia.org/wiki/%E7%9A%AE%E7%89%B9%C2%B7%E8%92%99%E5%BE%B7%E9%87%8C%E5%AE%89">çš®ç‰¹Â·è’™å¾·é‡Œå®‰</a></strong> çš„ã€Šç´…ã€è—ã€é»ƒçš„æ§‹æˆã€‹åšç‚ºç·´ç¿’ï¼Œèªªåˆ°ç¶²æ ¼è‡ªç„¶å°±æƒ³åˆ°é€™å¹…ç•«  XDã€‚<br>   <a href="https://codepen.io/shan473/pen/KKZRmRm">Codepen</a><br>   <img data-src="https://dsm01pap006files.storage.live.com/y4meQohOpsPirn8FgIW6-32dz_PV_9ldr3h7XdfuoLRBgBMVuweq_tSNsV7Osnk8yDBjyZhV4cVT0RuzJnF4Mf5bLcYc5KKVnVXBuu0bOvra6l8WSV33Yu6krcT-r8yl7TlqLB1ir3IPN2crKR6HWWWwN7avpOZB6UabLXjVNMBVnGxMiRl_8PrB3Gs8xKtehAv?width=1022&height=1024&cropmode=none" alt="CSS ç‰ˆ-ç´…ã€è—ã€é»ƒçš„æ§‹æˆ"></li><li>é¡å¤–ä¾†è‡ª Frontend Mentor çš„ç·´ç¿’é¡Œï¼Œåˆ©ç”¨ grid é€²è¡Œæ’ç‰ˆ<br><a href="https://meitung473.github.io/testimonials-grid-section-main/">Frontend Mentor | Rosa Hong</a></li><li>grid-graden (å·²ç ´é—œ) : <a href="https://cssgridgarden.com/">Grid Garden - A game for learning CSS grid </a>  <blockquote><p>å¿ƒå¾— :<br>éŠæˆ²å¼çš„ grid å¾ˆå®¹æ˜“ç†è§£ï¼Œ<br>template é™¤äº†æ­£æ•¸ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>è² æ•¸</strong>ã€‚<br>å€‹äººé‡åˆ° 26 é—œå¡äº†ä¸€ä¸‹ï¼Œå…¶ä»–æŒæ¡ä½å¦‚ä½•ç®—è»Œé“è·ŸçŸ¥é“æ ¼æ•¸æ€éº¼æ‡‰ç”¨å°±æ²’ä»€éº¼éšœç¤™ã€‚å°é½Šçš„éƒ¨ä»½ï¼Œéƒ½åœ¨å¦ä¸€å€‹ flexbox frogã€‚</p></blockquote></li></ul><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul><li>å¿«é€ŸæŸ¥è¡¨ :  <a href="https://grid.malven.co/">GRID: A simple visual cheatsheet for CSS Grid Layout (malven.co)</a></li><li>å¥½ç­†è¨˜ : <a href="https://pjchender.dev/css/css-grid-layout/">[CSS] Grid Layout | PJCHENder æœªæ•´ç†ç­†è¨˜</a></li><li>éå¸¸è©³ç›¡çš„åœ–æ–‡ä¸¦èŒ‚è§£èªª : <a href="https://css-tricks.com/snippets/css/complete-guide-grid/">A Complete Guide to Grid | CSS-Tricks - CSS-Tricks</a> ã€‚æˆ‘ä¹Ÿå¾ˆæ¨ flexbox çš„æ•™å­¸  </li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;çœ¾æ‰€çš†çŸ¥ flex æ˜¯æ’ç‰ˆç¥å™¨ï¼Œå°¤å…¶åœ¨ä¸€ç¶­çš„æ’ç‰ˆéå¸¸å¥½ç”¨&lt;br&gt;é‚£åœ¨äºŒç¶­çš„æ’ç‰ˆå‘¢ ?&lt;br&gt;å°±ä¸å¾—æåˆ° gridï¼Œé›–ç„¶ grid åœ¨èˆŠçš„ç€è¦½å™¨æ”¯æ´æ€§æ²’åˆ°å¾ˆé«˜ï¼Œç¾ä»£ç€è¦½å™¨æ˜¯å¹¾ä¹éƒ½æœ‰æ”¯æ´ã€‚(&lt;a href=&quot;https://caniuse.com/css-grid&quot;&gt;caniuse&lt;/a&gt;)   &lt;/p&gt;</summary>
    
    
    
    <category term="Front-end" scheme="https://blog.rosa.tw/categories/Front-end/"/>
    
    
    <category term="CSS" scheme="https://blog.rosa.tw/tags/CSS/"/>
    
    <category term="grid" scheme="https://blog.rosa.tw/tags/grid/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - åƒæ•¸å‚³é call by value or call by reference &amp; call by sharing</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-call-by-what/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-call-by-what/</id>
    <published>2022-03-26T15:12:05.000Z</published>
    <updated>2022-06-18T13:47:08.098Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç›´ä»¥ä¾† JavaScript çš„åƒæ•¸å‚³ééƒ½è »æœ‰çˆ­è­°æ€§çš„<br>å¯èƒ½è½é</p><blockquote><p>åŸå§‹å‹æ…‹æ˜¯ call by valueï¼›ç‰©ä»¶å‹æ…‹æ˜¯ call by reference </p></blockquote><p>ç”šè‡³æœ‰äººèªª JavaScript åªæœ‰ <code>call by sharing</code> æˆ–æ˜¯æ ¹æœ¬åªæœ‰ <code>call by value</code><br>åˆ°åº•æ˜¯å“ªç¨® ? çœ¾èªªç´›ç´œï¼Œæœ¬ç¯‡é‡å°é€™ä¸‰ç¨®åè©é€²è¡Œè§£é‡‹å¹«åŠ©è‡ªå·±å»ä¾†ç†è§£   </p><p>å¦‚æœæœ‰èª¤å†éº»ç…©å„è·¯å¤§å¤§æŒ‡é»    </p><span id="more"></span>   <h2 id="call-by-value-å‚³å€¼"><a href="#call-by-value-å‚³å€¼" class="headerlink" title="call by value : å‚³å€¼"></a>call by value : å‚³å€¼</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">let</span> b <span class="token operator">=</span> aa<span class="token operator">=</span><span class="token number">10</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å®šç¾©è®Šæ•¸ a ä¸¦ä¸”è³¦äºˆ 5 é€™å€‹å€¼ï¼Œå‡è¨­æœƒè¢«å­˜åœ¨è¨˜æ†¶é«” <code>00x1</code> é€™å€‹ä½å€</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td>a</td><td>00x1</td><td>5</td></tr></tbody></table><ul><li>å®šç¾©è®Šæ•¸ b ç­‰æ–¼ a ï¼Œb æ‹·è² a çš„å€¼ï¼Œå¦å¤–å­˜åœ¨æ–°çš„è¨˜æ†¶é«”ä½å€  <code>00x3</code></li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td>a</td><td>00x1</td><td>5</td></tr><tr><td>b</td><td>00x3</td><td>5 (copy from a)</td></tr></tbody></table><ul><li>ç•¶ä½ æ”¹è®Š a çš„å€¼ï¼Œå› ç‚º b æŒ‡å‘ä¸åŒè¨˜æ†¶é«”ä½ç½®ï¼Œæ‰€ä»¥è·Ÿ b æ²’æœ‰é—œä¿‚</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td>a</td><td>00x1</td><td>10</td></tr><tr><td>b</td><td>00x3</td><td>5</td></tr></tbody></table><p>å³ä½¿ä¿®æ”¹ a æˆ– b å…¶ä¸­ä¸€é …ï¼Œa ã€ b å€¼äº’ä¸ç›¸å¹²æ“¾ï¼Œç¨±ä½œ <code>call by value</code><br>è€Œä¸” JavaScript å°æ–¼ Primitive type çš„æ“ä½œéƒ½æ˜¯ <code>call by value</code><br>æ‹·è² ã€Œ<strong>å€¼</strong>ã€ ä½†ä¸æ‹·è² ã€Œ<strong>å€</strong>ã€</p><p>é€™ä¹Ÿç‚ºä»€éº¼èªª Primitive type æ˜¯ <strong>immutable</strong> (ä¸å¯è®Š)<br>é€™é‚ŠæŒ‡çš„ä¸å¯è®Š b é›–ç„¶ç­‰æ–¼ aï¼Œä½†ä½ ä¿®æ”¹ a ä¸¦ä¸æœƒå»è®Šå‹•åˆ°å…¶ä»–çš„å€¼   </p><h3 id="Function-ä¸­åƒæ•¸çš„å‚³é-by-value"><a href="#Function-ä¸­åƒæ•¸çš„å‚³é-by-value" class="headerlink" title="Function ä¸­åƒæ•¸çš„å‚³é : by value"></a>Function ä¸­åƒæ•¸çš„å‚³é : by value</h3><p><a href="https://blog.techbridge.cc/2018/06/23/javascript-call-by-value-or-reference/">Huli å¤§çš„æ–‡ç« </a> ä¸­ä¹Ÿèˆ‰ä¾‹è®Šæ•¸ function åšç‚ºåƒæ•¸ï¼Œä¸¦åœ¨ funciton ä¸­é€²è¡Œæ–°è³¦å€¼çš„å•é¡Œ   </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">revalue</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">revalue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠŠè®Šæ•¸ a è·Ÿè®Šæ•¸ b éƒ½ç•¶ä½œåƒæ•¸å‚³é€² <code>revalue</code> é€™å€‹ functionï¼Œè€Œåƒæ•¸åªæ˜¯è¤‡è£½å‚³é€²ä¾†çš„å€¼ï¼Œä¸¦ä¸æœƒå½±éŸ¿åˆ°åœ¨å¤–é¢çš„ a è·Ÿ bã€‚  </p><blockquote><p>é€™é‚Šçš„åƒæ•¸ aã€b ä½œç‚ºå‚³é€²ä¾†çš„å€¼çš„åˆ¥å (alias)è€Œå·²ï¼Œè·Ÿå¤–éƒ¨å®šç¾©çš„ aã€b æ˜¯ç„¡é—œçš„  </p></blockquote><h2 id="call-by-reference-å‚³å€"><a href="#call-by-reference-å‚³å€" class="headerlink" title="call by reference : å‚³å€"></a>call by reference : å‚³å€</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> obj2 <span class="token operator">=</span> obj1obj1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token operator">===</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ object å‹æ…‹çš„åˆ¤æ–·ä¾†çœ‹ï¼Œç©ºç‰©ä»¶ä¸æœƒç­‰æ–¼ç©ºç‰©ä»¶ï¼Œå› ç‚ºè¨˜æ†¶é«”å„²å­˜çš„ä½å€ä¸åŒ<br>ä½†é€™è£¡ <code>obj1 === obj2</code> æ˜¯ true çš„æ™‚å€™ï¼Œä»£è¡¨å…©å€‹è®Šæ•¸æ˜¯æŒ‡å‘åŒä¸€å€‹åœ°æ–¹ ï¼Œæ˜¯ä¸€æ¨£çš„ã€‚  </p><p>æ¥è‘—çœ‹æ€éº¼é‹ä½œçš„  </p><ul><li>å®šç¾©è®Šæ•¸ obj1 ä¸¦ä¸”è³¦äºˆ <code>&#123;a : 1&#125;</code> é€™å€‹å€¼ï¼Œè¨˜æ†¶é«” <code>00x1</code> é€™å€‹ä½å€ ï¼Œæœƒå­˜æœ‰ <code>&#123;a: 1&#125;</code> é€™å€‹å€¼ã€‚è€Œ obj1 çš„å€¼å‰‡å¼•ç”¨ (reference) <code>00x1</code> ä½å­çš„å€¼</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{a: 1}</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr></tbody></table><ul><li>å®šç¾©è®Šæ•¸ obj2 ç­‰æ–¼ obj1ï¼Œä¹Ÿå°±æ˜¯åƒç…§åŒä¸€å€‹ <strong>ä½å€</strong> çš„å€¼</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{a: 1}</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td>obj2</td><td>00x2</td><td>00x1</td></tr></tbody></table><ul><li>ç•¶ <code>obj1.a</code> æ”¹è®Šæ™‚ï¼Œæ˜¯æ”¹å‹•åˆ°ä½åœ¨ <code>00x1</code> è¨˜æ†¶é«”çš„å€¼ <code>&#123;a : 5&#125;</code>ï¼Œå› ç‚º obj2 ä¹Ÿåƒç…§é€™è£¡çš„ä½å€çš„å€¼ï¼Œåœ¨é‹ä½œä¸Šé€£åŒ obj2 ä¹Ÿè¢«æ”¹å‹•åˆ°</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td><code>&#123;a: 5&#125;</code></td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td>obj2</td><td>00x2</td><td>00x1</td></tr></tbody></table><p>ç”±æ­¤å¯çŸ¥ç•¶æ”¹å‹•åˆ° obj1.a çš„å€¼ obj2.a ä¹Ÿæœƒæ”¹è®Šç¨±ä½œ call by reference<br>Object type é€šå¸¸æ˜¯ call by reference<br>æ‹·è² ã€Œ<strong>å€¼</strong>ã€ <strong>ä¹Ÿæ‹·è²å€</strong></p><p>è·Ÿ Primitive type ç›¸åçš„æ˜¯ Object type æ˜¯ <strong>mutable</strong> (å¯è®Š)<br>æ”¹å‹• a çš„å€¼å»ä¹Ÿæœƒè®Šå‹•åˆ° b<br>åœ¨ <a href="https://www.slideshare.net/YiTaiLin/java-script-63031051">Tommy å¤§ç°¡å ±ç¬¬ 12 é æœ‰æ¸…æ¥šçš„æµç¨‹</a> å¯ä»¥åƒè€ƒ  </p><h3 id="Function-ä¸­åƒæ•¸çš„å‚³é-by-reference"><a href="#Function-ä¸­åƒæ•¸çš„å‚³é-by-reference" class="headerlink" title="Function ä¸­åƒæ•¸çš„å‚³é : by reference"></a>Function ä¸­åƒæ•¸çš„å‚³é : by reference</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">revalue</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>obj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token function">revalue</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token comment">// &#123;a: 1,b :5 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ revalue å‡½å¼ä¸­æˆ‘å€‘å°åƒæ•¸ obj é€²è¡Œæ›´æ–°<br>è€Œå¤–éƒ¨çš„ obj1 ä¹Ÿæœƒè®Šå‹•åˆ°ï¼Œå› ç‚ºæŒ‡å‘çš„è¨˜æ†¶é«”ä½å€æ˜¯åŒä¸€è™•ã€‚  </p><ul><li>obj1 ä½œç‚ºå¼•æ•¸ï¼Œå¸¶å…¥ obj åƒæ•¸æ™‚ï¼Œè¤‡è£½ä¸€ä»½ obj1 é€²å»  </li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{a : 1}</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td></td><td>00x4</td><td>funtion revalue()â€¦</td></tr><tr><td>revalue</td><td>00x5</td><td>00x4</td></tr><tr><td>åƒæ•¸ <strong>obj</strong></td><td>00x2</td><td>00x1</td></tr></tbody></table><ul><li>obj.b = 5 (ä¸æ˜¯è®Šæ•¸é‡æ–°è³¦å€¼ !)</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td><code>&#123;a:1,b:5&#125;</code></td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td></td><td>00x4</td><td>funtion revalue()â€¦</td></tr><tr><td>revalue</td><td>00x5</td><td>00x4</td></tr><tr><td>åƒæ•¸ <strong>obj</strong></td><td>00x2</td><td>00x1</td></tr></tbody></table><h3 id="ä¾‹å¤–ç‹€æ³-é‡æ–°è³¦å€¼"><a href="#ä¾‹å¤–ç‹€æ³-é‡æ–°è³¦å€¼" class="headerlink" title="ä¾‹å¤–ç‹€æ³ : é‡æ–°è³¦å€¼"></a>ä¾‹å¤–ç‹€æ³ : é‡æ–°è³¦å€¼</h3><p>å‡¡äº‹ç¸½æœ‰å€‹ä¾‹å¤–â€¦ </p><ol><li>Object Literals é‡æ–°è³¦å€¼ <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> obj2 <span class="token operator">=</span> obj1obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> æŒ‰ç…§ä¸Šé¢ä¾†èªªï¼Œåƒç…§åŒä¸€è¨˜æ†¶é«”ä½å€ï¼Œ obj2 è®Šå‹•æ‡‰è©²æœƒé€£åŒ obj1 ä¹Ÿæ”¹è®Šï¼Œçµæœæ²’æœ‰ã€‚  <ul><li>obj2 = obj1ï¼Œobj2 è¤‡è£½ obj1</li></ul></li></ol><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td><code>&#123;a:1,b:5&#125;</code></td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td>obj2</td><td>00x2</td><td>00x1</td></tr></tbody></table><pre><code>- obj2 æ–°è³¦å€¼ </code></pre><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{a:1}</td></tr><tr><td></td><td>00x5</td><td><code>&#123;a: 3&#125;</code></td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td>obj2</td><td>00x6</td><td>00x5</td></tr></tbody></table><pre><code>obj2 åœ¨æ–°è³¦å€¼æ™‚ï¼Œç‰©ä»¶å‰µé€ æ–°çš„è¨˜æ†¶é«”ä½å€è³¦äºˆå€¼ï¼Œobj2 ä¹Ÿå‰µé€ ä¸€å€‹æ–°çš„è¨˜æ†¶é«”ä½å€ä¸¦ä¸”è¤‡è£½ç‰©ä»¶ä½å€åˆ°è‡ªå·±çš„å€¼  obj1 è·Ÿ obj2 æ­£å¼åˆ†é“æšé‘£ ~ æˆç‚ºé™Œç”Ÿäºº      </code></pre><ol start="2"><li> Function ä¸­åƒæ•¸çš„å‚³é : Object é‡æ–°è³¦å€¼<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">revalue</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>obj<span class="token operator">=</span><span class="token punctuation">&#123;</span> a <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">revalue</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token comment">// &#123;a: 1&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>åœ¨è£¡é¢é‡æ–°è³¦å€¼ï¼Œå¤–éƒ¨çš„å¼•æ•¸ä¸¦ä¸æœƒæ”¹å‹•åˆ°åŸæœ¬çš„å€¼<br>è·Ÿè‘—è·‘ä¸€é  </li></ol><ul><li>obj1 ä½œç‚ºå¼•æ•¸ï¼Œå¸¶å…¥ obj åƒæ•¸æ™‚ï¼Œè¤‡è£½ä¸€ä»½ obj1 é€²å»  </li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{a : 1}</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td></td><td>00x4</td><td>funtion revalue()â€¦</td></tr><tr><td>revalue</td><td>00x5</td><td>00x4</td></tr><tr><td>åƒæ•¸ <strong>obj</strong></td><td>00x2</td><td><code>00x1</code></td></tr></tbody></table><ul><li>obj={ a : 3}  é‡æ–°è³¦å€¼</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{ a : 1 }</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td></td><td>00x4</td><td>funtion revalue()â€¦</td></tr><tr><td>revalue</td><td>00x5</td><td>00x4</td></tr><tr><td>åƒæ•¸ <strong>obj</strong></td><td><code>00x8</code></td><td><code>00x6</code></td></tr><tr><td></td><td>00x6</td><td>{a : 3}</td></tr></tbody></table><ul><li>æ ¹æ“š Scope ä½œç”¨åŸŸï¼Œå‡½å¼çš„è®Šæ•¸ä½œç”¨ç¯„åœç­‰å‡½å¼çµæŸå¾Œå°±æœƒé‡‹æ”¾è¨˜æ†¶é«”ã€‚</li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td>00x1</td><td>{ a : 1 }</td></tr><tr><td>obj1</td><td>00x2</td><td>00x1</td></tr><tr><td></td><td>00x4</td><td>funtion revalue()â€¦</td></tr></tbody></table><p>obj1 ä¾ç„¶ä¸æœƒè®Šå‹•åˆ°ã€‚  </p><p>ä¸éä½ ç™¼ç¾äº†å— ?<br>Object Type æ–°è³¦å€¼çš„è¡Œç‚ºæ˜¯è¤‡è£½å€¼è€Œå·²ï¼Œå¾ˆåƒ call by value  </p><h2 id="ä¸æ˜¯-by-value-ä¹Ÿä¸æ˜¯-by-renference-è€Œæ˜¯-by-sharing"><a href="#ä¸æ˜¯-by-value-ä¹Ÿä¸æ˜¯-by-renference-è€Œæ˜¯-by-sharing" class="headerlink" title="ä¸æ˜¯ by value ä¹Ÿä¸æ˜¯ by renference è€Œæ˜¯ by sharing"></a>ä¸æ˜¯ by value ä¹Ÿä¸æ˜¯ by renference è€Œæ˜¯ by sharing</h2><p>å“¦ä¸ï¼Œæˆ‘çš„é ­é–‹å§‹ç—›äº†<br>é‚£æˆ‘å‰é¢èªè­˜çš„é›£é“æ˜¯å‡çš„å— ?  </p><p>ä¸ï¼Œsharing å°±åƒç¶œåˆé«”ä¸€æ¨£<br>æŒ‰ä¸Šé¢æ‰€è¿°ï¼Œæˆ‘å€‘å¯ä»¥æŠŠæƒ…æ³åˆ†æˆä¸‰ç¨®  </p><ol><li>Primitive type è¡¨ç¾è¡Œç‚ºæ˜¯ call by value</li><li>Object type æ²’æœ‰æ–°è³¦å€¼çš„æƒ…æ³ï¼Œè€Œæ˜¯å°å…§å®¹æ“ä½œï¼Œè¡¨ç¾è¡Œç‚ºåƒæ˜¯ call by reference</li><li>Object type é‡æ–°è³¦å€¼ï¼Œè¡¨ç¾å‰‡æ˜¯ call by valueï¼Œæœƒå»ºç«‹ä¸€å€‹æ–°çš„è¨˜æ†¶é«”ä½ç½®ï¼Œä¸¦ä¸”è¤‡è£½å…¶(è¨˜æ†¶é«”ä½å€çš„)å€¼  </li></ol><p>å¯çŸ¥ call by sharing åœ¨ä¸åŒæƒ…æ³ä¸‹æœƒå°±æœƒæœ‰ä¸åŒçš„è¡¨ç¾è¡Œç‚º</p><p>å€Ÿä¸€ä¸‹ Huli å¤§çš„åœ–â€¦<br><img data-src="https://dsm01pap006files.storage.live.com/y4mnEy3INPdoo5FZIkuPSKskoOVfwI9iapT5pvdWu6c0BSovTa8z0rEaeST_jxZaxA8prHXyxrT_9IWaaoniKLBb6GJz6tdT60tRupMq7E0LMnDVcO97Oc8H1Rk2WzVxmlnTRFYoLOjzbHqdeFe5cLtaWuG_x4SY9Mt6GLI8HYXkVicjUFYT5QsvmVzYogaIAxS?width=949&height=702&cropmode=none" alt="call by sharing"></p><p>æ–‡ç« ä¸­æœ‰æåŠå…¶å¯¦ JavaScript åš´æ ¼æ„ç¾©ä¸Šæ˜¯æ²’æœ‰ call by reference çš„ï¼Œå› ç‚ºå‡½å¼çš„å¼•æ•¸é‡æ–°è³¦å€¼ä¸¦ä¸æœƒä¿®æ”¹åˆ°å¤–éƒ¨è®Šæ•¸çš„å€¼ã€‚<br>(C++ èƒ½ä¿®æ”¹åˆ°æ˜¯è·ŸæŒ‡æ¨™æœ‰é—œ)<br>ç”±æ–¼æˆ‘ä¸æ˜¯å¾ˆç†Ÿ C è·Ÿ C++â€¦ å…ˆä¸åšè¨è«–     </p><p>ç”±ä¸Šåœ–å¯çŸ¥ï¼ŒJavaScript å¯ä»¥èªª    </p><blockquote><p>Primitive æ˜¯ Pass by Valueï¼ŒObject æ˜¯ Pass by sharingã€‚</p></blockquote><h2 id="å…¨éƒ½æ˜¯-call-by-value-çš„è§€é»"><a href="#å…¨éƒ½æ˜¯-call-by-value-çš„è§€é»" class="headerlink" title="å…¨éƒ½æ˜¯ call by value çš„è§€é»"></a>å…¨éƒ½æ˜¯ call by value çš„è§€é»</h2><p>é‚£å…¨æ˜¯ call by value æ˜¯æ€éº¼å›äº‹ ?<br>é€ æˆçˆ­è«–çš„é»åœ¨æ–¼é€™é‚Šçš„ value ä¸¦æœªå®šç¾©èªªæ˜¯ <strong>å…§å®¹çš„å€¼</strong> é‚„æ˜¯ <strong>å­˜æ”¾åœ¨è®Šæ•¸è¨˜æ†¶é«”ä½å€è£¡çš„å€¼</strong>  </p><ul><li>ä»¥ <strong>å…§å®¹çš„å€¼</strong> è§€é»ä¾†çœ‹        </li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td>a</td><td>00x1</td><td><strong>5(è¢«è¤‡è£½åˆ° b)</strong></td></tr><tr><td>b</td><td>00x3</td><td>5</td></tr></tbody></table><ul><li>ä»¥ <strong>è¨˜æ†¶é«”ä½å€è£¡çš„å€¼</strong> è§€é»ä¾†çœ‹  </li></ul><table><thead><tr><th>è®Šæ•¸</th><th>è¨˜æ†¶é«”ä½å€</th><th>å€¼</th></tr></thead><tbody><tr><td></td><td><strong>00x1 (è¢«è¤‡è£½)</strong></td><td>{a: 1}</td></tr><tr><td>obj1</td><td>00x5</td><td>00x1</td></tr><tr><td>obj2</td><td>00x5</td><td>00x1</td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>b è¤‡è£½ a ï¼Œ a ä¹Ÿæ˜¯è¤‡è£½è¨˜æ†¶é«” <code>(00x1)</code> ä½å€é€™å€‹å€¼ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥èªªæ˜¯ <strong>call by value</strong><br>åœ¨å®šç¾©ä¸Šçš„ä¸åŒï¼Œå°è‡´ä¸åŒçš„è§€é»èˆ‡çµè«–   </p><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li>å¸¶ä½ è·‘ä¸€æ¬¡ : <a href="https://www.slideshare.net/YiTaiLin/java-script-63031051">ç°¡å–®ä»‹ç´¹JavaScriptåƒæ•¸å‚³é (slideshare.net)</a></li><li>ç°¡å–®è«–è¿° : <a href="https://ithelp.ithome.com.tw/articles/10191057">é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ</a></li><li>å¾å„æ–¹é¢ä¾†çœ‹ : <a href="https://blog.techbridge.cc/2018/06/23/javascript-call-by-value-or-reference/">æ·±å…¥æ¢è¨ JavaScript ä¸­çš„åƒæ•¸å‚³éï¼šcall by value é‚„æ˜¯ referenceï¼Ÿ</a></li><li>å¥½æ‡‚å¾—ä½å€æ¦‚å¿µ : <a href="https://ithelp.ithome.com.tw/articles/10209104">ä½ ä¸å¯ä¸çŸ¥çš„ JavaScript äºŒä¸‰äº‹#Day26ï¼šç¨‹å¼ç•Œçš„å“ˆå§†é›·ç‰¹ â€”â€” Pass by value, or Pass by referenceï¼Ÿ</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸€ç›´ä»¥ä¾† JavaScript çš„åƒæ•¸å‚³ééƒ½è »æœ‰çˆ­è­°æ€§çš„&lt;br&gt;å¯èƒ½è½é&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸå§‹å‹æ…‹æ˜¯ call by valueï¼›ç‰©ä»¶å‹æ…‹æ˜¯ call by reference &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”šè‡³æœ‰äººèªª JavaScript åªæœ‰ &lt;code&gt;call by sharing&lt;/code&gt; æˆ–æ˜¯æ ¹æœ¬åªæœ‰ &lt;code&gt;call by value&lt;/code&gt;&lt;br&gt;åˆ°åº•æ˜¯å“ªç¨® ? çœ¾èªªç´›ç´œï¼Œæœ¬ç¯‡é‡å°é€™ä¸‰ç¨®åè©é€²è¡Œè§£é‡‹å¹«åŠ©è‡ªå·±å»ä¾†ç†è§£   &lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰èª¤å†éº»ç…©å„è·¯å¤§å¤§æŒ‡é»    &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç­†è¨˜ | JavaScript - first class function (ä¸€ç´šå‡½å¼)</title>
    <link href="https://blog.rosa.tw/JavaScript/JavaScript-First-Class-Function/"/>
    <id>https://blog.rosa.tw/JavaScript/JavaScript-First-Class-Function/</id>
    <published>2022-03-26T05:34:14.000Z</published>
    <updated>2022-06-18T13:47:31.273Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JavaScript ä¸­çš„ function æ˜¯å¾ˆç¥å¥‡çš„æ±è¥¿<br>åœ¨åˆå­¸æ™‚çœ‹åˆ°å¾ˆå¤šåè©<br>åƒ callback function(å›å‘¼å‡½å¼)ã€First-Class Function(ä¸€ç´šå‡½å¼)ã€High-Order Function(é«˜éšå‡½å¼)<br>é‚„æœ‰ Closure(é–‰åŒ…) ç­‰ç­‰çš„ï¼Œç¸½æ˜¯æœƒéœ§æ’’æ’’â€¦<br>æœ¬ç¯‡ä¾†åˆæ­¥èªè­˜ function ä¸­çš„ First-Class Function æ¦‚å¿µ   </p><span id="more"></span><h2 id="ä¸€ç´šå‡½å¼"><a href="#ä¸€ç´šå‡½å¼" class="headerlink" title="ä¸€ç´šå‡½å¼"></a>ä¸€ç´šå‡½å¼</h2><blockquote><p>å‡½å¼å¯ä»¥è¢«è¦–ç‚ºå…¶ä»–è®Šæ•¸ä¸€æ¨£ï¼Œåƒæ˜¯ function å¯ä»¥æŒ‡å®šæˆè®Šæ•¸ï¼Œä¹Ÿå¯ä»¥åšç‚ºåƒæ•¸å‚³å…¥åˆ¥çš„ funcitonã€‚  </p></blockquote><p>JavaScript çš„ function ç¬¦åˆ first class function    </p><ul><li>å‡½å¼åªæ˜¯ç‰©ä»¶çš„ä¸€ç¨®  </li><li>function å¯ä»¥å„²å­˜æˆè®Šæ•¸ (function expression)    <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">greet</span> <span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>function å¯ä»¥ç•¶ä½œåƒæ•¸å‚³å…¥åˆ¥çš„ function ä¸­ï¼Œé€™é‚ŠæŠŠ function ç•¶ä½œ <strong>å€¼</strong> ä¾†ä½¿ç”¨ã€‚<br>  (é€™æ¨£çš„æ–¹å¼æœƒç¨±é€™å€‹ function æ˜¯ callback function)    <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token string">'hello,'</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span>name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">greet</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span><span class="token string">'rosa!'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>function è£¡é¢åˆå›å‚³å¦ä¸€å€‹ functionã€‚<pre><code>åªè¦æ¥æ”¶å‡½å¼ä½œç‚ºåƒæ•¸ï¼Œæˆ–æ˜¯å›å‚³å‡½å¼ä½œç‚ºè¼¸å‡ºçš„å‡½å¼</code></pre>  å°±ç¨±ä½œé«˜éšå‡½å¼ ( <strong>Higher-Order Function</strong> )<br>  åƒæ˜¯ Array ä¸­çš„ <code>map</code> function  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=></span> num <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token comment">// å¯¦ä½œ</span><span class="token keyword">function</span> <span class="token function">arrayMap</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">let</span> length <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token keyword">let</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span> i<span class="token operator">&lt;</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>newArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> newArray<span class="token punctuation">&#125;</span><span class="token function">arrayMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>function è·Ÿç‰©ä»¶ä¸€æ¨£æœ‰å±¬æ€§ (property)<br>ä¸‹é¢é€²è¡Œèªªæ˜</li></ul><h2 id="å‡½å¼ä¹Ÿæ˜¯ç‰©ä»¶çš„ä¸€ç¨®"><a href="#å‡½å¼ä¹Ÿæ˜¯ç‰©ä»¶çš„ä¸€ç¨®" class="headerlink" title="å‡½å¼ä¹Ÿæ˜¯ç‰©ä»¶çš„ä¸€ç¨® ?"></a>å‡½å¼ä¹Ÿæ˜¯ç‰©ä»¶çš„ä¸€ç¨® ?</h2><p>ç¯„ä¾‹ : </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'invoke this'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç›´æ¥åŸ·è¡Œ</span>hello<span class="token punctuation">.</span>people<span class="token operator">=</span><span class="token string">'rosa'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span>people<span class="token punctuation">)</span> <span class="token comment">// output : rosa</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>åŸ·è¡Œ (invoke) å‡½å¼ï¼Œæ˜¯é€é <code>()</code></li><li>å¯ä»¥ç›´æ¥ç”¨ <code>.</code> å»ºç«‹ç‰©ä»¶ä¸­çš„ key-value  </li></ol><p>è­‰æ˜ function æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„ç‰©ä»¶ï¼Œä¹Ÿå¯ä»¥ç•¶ä½œç‰©ä»¶ä¾†ä½¿ç”¨ã€‚ </p><h2 id="è£œå……-å‡½å¼å›å‚³ä¸€å€‹å¦ä¸€å€‹å‡½å¼"><a href="#è£œå……-å‡½å¼å›å‚³ä¸€å€‹å¦ä¸€å€‹å‡½å¼" class="headerlink" title="è£œå…… : å‡½å¼å›å‚³ä¸€å€‹å¦ä¸€å€‹å‡½å¼"></a>è£œå…… : å‡½å¼å›å‚³ä¸€å€‹å¦ä¸€å€‹å‡½å¼</h2><p>èª¿ç”¨å‡½å¼èˆ‡å›å‚³çš„å‡½å¼æœ‰å¹¾ç¨®åšæ³•  </p><ol><li>å­˜æˆè®Šæ•¸<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello, Rosa!'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">const</span> myFunc <span class="token operator">=</span> <span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// myFunc æ¥æ”¶çš„æ˜¯ä¸€å€‹ function</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å‘¼å«</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>é›™æ‹¬è™Ÿç›´æ¥å‘¼å«<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello, Rosa!'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>IIFE (Immediately Invoked Function Expression): å®šç¾©å®Œå°±å›å‚³çš„ function<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello, Rosa!'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token function">sayhi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>IIFE çš„ä¾‹å­å¾ˆå¸¸åœ¨ JQuery çœ‹è¦‹  </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//$ = jQuery</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ol><li><a href="https://pjchender.blogspot.com/2016/03/javascriptfunctionobjects.html">[ç­†è¨˜] JavaScript ä¸­å‡½å¼å°±æ˜¯ä¸€ç¨®ç‰©ä»¶ â”€ è«‡è«‡ first class functionï¼ˆä¸€ç­‰å…¬æ°‘å‡½å¼ï¼‰ ~ PJCHENder é‚£äº›æ²’å‘Šè¨´ä½ çš„å°ç´°ç¯€</a></li><li><a href="https://developer.mozilla.org/zh-TW/docs/Glossary/First-class_Function">ä¸€ç´šå‡½å¼ï¼ˆFirst-class Functionï¼‰ - è¡“èªè¡¨ | MDN (mozilla.org)</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10224519">JS åŸåŠ›è¦ºé†’ Day19 - ä¸€ç´šå‡½å¼èˆ‡é«˜éšå‡½å¼</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;JavaScript ä¸­çš„ function æ˜¯å¾ˆç¥å¥‡çš„æ±è¥¿&lt;br&gt;åœ¨åˆå­¸æ™‚çœ‹åˆ°å¾ˆå¤šåè©&lt;br&gt;åƒ callback function(å›å‘¼å‡½å¼)ã€First-Class Function(ä¸€ç´šå‡½å¼)ã€High-Order Function(é«˜éšå‡½å¼)&lt;br&gt;é‚„æœ‰ Closure(é–‰åŒ…) ç­‰ç­‰çš„ï¼Œç¸½æ˜¯æœƒéœ§æ’’æ’’â€¦&lt;br&gt;æœ¬ç¯‡ä¾†åˆæ­¥èªè­˜ function ä¸­çš„ First-Class Function æ¦‚å¿µ   &lt;/p&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://blog.rosa.tw/tags/JavaScript/"/>
    
  </entry>
  
</feed>
